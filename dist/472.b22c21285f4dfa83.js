"use strict";(self.webpackChunkmodern_admin=self.webpackChunkmodern_admin||[]).push([[472],{34472:(qe,f,l)=>{l.r(f),l.d(f,{CentersModule:()=>Ze});var p=l(96814),m=l(12236),s=l(60095),v=l(5178),Z=l(46707),u=l.n(Z),C=l(30912),e=l(19212),x=l(6314),T=l(12746),h=l(17972),q=l(72547),b=l(1026);let A=(()=>{class i{transform(t,r){return r&&0!==r.length&&0!==t.length?t.filter(n=>{const a=-1!==n.name.toLowerCase().indexOf(r.toLowerCase()),d=-1!==n.expiryDate.toLowerCase().indexOf(r.toLowerCase());if(a||d)return n}):t}static#e=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275pipe=e.Yjl({name:"centerSort",type:i,pure:!0})}return i})();function U(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr",34),e.NdJ("dblclick",function(){const a=e.CHM(t).$implicit,d=e.oxw(),c=e.MAs(67);return e.KtG(d.openUpdateModal(c,a))}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"date"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"button",35),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.onDeleteCenter(a))}),e._uU(13," Delete "),e.qZA()()()}if(2&i){const t=o.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(e.xi3(5,4,t.modifiedDate,"dd MMM yyyy")),e.xp6(3),e.Oqu(e.xi3(8,7,t.expiryDate,"dd MMM yyyy")),e.xp6(3),e.Oqu(t.licenceInfo)}}function N(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(),e.hij("",t.paginationService.searchTotal," search results from ")}}const I=i=>({active:i});function L(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"li",47),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.paginationService.setPage(a))}),e.TgZ(1,"a",48),e._uU(2),e.qZA()()}if(2&i){const t=o.$implicit,r=e.oxw(2);e.Q6J("ngClass",e.VKq(2,I,r.paginationService.currentPage==t)),e.xp6(2),e.hij(" ",t," ")}}const g=i=>({disabled:i});function y(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"div",37)(2,"div",38),e._uU(3),e.YNc(4,N,2,1,"span",39),e._uU(5),e.qZA()(),e.TgZ(6,"div",37)(7,"div",40)(8,"ul",41)(9,"li",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.paginationService.setPage(1))}),e.TgZ(10,"a",43)(11,"span",44),e._uU(12,"\xab\xab"),e.qZA()()(),e.TgZ(13,"li",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.paginationService.goToPreviousPage())}),e.TgZ(14,"a",43)(15,"span",44),e._uU(16,"\xab"),e.qZA()()(),e.YNc(17,L,3,4,"li",45),e.TgZ(18,"li",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.paginationService.goToNextPage())}),e.TgZ(19,"a",46)(20,"span",44),e._uU(21,"\xbb"),e.qZA()()(),e.TgZ(22,"li",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.paginationService.setPage(n.paginationService.totalPages))}),e.TgZ(23,"a",46)(24,"span",44),e._uU(25,"\xbb\xbb"),e.qZA()()()()()()()}if(2&i){const t=e.oxw();e.xp6(3),e.AsE("Showing ",t.paginationService.startIndex," to ",t.paginationService.endIndex," of "),e.xp6(),e.Q6J("ngIf",t.paginationService.searchTerm),e.xp6(),e.hij(" ",t.paginationService.totalItems," entries "),e.xp6(4),e.Q6J("ngClass",e.VKq(9,g,1==t.paginationService.currentPage)),e.xp6(4),e.Q6J("ngClass",e.VKq(11,g,1==t.paginationService.currentPage)),e.xp6(4),e.Q6J("ngForOf",t.paginationService.paginationLinks),e.xp6(),e.Q6J("ngClass",e.VKq(13,g,t.paginationService.currentPage==t.paginationService.totalPages)),e.xp6(4),e.Q6J("ngClass",e.VKq(15,g,t.paginationService.currentPage==t.paginationService.totalPages))}}function S(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"Center name is required "),e.qZA())}function J(i,o){if(1&i&&(e.TgZ(0,"div",88),e.YNc(1,S,2,0,"div",39),e.qZA()),2&i){const t=e.oxw(2);e.xp6(),e.Q6J("ngIf",t.f.name.errors.required)}}function Q(i,o){1&i&&e._UZ(0,"i",89)}function k(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"Province is required"),e.qZA())}function M(i,o){if(1&i&&(e.TgZ(0,"div",88),e.YNc(1,k,2,0,"div",39),e.qZA()),2&i){const t=e.oxw(2);e.xp6(),e.Q6J("ngIf",t.f.provinceId.errors.required)}}function w(i,o){1&i&&e._UZ(0,"i",89)}function Y(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"Center Type is required"),e.qZA())}function D(i,o){if(1&i&&(e.TgZ(0,"div",88),e.YNc(1,Y,2,0,"div",39),e.qZA()),2&i){const t=e.oxw(2);e.xp6(),e.Q6J("ngIf",t.f.centerTypeId.errors.required)}}function P(i,o){1&i&&e._UZ(0,"i",89)}function E(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"Abbreviation is required"),e.qZA())}function K(i,o){if(1&i&&(e.TgZ(0,"div",88),e.YNc(1,E,2,0,"div",39),e.qZA()),2&i){const t=e.oxw(2);e.xp6(),e.Q6J("ngIf",t.f.prefix.errors.required)}}function F(i,o){1&i&&e._UZ(0,"i",89)}function B(i,o){1&i&&e._UZ(0,"div",88)}function G(i,o){1&i&&e._UZ(0,"i",89)}function V(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"Date is required "),e.qZA())}function H(i,o){if(1&i&&(e.TgZ(0,"div",88),e.YNc(1,V,2,0,"div",39),e.qZA()),2&i){const t=e.oxw(2);e.xp6(),e.Q6J("ngIf",t.f.expiryDate.errors.required)}}function j(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"Maximum number of licenses is required "),e.qZA())}function O(i,o){if(1&i&&(e.TgZ(0,"div",88),e.YNc(1,j,2,0,"div",39),e.qZA()),2&i){const t=e.oxw(2);e.xp6(),e.Q6J("ngIf",t.f.maximumLicense.errors.required)}}const _=i=>({"is-invalid":i});function z(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",49)(1,"h4",50),e._uU(2,"Center Maintenance"),e.qZA(),e.TgZ(3,"button",51),e.NdJ("click",function(){const a=e.CHM(t).dismiss;return e.KtG(a("Cross click"))}),e.qZA()(),e.TgZ(4,"form",52),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onSubmit())}),e.TgZ(5,"div",53)(6,"div",2),e._UZ(7,"input",54),e.qZA(),e.TgZ(8,"div",2)(9,"div",14)(10,"div",55)(11,"label",56),e._uU(12," Center Name: "),e.qZA(),e.TgZ(13,"div",57),e._UZ(14,"input",58),e.YNc(15,J,2,1,"div",59),e.qZA()()()(),e.TgZ(16,"div",2)(17,"div",14)(18,"div",55)(19,"label",60),e._uU(20," Province: "),e.YNc(21,Q,1,0,"i",61),e.qZA(),e.TgZ(22,"div",57)(23,"fieldset",62)(24,"select",63)(25,"option",64),e._uU(26,"--Select a Provinces--"),e.qZA(),e.TgZ(27,"option",65),e._uU(28,"Gauteng"),e.qZA(),e.TgZ(29,"option",66),e._uU(30,"KwaZulu-Natal"),e.qZA(),e.TgZ(31,"option",67),e._uU(32,"Eastern Cape"),e.qZA(),e.TgZ(33,"option",68),e._uU(34,"Free State"),e.qZA(),e.TgZ(35,"option",69),e._uU(36,"Limpopo"),e.qZA(),e.TgZ(37,"option",70),e._uU(38,"Mpumalanga"),e.qZA(),e.TgZ(39,"option",71),e._uU(40,"North West"),e.qZA(),e.TgZ(41,"option",72),e._uU(42,"Northern Cape"),e.qZA(),e.TgZ(43,"option",73),e._uU(44,"Western Cape"),e.qZA()()(),e.YNc(45,M,2,1,"div",59),e.qZA()()()(),e.TgZ(46,"div",2)(47,"div",14)(48,"div",55)(49,"label",74),e._uU(50," Center Type: "),e.YNc(51,w,1,0,"i",61),e.qZA(),e.TgZ(52,"div",57)(53,"fieldset",62)(54,"select",75)(55,"option",64),e._uU(56,"--Select Center Type--"),e.qZA(),e.TgZ(57,"option",65),e._uU(58,"School"),e.qZA(),e.TgZ(59,"option",66),e._uU(60,"Examination Body"),e.qZA(),e.TgZ(61,"option",67),e._uU(62,"Home Learning"),e.qZA(),e.TgZ(63,"option",68),e._uU(64,"University / College"),e.qZA()(),e._UZ(65,"div",76),e.qZA(),e.YNc(66,D,2,1,"div",59),e.qZA()()()(),e.TgZ(67,"div",2)(68,"div",14)(69,"div",55)(70,"label",77),e._uU(71," Center Abbreviation: "),e.YNc(72,P,1,0,"i",61),e.qZA(),e.TgZ(73,"div",57),e._UZ(74,"input",78),e.YNc(75,K,2,1,"div",59),e.qZA()()()(),e.TgZ(76,"div",2)(77,"div",14)(78,"div",55)(79,"label",79),e._uU(80," IEB-CP Code (optional): "),e.YNc(81,F,1,0,"i",61),e.qZA(),e.TgZ(82,"div",57),e._UZ(83,"input",80),e.YNc(84,B,1,0,"div",59),e.qZA()()()(),e.TgZ(85,"div",2)(86,"div",14)(87,"div",55)(88,"label",81),e._uU(89," Expiry Date: "),e.YNc(90,G,1,0,"i",61),e.qZA(),e.TgZ(91,"div",57),e._UZ(92,"input",82),e.YNc(93,H,2,1,"div",59),e.qZA()()()(),e.TgZ(94,"div",2)(95,"div",14)(96,"div",55)(97,"label",83),e._uU(98," Maximum Number of Licenses: "),e.qZA(),e.TgZ(99,"div",57),e._UZ(100,"input",84),e.YNc(101,O,2,1,"div",59),e.qZA()()()()(),e.TgZ(102,"div",85)(103,"button",86),e.NdJ("click",function(){const a=e.CHM(t).dismiss;return e.KtG(a("Close modal"))}),e._uU(104," Close "),e.qZA(),e.TgZ(105,"button",87),e._uU(106," Save changes "),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(10),e.Q6J("ngClass",e.VKq(17,_,t.submitted&&t.f.name.errors)),e.xp6(),e.Q6J("ngIf",t.submitted&&t.f.name.errors),e.xp6(6),e.Q6J("ngIf",t.f.provinceId.errors&&t.f.provinceId.errors.required),e.xp6(24),e.Q6J("ngIf",t.submitted&&t.f.provinceId.errors),e.xp6(6),e.Q6J("ngIf",t.f.centerTypeId.errors&&t.f.centerTypeId.errors.required),e.xp6(15),e.Q6J("ngIf",t.submitted&&t.f.centerTypeId.errors),e.xp6(6),e.Q6J("ngIf",t.f.prefix.errors&&t.f.prefix.errors.required),e.xp6(2),e.Q6J("ngClass",e.VKq(19,_,t.submitted&&t.f.prefix.errors)),e.xp6(),e.Q6J("ngIf",t.submitted&&t.f.prefix.errors),e.xp6(6),e.Q6J("ngIf",t.f.centerNo.errors&&t.f.centerNo.errors.required),e.xp6(3),e.Q6J("ngIf",t.submitted&&t.f.centerNo.errors),e.xp6(6),e.Q6J("ngIf",t.f.expiryDate.errors&&t.f.expiryDate.errors.required),e.xp6(2),e.Q6J("ngClass",e.VKq(21,_,t.submitted&&t.f.expiryDate.errors)),e.xp6(),e.Q6J("ngIf",t.submitted&&t.f.expiryDate.errors),e.xp6(7),e.Q6J("ngClass",e.VKq(23,_,t.submitted&&t.f.maximumLicense.errors)),e.xp6(),e.Q6J("ngIf",t.submitted&&t.f.maximumLicense.errors)}}function W(i,o){1&i&&e._UZ(0,"i",89)}function $(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"Center name is required "),e.qZA())}function R(i,o){if(1&i&&(e.TgZ(0,"div",88),e.YNc(1,$,2,0,"div",39),e.qZA()),2&i){const t=e.oxw(2);e.xp6(),e.Q6J("ngIf",t.f.centerNo.errors.required)}}function X(i,o){1&i&&e._UZ(0,"i",89)}function ee(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"Province is required"),e.qZA())}function te(i,o){if(1&i&&(e.TgZ(0,"div",88),e.YNc(1,ee,2,0,"div",39),e.qZA()),2&i){const t=e.oxw(2);e.xp6(),e.Q6J("ngIf",t.f.provinceId.errors.required)}}function ie(i,o){1&i&&e._UZ(0,"i",89)}function ne(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"Center Type is required"),e.qZA())}function re(i,o){if(1&i&&(e.TgZ(0,"div",88),e.YNc(1,ne,2,0,"div",39),e.qZA()),2&i){const t=e.oxw(2);e.xp6(),e.Q6J("ngIf",t.f.centerTypeId.errors.required)}}function oe(i,o){1&i&&e._UZ(0,"i",89)}function se(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"Abbreviation is required"),e.qZA())}function ae(i,o){if(1&i&&(e.TgZ(0,"div",88),e.YNc(1,se,2,0,"div",39),e.qZA()),2&i){const t=e.oxw(2);e.xp6(),e.Q6J("ngIf",t.f.prefix.errors.required)}}function ce(i,o){1&i&&e._UZ(0,"i",89)}function de(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"IEB-CP code is required"),e.qZA())}function le(i,o){if(1&i&&(e.TgZ(0,"div",88),e.YNc(1,de,2,0,"div",39),e.qZA()),2&i){const t=e.oxw(2);e.xp6(),e.Q6J("ngIf",t.f.centerNo.errors.required)}}function _e(i,o){1&i&&e._UZ(0,"i",89)}function pe(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"Date is required "),e.qZA())}function me(i,o){if(1&i&&(e.TgZ(0,"div",88),e.YNc(1,pe,2,0,"div",39),e.qZA()),2&i){const t=e.oxw(2);e.xp6(),e.Q6J("ngIf",t.f.expiryDate.errors.required)}}function ue(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"Maximum number of licenses is required "),e.qZA())}function ge(i,o){if(1&i&&(e.TgZ(0,"div",88),e.YNc(1,ue,2,0,"div",39),e.qZA()),2&i){const t=e.oxw(2);e.xp6(),e.Q6J("ngIf",t.f.maximumLicense.errors.required)}}function fe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",49)(1,"h4",50),e._uU(2,"Center Maintenance"),e.qZA(),e.TgZ(3,"button",51),e.NdJ("click",function(){const a=e.CHM(t).dismiss;return e.KtG(a("Cross click"))}),e.qZA()(),e.TgZ(4,"form",52),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onEditSubmit())}),e.TgZ(5,"div",53)(6,"div",2),e._UZ(7,"input",54),e.qZA(),e.TgZ(8,"div",2)(9,"div",14)(10,"div",55)(11,"label",56),e._uU(12," Center Name: "),e.YNc(13,W,1,0,"i",61),e.qZA(),e.TgZ(14,"div",57),e._UZ(15,"input",58),e.YNc(16,R,2,1,"div",59),e.qZA()()()(),e.TgZ(17,"div",2)(18,"div",14)(19,"div",55)(20,"label",60),e._uU(21," Province: "),e.YNc(22,X,1,0,"i",61),e.qZA(),e.TgZ(23,"div",57)(24,"fieldset",62)(25,"select",63)(26,"option",64),e._uU(27,"--Select a Provinces--"),e.qZA(),e.TgZ(28,"option",65),e._uU(29,"Gauteng"),e.qZA(),e.TgZ(30,"option",66),e._uU(31,"KwaZulu-Natal"),e.qZA(),e.TgZ(32,"option",67),e._uU(33,"Eastern Cape"),e.qZA(),e.TgZ(34,"option",68),e._uU(35,"Free State"),e.qZA(),e.TgZ(36,"option",69),e._uU(37,"Limpopo"),e.qZA(),e.TgZ(38,"option",70),e._uU(39,"Mpumalanga"),e.qZA(),e.TgZ(40,"option",71),e._uU(41,"North West"),e.qZA(),e.TgZ(42,"option",72),e._uU(43,"Northern Cape"),e.qZA(),e.TgZ(44,"option",73),e._uU(45,"Western Cape"),e.qZA()()(),e.YNc(46,te,2,1,"div",59),e.qZA()()()(),e.TgZ(47,"div",2)(48,"div",14)(49,"div",55)(50,"label",74),e._uU(51," Center Type: "),e.YNc(52,ie,1,0,"i",61),e.qZA(),e.TgZ(53,"div",57)(54,"fieldset",62)(55,"select",75)(56,"option",64),e._uU(57,"--Select Center Type--"),e.qZA(),e.TgZ(58,"option",65),e._uU(59,"School"),e.qZA(),e.TgZ(60,"option",66),e._uU(61,"Examination Body"),e.qZA(),e.TgZ(62,"option",67),e._uU(63,"Home Learning"),e.qZA(),e.TgZ(64,"option",68),e._uU(65,"University / College"),e.qZA()(),e._UZ(66,"div",76),e.qZA(),e.YNc(67,re,2,1,"div",59),e.qZA()()()(),e.TgZ(68,"div",2)(69,"div",14)(70,"div",55)(71,"label",77),e._uU(72," Center Abbreviation: "),e.YNc(73,oe,1,0,"i",61),e.qZA(),e.TgZ(74,"div",57),e._UZ(75,"input",78),e.YNc(76,ae,2,1,"div",59),e.qZA()()()(),e.TgZ(77,"div",2)(78,"div",14)(79,"div",55)(80,"label",90),e._uU(81," IEB-CP Code (optional): "),e.YNc(82,ce,1,0,"i",61),e.qZA(),e.TgZ(83,"div",57),e._UZ(84,"input",91),e.YNc(85,le,2,1,"div",59),e.qZA()()()(),e.TgZ(86,"div",2)(87,"div",14)(88,"div",55)(89,"label",81),e._uU(90," Expiry Date: "),e.YNc(91,_e,1,0,"i",61),e.qZA(),e.TgZ(92,"div",57),e._UZ(93,"input",82),e.YNc(94,me,2,1,"div",59),e.qZA()()()(),e.TgZ(95,"div",2)(96,"div",14)(97,"div",55)(98,"label",83),e._uU(99," Maximum Number of Licenses: "),e.qZA(),e.TgZ(100,"div",57),e._UZ(101,"input",84),e.YNc(102,ge,2,1,"div",59),e.qZA()()()()(),e.TgZ(103,"div",85)(104,"button",92),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(),a=e.MAs(67);return e.KtG(n.onCenterLogin(a,n.centers))}),e._uU(105," Login "),e.qZA(),e.TgZ(106,"button",86),e.NdJ("click",function(){const a=e.CHM(t).dismiss;return e.KtG(a("Close modal"))}),e._uU(107," Close "),e.qZA(),e.TgZ(108,"button",87),e._uU(109," Save changes "),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(9),e.Q6J("ngIf",t.f.centerNo.errors&&t.f.centerNo.errors.required),e.xp6(2),e.Q6J("ngClass",e.VKq(19,_,t.submitted&&t.f.centerNo.errors)),e.xp6(),e.Q6J("ngIf",t.submitted&&t.f.centerNo.errors),e.xp6(6),e.Q6J("ngIf",t.f.provinceId.errors&&t.f.provinceId.errors.required),e.xp6(24),e.Q6J("ngIf",t.submitted&&t.f.provinceId.errors),e.xp6(6),e.Q6J("ngIf",t.f.centerTypeId.errors&&t.f.centerTypeId.errors.required),e.xp6(15),e.Q6J("ngIf",t.submitted&&t.f.centerTypeId.errors),e.xp6(6),e.Q6J("ngIf",t.f.prefix.errors&&t.f.prefix.errors.required),e.xp6(2),e.Q6J("ngClass",e.VKq(21,_,t.submitted&&t.f.prefix.errors)),e.xp6(),e.Q6J("ngIf",t.submitted&&t.f.prefix.errors),e.xp6(6),e.Q6J("ngIf",t.f.centerNo.errors&&t.f.centerNo.errors.required),e.xp6(2),e.Q6J("ngClass",e.VKq(23,_,t.submitted&&t.f.centerNo.errors)),e.xp6(),e.Q6J("ngIf",t.submitted&&t.f.centerNo.errors),e.xp6(6),e.Q6J("ngIf",t.f.expiryDate.errors&&t.f.expiryDate.errors.required),e.xp6(2),e.Q6J("ngClass",e.VKq(25,_,t.submitted&&t.f.expiryDate.errors)),e.xp6(),e.Q6J("ngIf",t.submitted&&t.f.expiryDate.errors),e.xp6(7),e.Q6J("ngClass",e.VKq(27,_,t.submitted&&t.f.maximumLicense.errors)),e.xp6(),e.Q6J("ngIf",t.submitted&&t.f.maximumLicense.errors)}}const ve=[{path:"",component:(()=>{class i{constructor(t,r,n,a,d,c,xe,Te,he){this.storage=t,this.modalService=r,this.centerService=n,this.authService=a,this.formBuilder=d,this.paginationService=c,this.datePipe=xe,this.router=Te,this.route=he,this.centers=[],this.isAllSelected=!1,this.isPageLoaded=!1,this.selectedCenterIds=[],this.submitted=!1,this.loading=!1,this.duration=50,this.currentUrl=""}ngOnInit(){this.paginationService.setData([]),this.getCenters(),this.initForms(),this.user=this.storage.getUser(),this.route.url.subscribe(t=>{this.currentUrl=t.map(r=>r.path).join("/")})}get f(){return this.form.controls}getCenters(){this.centerService.get().subscribe(t=>{this.centers=t,this.paginationService.setData(t),this.paginationService.onSearchInputChange("")})}initEditForms(t){this.centerIdClicked=t.id;const r=this.datePipe.transform(t.expiryDate,"yyyy-MM-dd");this.form=this.formBuilder.group({id:[t.id,[s.kI.required]],centerTypeId:[t.centerTypeId,s.kI.required],prefix:[t.prefix,[s.kI.required]],name:[t.name,[s.kI.required]],expiryDate:[r,[s.kI.required]],centerNo:[t.centerNo,[s.kI.required]],IEBCPCode:[""],provinceId:[t.provinceId,[s.kI.required]],maximumLicense:[t.maximumLicense,[s.kI.required]]}),this.submitted=!1}initForms(){this.form=this.formBuilder.group({centerTypeId:["",s.kI.required],prefix:["",[s.kI.required]],name:["",[s.kI.required]],expiryDate:[this.datePipe.transform(new Date,"yyyy/MM/dd"),[s.kI.required]],centerNo:["",[s.kI.required]],provinceId:["",[s.kI.required]],maximumLicense:["",[s.kI.required]]}),this.submitted=!1}onCenterLogin(){this.authService.loginAdmin(this.user.username,"password@01",this.centerIdClicked,"iPpd@jsoa5dpjo1s").subscribe(t=>{this.user=t,this.storage.saveUser(t),this.storage.saveToken(t.token),window.location.reload()}),this.router.navigate(["/portal"])}startTimer(t){this.timer=setInterval(()=>{--this.duration},t)}stopTimer(){this.timer&&(clearInterval(this.timer),window.location.reload())}onDeleteCenter(t){this.initEditForms(t),u().fire({title:"Are you sure you want to delete this center?",text:"This will delete the center",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(r=>{r.value&&this.centerService.delete(t.id).subscribe(()=>{this.getCenters(),u().fire("Center Deleted","Center deleted successfully.","success")})})}onSelectAll(){this.isAllSelected=!this.isAllSelected,this.selectedCenterIds=[],this.isAllSelected&&this.paginationService.searchedData.forEach(t=>{this.selectedCenterIds.push(t.id)})}onSort({column:t,direction:r}){if(this.headers.forEach(n=>{n.sortable!==t&&(n.direction="")}),""===r||""===t)this.paginationService.paginatedData=this.paginationService.paginatedData;else{const n=this.paginationService.paginatedData.sort((a,d)=>{const c=(0,C.q)(a[t],d[t]);return"asc"===r?c:-c});this.paginationService.paginatedData=[...n]}}onEditSubmit(){this.submitted=!0,!this.form.invalid&&this.centerService.update(this.f.id.value,this.form.value).subscribe(()=>{this.getCenters(),this.initForms(),this.modalService.dismissAll(),u().fire("Center Updated","Center information updated.","success")})}onSubmit(){this.submitted=!0,!this.form.invalid&&this.centerService.create(this.form.value).subscribe(()=>{this.getCenters(),this.initForms(),this.modalService.dismissAll(),u().fire("Center Saved","Center information saved. You may capture a new center.","success")})}openUpdateModal(t,r){this.initEditForms(r),this.modalService.open(t,v.U.lg)}openModal(t){this.form.reset(),this.modalService.open(t,v.U.md)}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(x.i),e.Y36(T.FF),e.Y36(h.F),e.Y36(q.e),e.Y36(s.QS),e.Y36(b.N),e.Y36(p.uU),e.Y36(m.F0),e.Y36(m.gz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-list-centers"]],viewQuery:function(r,n){if(1&r&&e.Gf(C.e,5),2&r){let a;e.iGM(a=e.CRH())&&(n.headers=a)}},decls:68,vars:11,consts:[[1,"content-body"],["id","horizontal-form-layouts"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-content","collpase","show"],[1,"card-body"],[1,"form","form-horizontal"],[1,"form-body"],[1,"form-section"],[1,"la","la-eye"],[1,"col-md-2"],[1,"form-group"],["type","button",1,"btn","btn-info","btn-min-width",3,"click"],[1,"col-lg-12"],[1,"table-responsive",2,"width","100%"],["id","CentreListDatatable_wrapper",1,"dataTables_wrapper","dt-bootstrap4","no-footer"],[1,"col-sm-12","col-md-6"],["id","CentreListDatatable_length",1,"dataTables_length"],["name","CentreListDatatable_length","aria-controls","tickets-table","name","pageSize",1,"form-control","form-control-sm","mx-2",3,"ngModel","ngModelChange"],[3,"ngValue"],["id","CentreListDatatable_filter",1,"dataTables_filter","text-md-end"],[1,"d-inline-flex","align-items-center"],["type","text","name","searchTerm","aria-controls","tickets-table",1,"form-control","form-control-sm","ms-2",3,"ngModel","ngModelChange","input"],[1,"table-responsive"],[1,"table","table-striped","table-bordered","no-footer","dataTable"],[1,"bg-info","white"],[2,"display","none"],["sortable","name",3,"sort"],[1,"la","la-sort","float-md-end"],[3,"dblclick",4,"ngFor","ngForOf"],["class","row justify-content-md-between align-items-md-center mt-2",4,"ngIf"],["addCenterModal",""],["editCenterModal",""],[3,"dblclick"],["id","btnDeleteCentere","type","button",1,"btn","btn-block","btn-primary","glow",2,"width","100px",3,"click"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[4,"ngIf"],[1,"text-md-right","float-md-end","pagination-rounded"],[1,"pagination"],[1,"page-item","ng-star-inserted",3,"ngClass","click"],["aria-label","Previous","href","javascript:void(0);",1,"page-link"],["aria-hidden","true",1,"ng-star-inserted"],["class","page-item ng-star-inserted","aria-current","page",3,"ngClass","click",4,"ngFor","ngForOf"],["aria-label","Next","href","javascript:void(0);",1,"page-link"],["aria-current","page",1,"page-item","ng-star-inserted",3,"ngClass","click"],["href","javascript:void(0);",1,"page-link","ng-star-inserted"],[1,"modal-header"],["id","myModalLabel1",1,"modal-title"],["type","button","aria-hidden","true",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],[1,"modal-body"],["type","hidden","id","CenterID",1,"form-control"],[1,"form-group","row"],["for","code","data-toggle","tooltip","title","Code",1,"col-md-3","label-control"],[1,"col-md-9","mx-auto"],["type","text","id","centerName","name","code","placeholder","Enter the center name","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","provinceId","data-toggle","tooltip","title","",1,"col-md-3","label-control"],["class","fa fa-asterisk text-danger",4,"ngIf"],[1,"position-relative"],["id","ddlProvinces","name","interested","formControlName","provinceId",1,"form-control","form-select"],["value",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["for","centerTypeId","data-toggle","tooltip","title","Code",1,"col-md-3","label-control"],["id","ddlCenterType","name","interested","formControlName","centerTypeId",1,"form-control","form-select"],[1,"help-block","font-small-3"],["for","prefix","data-toggle","tooltip","title","Code",1,"col-md-3","label-control"],["type","text","id","prefix","placeholder","Enter the Abbreviation","formControlName","prefix","maxlength","50",1,"form-control",3,"ngClass"],["for","IEBCPCode","data-toggle","tooltip","title","IEBCPCode",1,"col-md-3","label-control"],["id","centerNo","name","centerNo","placeholder","Enter the IEB-CP code","formControlName","centerNo",1,"form-control"],["for","expiryDate","data-toggle","tooltip","title","Code",1,"col-md-3","label-control"],["type","date","id","expiryDate","name","expiryDate","formControlName","expiryDate",1,"form-control",3,"ngClass"],["for","maximumLicense","data-toggle","tooltip","title","Code",1,"col-md-3","label-control"],["type","number","id","maximumLicense","placeholder","Enter the maximum license number","formControlName","maximumLicense","maxlength","50",1,"form-control",3,"ngClass"],[1,"modal-footer"],["type","button","ngbAutofocus","",1,"btn","grey","btn-outline-secondary",3,"click"],["type","submit",1,"btn","btn-outline-primary"],[1,"invalid-feedback"],[1,"fa","fa-asterisk","text-danger"],["for","centerNo","data-toggle","tooltip","title","centerNo",1,"col-md-3","label-control"],["id","centerNo","placeholder","Enter the IEB-CP code","formControlName","centerNo","type","number",1,"form-control",3,"ngClass"],["type","button",1,"btn","grey","btn-outline-secondary",3,"click"]],template:function(r,n){if(1&r){const a=e.EpF();e.TgZ(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"form",7)(8,"div",8)(9,"h4",9),e._UZ(10,"i",10),e._uU(11,"View Centers"),e.qZA(),e.TgZ(12,"div",2)(13,"div",11)(14,"div",12)(15,"button",13),e.NdJ("click",function(){e.CHM(a);const c=e.MAs(65);return e.KtG(n.openModal(c))}),e._uU(16," Add New "),e.qZA()()()(),e.TgZ(17,"div",2)(18,"div",14)(19,"div",15)(20,"div",16)(21,"div",2)(22,"div",17)(23,"div",18)(24,"label"),e._uU(25," Show "),e.TgZ(26,"select",19),e.NdJ("ngModelChange",function(c){return n.paginationService.pageSize=c})("ngModelChange",function(c){return n.paginationService.setPageSize(c)}),e.TgZ(27,"option",20),e._uU(28,"10"),e.qZA(),e.TgZ(29,"option",20),e._uU(30,"25"),e.qZA(),e.TgZ(31,"option",20),e._uU(32,"50"),e.qZA(),e.TgZ(33,"option",20),e._uU(34,"100"),e.qZA()(),e._uU(35," entries "),e.qZA()()(),e.TgZ(36,"div",17)(37,"div",21)(38,"label",22),e._uU(39," Search: "),e.TgZ(40,"input",23),e.NdJ("ngModelChange",function(c){return n.paginationService.searchTerm=c})("input",function(c){return n.paginationService.onSearchInputChange(c.target.value)}),e.qZA()()()()(),e.TgZ(41,"div",24)(42,"table",25)(43,"thead",26)(44,"tr")(45,"th",27),e._uU(46,"SectorID"),e.qZA(),e.TgZ(47,"th",28),e.NdJ("sort",function(c){return n.onSort(c)}),e._uU(48," Name "),e._UZ(49,"i",29),e.qZA(),e.TgZ(50,"th",28),e.NdJ("sort",function(c){return n.onSort(c)}),e._uU(51," Modified Date "),e._UZ(52,"i",29),e.qZA(),e.TgZ(53,"th",28),e.NdJ("sort",function(c){return n.onSort(c)}),e._uU(54," Expiry Date "),e._UZ(55,"i",29),e.qZA(),e.TgZ(56,"th",28),e.NdJ("sort",function(c){return n.onSort(c)}),e._uU(57," License Info"),e.qZA(),e.TgZ(58,"th"),e._uU(59,"Delete User"),e.qZA()()(),e.TgZ(60,"tbody"),e.YNc(61,U,14,10,"tr",30),e.ALo(62,"centerSort"),e.qZA()()()()()()(),e.YNc(63,y,26,17,"div",31),e.qZA()()()()()()()()(),e.YNc(64,z,107,25,"ng-template",null,32,e.W1O)(66,fe,110,29,"ng-template",null,33,e.W1O)}2&r&&(e.xp6(26),e.Q6J("ngModel",n.paginationService.pageSize),e.xp6(),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",25),e.xp6(2),e.Q6J("ngValue",50),e.xp6(2),e.Q6J("ngValue",100),e.xp6(7),e.Q6J("ngModel",n.paginationService.searchTerm),e.xp6(21),e.Q6J("ngForOf",e.xi3(62,8,n.paginationService.paginatedData,n.filter)),e.xp6(2),e.Q6J("ngIf",n.paginationService.totalItems))},dependencies:[p.mk,p.sg,p.O5,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.nD,s.On,s.F,s.sg,s.u,p.uU,A]})}return i})()}];let Ce=(()=>{class i{static#e=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[m.Bz.forChild(ve),m.Bz]})}return i})(),Ze=(()=>{class i{static#e=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({providers:[p.uU],imports:[p.ez,s.u5,s.UX,Ce]})}return i})()}}]);