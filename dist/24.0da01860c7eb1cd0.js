"use strict";(self.webpackChunkmodern_admin=self.webpackChunkmodern_admin||[]).push([[24],{30912:(T,h,g)=>{g.d(h,{e:()=>v,q:()=>p});var u=g(19212);const d={asc:"desc",desc:"","":"asc"},p=(t,a)=>t<a?-1:t>a?1:0;let v=(()=>{class t{constructor(){this.sortable="",this.direction="",this.sort=new u.vpe}rotate(){this.direction=d[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}static#t=this.\u0275fac=function(c){return new(c||t)};static#e=this.\u0275dir=u.lG2({type:t,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(c,m){1&c&&u.NdJ("click",function(){return m.rotate()}),2&c&&u.ekj("asc","asc"===m.direction)("desc","desc"===m.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}})}return t})()},1026:(T,h,g)=>{g.d(h,{N:()=>d});var u=g(19212);let d=(()=>{class p{constructor(){this.startIndex=0,this.endIndex=0,this.paginationLinks=[],this.totalPages=1,this.searchTotal=0,this.currentPage=1,this.pageSize=10,this.totalItems=0,this.sortConfig={key:"",direction:"asc"},this.searchTerm="",this.sourceData=[]}generatePaginationLinks(){const a=Math.ceil(this.searchTotal/this.pageSize),o=this.currentPage;let c=1,m=a<=10?a:10;a>10&&(o<=6?m=10:o+4>=a?(c=a-9,m=a):(c=o-5,m=o+4)),this.paginationLinks=Array.from({length:m-c+1},(_,f)=>c+f)}goToNextPage(){this.currentPage<this.totalPages&&this.setPage(this.currentPage+1)}goToPreviousPage(){this.currentPage>1&&this.setPage(this.currentPage-1)}onSearchInputChange(t){this.setSearchQuery(t),this.filterData(this.sourceData),this.setPage(1),this.paginate()}setPage(t){this.currentPage=t,this.paginate()}setPageSize(t){this.pageSize=t,this.setPage(1),this.paginate()}setSortConfig(t,a){this.sortConfig.key=t,this.sortConfig.direction=a}setSearchQuery(t){this.searchTerm=t}setData(t){this.sourceData=t,this.updateTotalItems(),this.paginate()}toggleSortDirection(){this.sortConfig.direction="asc"===this.sortConfig.direction?"desc":"asc"}filterData(t){if(!this.searchTerm)return this.searchedData=t,this.searchTotal=t.length,t;const a=this.searchTerm.toLowerCase();return this.searchedData=t.filter(o=>Object.values(o).some(c=>c?.toString()?.toLowerCase()?.includes(a))),this.searchTotal=this.searchedData.length,this.searchedData}sortData(t){const{key:a,direction:o}=this.sortConfig;return a?t.sort((c,m)=>{const _=c[a],f=m[a];return _<f?"asc"===o?-1:1:_>f?"asc"===o?1:-1:0}):t}updateTotalItems(){const t=this.filterData(this.sourceData);this.totalItems=t.length}paginate(){const t=this.filterData(this.sourceData),a=this.sortData(t),o=(this.currentPage-1)*this.pageSize;this.totalPages=Math.ceil(t.length/this.pageSize),this.startIndex=o+1,this.endIndex=Math.min(o+this.pageSize,a.length),this.paginatedData=a.slice(o,this.endIndex),this.generatePaginationLinks()}static#t=this.\u0275fac=function(a){return new(a||p)};static#e=this.\u0275prov=u.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},34024:(T,h,g)=>{g.r(h),g.d(h,{CenterSummaryModule:()=>b});var u=g(96814),d=g(60095),p=g(12236),v=g(30912),t=g(19212),a=g(17972),o=g(1026);let c=(()=>{class n{transform(e,r){return r&&0!==r.length&&0!==e.length?e.filter(i=>{const l=-1!==i.name.toLowerCase().indexOf(r.toLowerCase()),s=-1!==i.lastUsedUpdate.toLowerCase().indexOf(r.toLowerCase());if(l||s)return i}):e}static#t=this.\u0275fac=function(r){return new(r||n)};static#e=this.\u0275pipe=t.Yjl({name:"centerSummarySort",type:n,pure:!0})}return n})();function m(n,S){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA()()),2&n){const e=S.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.maximumLicense),t.xp6(2),t.Oqu(t.xi3(7,6,e.lastUsedUpdate,"dd MMM yyyy")),t.xp6(3),t.Oqu(e.registeredTests),t.xp6(2),t.Oqu(e.studentsLinked),t.xp6(2),t.Oqu(e.studentsCompleted)}}function _(n,S){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(),t.hij("",e.paginationService.searchTotal," search results from ")}}const f=n=>({active:n});function Z(n,S){if(1&n){const e=t.EpF();t.TgZ(0,"li",35),t.NdJ("click",function(){const l=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.paginationService.setPage(l))}),t.TgZ(1,"a",36),t._uU(2),t.qZA()()}if(2&n){const e=S.$implicit,r=t.oxw(2);t.Q6J("ngClass",t.VKq(2,f,r.paginationService.currentPage==e)),t.xp6(2),t.hij(" ",e," ")}}const C=n=>({disabled:n});function y(n,S){if(1&n){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",25)(2,"div",26),t._uU(3),t.YNc(4,_,2,1,"span",27),t._uU(5),t.qZA()(),t.TgZ(6,"div",25)(7,"div",28)(8,"ul",29)(9,"li",30),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.paginationService.setPage(1))}),t.TgZ(10,"a",31)(11,"span",32),t._uU(12,"\xab\xab"),t.qZA()()(),t.TgZ(13,"li",30),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.paginationService.goToPreviousPage())}),t.TgZ(14,"a",31)(15,"span",32),t._uU(16,"\xab"),t.qZA()()(),t.YNc(17,Z,3,4,"li",33),t.TgZ(18,"li",30),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.paginationService.goToNextPage())}),t.TgZ(19,"a",34)(20,"span",32),t._uU(21,"\xbb"),t.qZA()()(),t.TgZ(22,"li",30),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.paginationService.setPage(i.paginationService.totalPages))}),t.TgZ(23,"a",34)(24,"span",32),t._uU(25,"\xbb\xbb"),t.qZA()()()()()()()}if(2&n){const e=t.oxw();t.xp6(3),t.AsE("Showing ",e.paginationService.startIndex," to ",e.paginationService.endIndex," of "),t.xp6(),t.Q6J("ngIf",e.paginationService.searchTerm),t.xp6(),t.hij(" ",e.paginationService.totalItems," entries "),t.xp6(4),t.Q6J("ngClass",t.VKq(9,C,1==e.paginationService.currentPage)),t.xp6(4),t.Q6J("ngClass",t.VKq(11,C,1==e.paginationService.currentPage)),t.xp6(4),t.Q6J("ngForOf",e.paginationService.paginationLinks),t.xp6(),t.Q6J("ngClass",t.VKq(13,C,e.paginationService.currentPage==e.paginationService.totalPages)),t.xp6(4),t.Q6J("ngClass",t.VKq(15,C,e.paginationService.currentPage==e.paginationService.totalPages))}}const x=[{path:"",component:(()=>{class n{constructor(e,r){this.centerService=e,this.paginationService=r,this.centers=[]}ngOnInit(){this.paginationService.setData([]),this.getCenterSummaryList()}getCenterSummaryList(){this.centerService.search([]).subscribe(e=>{this.centers=e,this.paginationService.setData(e),this.paginationService.onSearchInputChange("")})}onSort(e){}static#t=this.\u0275fac=function(r){return new(r||n)(t.Y36(a.F),t.Y36(o.N))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-center-summary"]],viewQuery:function(r,i){if(1&r&&t.Gf(v.e,5),2&r){let l;t.iGM(l=t.CRH())&&(i.headers=l)}},decls:52,vars:11,consts:[[1,"content-body"],[1,"users-list-wrapper"],[1,"users-list-filter","px-1"],[1,"row","border","border-light","rounded","py-2","mb-2"],[1,"row","mb-md-2"],[1,"col-sm-12","col-md-6"],["id","tickets-table_length",1,"dataTables_length"],[1,"d-inline-flex","align-items-center"],["name","pageSize",1,"form-control","form-control-sm","mx-2",3,"ngModel","ngModelChange"],[3,"ngValue"],["id","tickets-table_filter",1,"dataTables_filter","text-md-end"],["type","text","name","searchTerm","aria-controls","tickets-table",1,"form-control","form-control-sm","ms-2",3,"ngModel","ngModelChange","input"],[1,"row"],[1,"col-lg-12"],[1,"table-responsive"],[1,"table","table-striped","table-bordered","no-footer","dataTable"],[1,"bg-info","white"],["sortable","name",3,"sort"],[1,"la","la-sort",2,"background-color","transparent","color","#000000"],["sortable","surname",3,"sort"],["sortable","examNo",3,"sort"],["sortable","idNumber",3,"sort"],[4,"ngFor","ngForOf"],["class","row justify-content-md-between align-items-md-center mt-2",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[4,"ngIf"],[1,"text-md-right","float-md-end","pagination-rounded"],[1,"pagination"],[1,"page-item","ng-star-inserted",3,"ngClass","click"],["aria-label","Previous","href","javascript:void(0);",1,"page-link"],["aria-hidden","true",1,"ng-star-inserted"],["class","page-item ng-star-inserted","aria-current","page",3,"ngClass","click",4,"ngFor","ngForOf"],["aria-label","Next","href","javascript:void(0);",1,"page-link"],["aria-current","page",1,"page-item","ng-star-inserted",3,"ngClass","click"],["href","javascript:void(0);",1,"page-link","ng-star-inserted"]],template:function(r,i){1&r&&(t.TgZ(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),t._uU(8," Show "),t.TgZ(9,"select",8),t.NdJ("ngModelChange",function(s){return i.paginationService.pageSize=s})("ngModelChange",function(s){return i.paginationService.setPageSize(s)}),t.TgZ(10,"option",9),t._uU(11,"10"),t.qZA(),t.TgZ(12,"option",9),t._uU(13,"25"),t.qZA(),t.TgZ(14,"option",9),t._uU(15,"50"),t.qZA(),t.TgZ(16,"option",9),t._uU(17,"100"),t.qZA()(),t._uU(18," entries "),t.qZA()()(),t.TgZ(19,"div",5)(20,"div",10)(21,"label",7),t._uU(22," Search: "),t.TgZ(23,"input",11),t.NdJ("ngModelChange",function(s){return i.paginationService.searchTerm=s})("input",function(s){return i.paginationService.onSearchInputChange(s.target.value)}),t.qZA()()()()()()()(),t.TgZ(24,"div",12)(25,"div",13)(26,"div",14)(27,"table",15)(28,"thead",16)(29,"tr")(30,"th",17),t.NdJ("sort",function(s){return i.onSort(s)}),t._uU(31," Name "),t._UZ(32,"i",18),t.qZA(),t.TgZ(33,"th",19),t.NdJ("sort",function(s){return i.onSort(s)}),t._uU(34," License Info "),t._UZ(35,"i",18),t.qZA(),t.TgZ(36,"th",20),t.NdJ("sort",function(s){return i.onSort(s)}),t._uU(37," Last Used Date "),t._UZ(38,"i",18),t.qZA(),t.TgZ(39,"th",21),t.NdJ("sort",function(s){return i.onSort(s)}),t._uU(40," Registered Tests "),t._UZ(41,"i",18),t.qZA(),t.TgZ(42,"th",21),t.NdJ("sort",function(s){return i.onSort(s)}),t._uU(43," Students Linked "),t._UZ(44,"i",18),t.qZA(),t.TgZ(45,"th",21),t.NdJ("sort",function(s){return i.onSort(s)}),t._uU(46," Students Completed "),t._UZ(47,"i",18),t.qZA()()(),t.TgZ(48,"tbody"),t.YNc(49,m,14,9,"tr",22),t.ALo(50,"centerSummarySort"),t.qZA()()()()(),t.YNc(51,y,26,17,"div",23),t.qZA()),2&r&&(t.xp6(9),t.Q6J("ngModel",i.paginationService.pageSize),t.xp6(),t.Q6J("ngValue",10),t.xp6(2),t.Q6J("ngValue",25),t.xp6(2),t.Q6J("ngValue",50),t.xp6(2),t.Q6J("ngValue",100),t.xp6(7),t.Q6J("ngModel",i.paginationService.searchTerm),t.xp6(26),t.Q6J("ngForOf",t.xi3(50,8,i.paginationService.paginatedData,i.filter)),t.xp6(2),t.Q6J("ngIf",i.paginationService.totalItems))},dependencies:[u.mk,u.sg,u.O5,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.On,u.uU,c]})}return n})()}];let P=(()=>{class n{static#t=this.\u0275fac=function(r){return new(r||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(x),p.Bz]})}return n})(),b=(()=>{class n{static#t=this.\u0275fac=function(r){return new(r||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[u.ez,d.u5,d.UX,P]})}return n})()}}]);