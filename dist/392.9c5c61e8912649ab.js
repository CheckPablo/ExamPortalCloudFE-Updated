"use strict";(self.webpackChunkmodern_admin=self.webpackChunkmodern_admin||[]).push([[392],{1392:(it,v,c)=>{c.r(v),c.d(v,{CandidateLiveMonitoringChatModule:()=>X});var m=c(96814),b=c(20553),M=c(12236),p=c(15861),_=c(22339),r=c(85289),d=c(60095),C=c(5178),t=c(19212),S=c(6314),Z=c(1238),A=c(12746),k=c(3017),I=c(32008),U=c(90082),q=c(1026);const N=["InvigilatorChatModal"],w=["bulkMessagingModal"],L=["sendBulkOTPModal"];function J(a,g){if(1&a&&(t.TgZ(0,"option",52),t._uU(1),t.qZA()),2&a){const e=g.$implicit;t.Q6J("value",e.id),t.xp6(),t.hij(" ",e.testName,"")}}function y(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",53)(1,"h4",54),t._uU(2,"Select a new chat"),t._UZ(3,"i",55),t.qZA(),t.TgZ(4,"h6",56),t._uU(5,"CHATS"),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"ul",57)(8,"li",58)(9,"div",59),t.NdJ("click",function(){const s=t.CHM(e).$implicit,o=t.oxw();return t.KtG(o.onStudentClick(s.studentID))}),t.TgZ(10,"div",60)(11,"span",61),t._uU(12),t.qZA(),t._UZ(13,"span",62),t.qZA(),t._uU(14," \xa0 "),t.TgZ(15,"div",63)(16,"h6",64),t._uU(17),t.qZA(),t.TgZ(18,"span",65),t._uU(19),t.qZA()()()(),t._uU(20,"bul "),t.qZA()()}if(2&a){const e=g.$implicit;t.xp6(9),t.Q6J("value",e.studentID),t.xp6(3),t.AsE("",e.name.charAt(0),"\xa0",e.surname.charAt(0)," "),t.xp6(5),t.AsE("",e.name," \xa0 ",e.surname," "),t.xp6(2),t.hij(" ",e.testName," ")}}function P(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",66)(1,"div",67)(2,"button",68),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onSendOTPClicked())}),t._uU(3," Send OTP "),t.qZA(),t.TgZ(4,"button",69),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onBulkSendClicked())}),t._uU(5," Send Bulk Message (Test) "),t.qZA(),t.TgZ(6,"button",70),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(),s=t.MAs(85);return t.KtG(n.openCustomChatListModal(s))}),t._uU(7," Custom Chat List "),t.qZA()()()}}function O(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"button",71),t.NdJ("click",function(){const s=t.CHM(e).$implicit,o=t.oxw();return t.KtG(o.onTestChatClick(s))}),t._uU(9,"Mark as Read"),t.qZA()()()}if(2&a){const e=g.$implicit;t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.message," "),t.xp6(2),t.hij(" ",e.studentReadStatus," ")}}function B(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",72),t._UZ(1,"h4",73),t.TgZ(2,"button",74),t.NdJ("click",function(){const s=t.CHM(e).dismiss;return t.KtG(s("Cross click"))}),t.qZA()(),t.TgZ(3,"form",75),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onInvigilatorMessageSend())}),t.TgZ(4,"div",76)(5,"div",27),t._UZ(6,"input",77),t.qZA(),t.TgZ(7,"div",27)(8,"div",78),t._uU(9," Private Message "),t.TgZ(10,"div",79)(11,"div"),t._UZ(12,"br"),t.TgZ(13,"div",80)(14,"textarea",81),t._uU(15),t.qZA()()()(),t.TgZ(16,"div",79)(17,"div",82),t._UZ(18,"input",83),t.qZA()()()()(),t.TgZ(19,"div",84)(20,"button",85),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.closeStudentChatModal())}),t._uU(21," Close "),t.qZA(),t.TgZ(22,"button",86),t._uU(23," Send "),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(3),t.Q6J("formGroup",e.form),t.xp6(12),t.hij("                            ",e.messages,"\n                        ")}}function F(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",72),t._UZ(1,"h4",73),t.TgZ(2,"button",74),t.NdJ("click",function(){const s=t.CHM(e).dismiss;return t.KtG(s("Cross click"))}),t.qZA()(),t.TgZ(3,"form",75),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onInvigilatorBulkMessageSend())}),t.TgZ(4,"div",76)(5,"div",27),t._UZ(6,"input",77),t.qZA(),t.TgZ(7,"div",27)(8,"div",78),t._uU(9," Bulk Message "),t.TgZ(10,"div",79)(11,"div"),t._UZ(12,"br"),t.TgZ(13,"div",87)(14,"textarea",88),t._uU(15),t.qZA()()()()(),t.TgZ(16,"div",79)(17,"div",82),t._UZ(18,"input",89),t.qZA()()()(),t.TgZ(19,"div",84)(20,"button",85),t.NdJ("click",function(){const s=t.CHM(e).dismiss;return t.KtG(s("Close modal"))}),t._uU(21," Close "),t.qZA(),t.TgZ(22,"button",86),t._uU(23," Send "),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(3),t.Q6J("formGroup",e.bulkMessagingForm),t.xp6(12),t.Oqu(e.messages)}}function D(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",72)(1,"h4",90),t._uU(2),t.qZA(),t.TgZ(3,"button",74),t.NdJ("click",function(){const s=t.CHM(e).dismiss;return t.KtG(s("Cross click"))}),t.qZA()(),t.TgZ(4,"form",75),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onOTPBulkSend())}),t.TgZ(5,"div",76)(6,"div",27),t._UZ(7,"input",77),t.qZA(),t.TgZ(8,"div",27)(9,"span",91),t._uU(10,"One Time Pin:"),t.qZA(),t._UZ(11,"br"),t.TgZ(12,"div",78)(13,"div",79)(14,"div",82),t._UZ(15,"input",92),t.qZA()()()()(),t.TgZ(16,"div",84)(17,"button",85),t.NdJ("click",function(){const s=t.CHM(e).dismiss;return t.KtG(s("Close modal"))}),t._uU(18," Close "),t.qZA(),t.TgZ(19,"button",86),t._uU(20," Send "),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(2),t.hij("Hello ",e.user.firstName,""),t.xp6(2),t.Q6J("formGroup",e.otpMessagingForm)}}function R(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"input",100),t.NdJ("click",function(){const s=t.CHM(e).$implicit,o=t.oxw(2);return t.KtG(o.onStudentCustomChatClick(s.studentID))}),t.qZA()(),t.TgZ(3,"td"),t._uU(4),t.qZA()()}if(2&a){const e=g.$implicit,i=t.oxw(2);t.xp6(2),t.Q6J("value",e.studentID)("checked",i.isStudentSelected(e.studentID)),t.xp6(2),t.hij(" ",e.name," ")}}function G(a,g){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.xp6(),t.hij("",e.paginationService.searchTotal," search results from ")}}const Q=a=>({active:a});function K(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"li",112),t.NdJ("click",function(){const s=t.CHM(e).$implicit,o=t.oxw(3);return t.KtG(o.paginationService.setPage(s))}),t.TgZ(1,"a",113),t._uU(2),t.qZA()()}if(2&a){const e=g.$implicit,i=t.oxw(3);t.Q6J("ngClass",t.VKq(2,Q,i.paginationService.currentPage==e)),t.xp6(2),t.hij(" ",e," ")}}const h=a=>({disabled:a});function E(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",101)(1,"div",102)(2,"div",103),t._uU(3),t.YNc(4,G,2,1,"span",104),t._uU(5),t.qZA()(),t.TgZ(6,"div",102)(7,"div",105)(8,"ul",106)(9,"li",107),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.paginationService.setPage(1))}),t.TgZ(10,"a",108)(11,"span",109),t._uU(12,"\xab\xab"),t.qZA()()(),t.TgZ(13,"li",107),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.paginationService.goToPreviousPage())}),t.TgZ(14,"a",108)(15,"span",109),t._uU(16,"\xab"),t.qZA()()(),t.YNc(17,K,3,4,"li",110),t.TgZ(18,"li",107),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.paginationService.goToNextPage())}),t.TgZ(19,"a",111)(20,"span",109),t._uU(21,"\xbb"),t.qZA()()(),t.TgZ(22,"li",107),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.paginationService.setPage(n.paginationService.totalPages))}),t.TgZ(23,"a",111)(24,"span",109),t._uU(25,"\xbb\xbb"),t.qZA()()()()()()()}if(2&a){const e=t.oxw(2);t.xp6(3),t.AsE("Showing ",e.paginationService.startIndex," to ",e.paginationService.endIndex," of "),t.xp6(),t.Q6J("ngIf",e.paginationService.searchTerm),t.xp6(),t.hij(" ",e.paginationService.totalItems," entries "),t.xp6(4),t.Q6J("ngClass",t.VKq(9,h,1==e.paginationService.currentPage)),t.xp6(4),t.Q6J("ngClass",t.VKq(11,h,1==e.paginationService.currentPage)),t.xp6(4),t.Q6J("ngForOf",e.paginationService.paginationLinks),t.xp6(),t.Q6J("ngClass",t.VKq(13,h,e.paginationService.currentPage==e.paginationService.totalPages)),t.xp6(4),t.Q6J("ngClass",t.VKq(15,h,e.paginationService.currentPage==e.paginationService.totalPages))}}function H(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",72)(1,"h4",73),t._uU(2,"Custom Chat"),t.qZA(),t.TgZ(3,"button",74),t.NdJ("click",function(){const s=t.CHM(e).dismiss;return t.KtG(s("Cross click"))}),t.qZA()(),t.TgZ(4,"form",75),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onInvigilatorCustomMessageSend())}),t.TgZ(5,"div",76)(6,"div",27),t._UZ(7,"input",93),t.qZA(),t.TgZ(8,"div",94),t._UZ(9,"br")(10,"br"),t.TgZ(11,"div",34)(12,"div",35)(13,"div",36)(14,"label",37),t._uU(15," Show "),t.TgZ(16,"select",38)(17,"option",39),t._uU(18,"10"),t.qZA(),t.TgZ(19,"option",39),t._uU(20,"25"),t.qZA(),t.TgZ(21,"option",39),t._uU(22,"50"),t.qZA(),t.TgZ(23,"option",39),t._uU(24,"100"),t.qZA()(),t._uU(25," entries "),t.qZA()()(),t.TgZ(26,"div",35)(27,"div",40)(28,"label",37),t._uU(29," Search: "),t._UZ(30,"input",41),t.qZA()()()(),t.TgZ(31,"div",95)(32,"table",96)(33,"thead",44)(34,"tr")(35,"th",97),t._uU(36,"StudentID"),t.qZA(),t.TgZ(37,"th"),t._uU(38,"Check"),t.qZA(),t.TgZ(39,"th"),t._uU(40,"Name"),t.qZA()()(),t.TgZ(41,"tbody"),t.YNc(42,R,5,3,"tr",47),t.qZA()()(),t.YNc(43,E,26,17,"div",98),t.qZA(),t.TgZ(44,"div",79)(45,"div",82),t._UZ(46,"input",99),t.qZA()()(),t.TgZ(47,"div",84)(48,"button",85),t.NdJ("click",function(){const s=t.CHM(e).dismiss;return t.KtG(s("Close modal"))}),t._uU(49," Close "),t.qZA(),t.TgZ(50,"button",86),t._uU(51," Send "),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(4),t.Q6J("formGroup",e.customMessageForm),t.xp6(13),t.Q6J("ngValue",10),t.xp6(2),t.Q6J("ngValue",25),t.xp6(2),t.Q6J("ngValue",50),t.xp6(2),t.Q6J("ngValue",100),t.xp6(19),t.Q6J("ngForOf",e.liveMonitoringCandidateList),t.xp6(),t.Q6J("ngIf",e.paginationService.totalItems)}}const j=a=>({"is-invalid":a}),Y=[{path:"",component:(()=>{class a{constructor(e,i,n,s,o,l,u,f,W,tt){this.storage=e,this.db=i,this.fdb=n,this.formBuilder=s,this.modalService=o,this.testService=l,this.liveMonitoringService=u,this.eventEmitterService=f,this.paginationService=W,this.elementRefTextArea=tt,this.selectedStudentIds=[],this.submitted=!1,this.testChat=new _.e,this.studentsChatlist=[],this.testChatMessageArea=new d.NI(""),this.testChatBroadcastMessageArea=new d.NI(""),this.show=!1,this.customChatStudentList=[],this.dbPath="/CloudMessagingStagePortal",this.onChangeTest=et=>{this.selectedTestId=et,this.liveMonitoringService.search({testId:this.selectedTestId,candidateSearchType:1,name:""}).subscribe(T=>{this.liveMonitoringCandidateList=T,this.paginationService.setData(T),this.paginationService.onSearchInputChange("")})},this.testChatRef=n.collection(this.dbPath)}ngOnInit(){this.user=this.storage.getUser(),(0,r.Bt)(),this.initForms(),this.initOTPForms(),this.initBulkMessageForms(),this.initCustomMessageForms(),this.getTests(0,0)}get f(){return this.form.controls}get b(){return this.bulkMessagingForm.controls}get o(){return this.otpMessagingForm.controls}get c(){return this.customMessageForm.controls}getTests(e,i){this.testService.get().subscribe(n=>{this.tests=n})}initForms(){this.form=this.formBuilder.group({id:["",[d.kI.required]],testName:["",[d.kI.required]],testChatMessage:["",[d.kI.required]],studentId:["",[d.kI.required]]}),this.submitted=!1}initOTPForms(){this.otpMessagingForm=this.formBuilder.group({otpMessage:["",[d.kI.required]]}),this.submitted=!1}initBulkMessageForms(){this.bulkMessagingForm=this.formBuilder.group({bulkMessage:["",[d.kI.required]]}),this.submitted=!1}initCustomMessageForms(){this.customMessageForm=this.formBuilder.group({customChatMessage:["",[d.kI.required]]}),this.submitted=!1}onBulkSendClicked(){this.getDocs(),this.openSm(this.bulkMsgContent)}onInvigilatorBulkMessageSend(n){document.getElementById("chatBroadcastMessageArea").append(this.user.firstName+":"+this.b.bulkMessage.value),this.textToSend=this.b.bulkMessage.value,this.b.bulkMessage.setValue(""),n={testID:Number(this.selectedTestId),id:Number(this.user.id),studentID:0,name:this.user.fullName,message:this.textToSend,otpMessage:"0",fromStudent:"0",fromTeacher:"1",studentReadStatus:"Unread",teacherReadStatus:"Read",createdAt:(0,r.Bt)()};const s=(0,r.hJ)(this.db,"CloudBroadcastMessaging");(0,r.ET)(s,n).then(()=>{}).catch(o=>{})}onInvigilatorMessageSend(n){document.getElementById("testChatMessageArea").append(this.user.firstName+":"+this.f.testChatMessage.value),this.textToSend=" "+this.f.testChatMessage.value,this.f.testChatMessage.setValue(""),n={testID:Number(this.selectedTestId),id:this.selectedStudentId,studentID:Number(this.selectedStudentId),name:this.user.fullName,message:this.textToSend,otpMessage:"0",fromStudent:"0",fromTeacher:"1",studentReadStatus:"Unread",teacherReadStatus:"Read",createdAt:(0,r.Bt)()};const s=(0,r.hJ)(this.db,"CloudMessagingStagePortal");(0,r.ET)(s,n).then(()=>{this.getStudentInvigilatorChat()}).catch(o=>{})}onInvigilatorCustomMessageSend(e){this.textToSend=" "+this.c.customChatMessage.value,this.c.customChatMessage.setValue(""),this.selectedStudentIds.forEach(i=>{var n;n={testID:Number(this.selectedTestId),id:this.selectedStudentId,studentID:Number(i),name:this.user.fullName,message:this.textToSend,otpMessage:"0",fromStudent:"0",fromTeacher:"1",studentReadStatus:"Unread",teacherReadStatus:"Read",createdAt:(0,r.Bt)()};const s=(0,r.hJ)(this.db,"CloudMessagingStagePortal");(0,r.ET)(s,n).then(()=>{}).catch(o=>{})})}openModal(e){this.modalService.open(e,C.U.lg)}openCustomChatListModal(e){this.modalService.open(e,C.U.lg)}onTestChatClick(e){var i=this;return(0,p.Z)(function*(){const n=(0,r.hJ)(i.db,"CloudMessagingStagePortal"),s=(0,r.IO)(n,(0,r.ar)("message","==",e.message));(yield(0,r.PL)(s)).forEach(u=>{console.log(u),i.fireBaseDocId=u.id,console.log(u.id)}),e.studentReadStatus="Read",i.testChatRef.doc(i.fireBaseDocId).update({studentReadStatus:"Read"}),setTimeout(function(){this.getStudentInvigilatorChat()},3e3)})()}onOTPBulkSend(){var e;this.textToSend=this.o.otpMessage.value,this.o.otpMessage.setValue(""),e={testID:Number(this.selectedTestId),id:0,studentID:0,name:this.user.fullName,message:this.textToSend,otpMessage:"1",fromStudent:"0",fromTeacher:"1",studentReadStatus:"Unread",teacherReadStatus:"Read",createdAt:(0,r.Bt)()};const i=(0,r.hJ)(this.db,"CloudMessagingStagePortal");(0,r.ET)(i,e).then(()=>{}).catch(n=>{})}getDocs(){var e=this;return(0,p.Z)(function*(){const i=(0,r.hJ)(e.db,"CloudBroadcastMessaging"),n=(0,r.IO)(i,(0,r.ar)("testID","==",Number(e.selectedTestId)),(0,r.ar)("fromTeacher","==","1"),(0,r.Xo)("createdAt","asc"));(yield(0,r.PL)(n)).forEach(o=>{let l=new _.e;l.name=o.data().name,l.message=o.data().message,l.fromStudent=o.data().fromStudent,l.fromTeacher=o.data().fromTeacher,l.testID=o.data().testID,l.id=o.data().studentID,l.teacherReadStatus=o.data().teacherReadStatus,l.studentReadStatus=o.data().studentReadStatus,l.studentID=o.data().studentID,e.studentsChatlist.push(l),o.data()}),e.messages=e.studentsChatlist.map(o=>`${o.name}:${o.message}`).join("\n")})()}getStudentInvigilatorChat(){var e=this;return(0,p.Z)(function*(){console.log(e.messages),e.studentsChatlist=[],console.log(e.selectedTestId),console.log(e.selectedStudentId);const i=(0,r.hJ)(e.db,"CloudMessagingStagePortal"),n=(0,r.IO)(i,(0,r.ar)("testID","==",Number(e.selectedTestId)),(0,r.ar)("studentID","==",Number(e.selectedStudentId)),(0,r.Xo)("createdAt","asc"));console.log(n);const s=yield(0,r.PL)(n);console.log(s),s.forEach(o=>{e.selectedStudentId!=o.data().studentID&&console.log(e.selectedStudentId!=o.data().studentID);let l=new _.e;l.name=o.data().name,l.message=o.data().message,l.fromStudent=o.data().fromStudent,l.fromTeacher=o.data().fromTeacher,l.testID=o.data().testID,l.id=o.data().studentID,l.teacherReadStatus=o.data().teacherReadStatus,l.studentReadStatus=o.data().studentReadStatus,l.studentID=o.data().studentID,e.studentsChatlist.push(l),o.data()}),e.messages=e.studentsChatlist.map(o=>`${o.name}:${o.message}`).join("\n")})()}openSm(e){this.modalService.open(e,C.U.lg)}isStudentSelected(e){return this.selectedStudentIds.some(i=>i===e)}onSort(e){}onStudentClick(e){this.selectedStudentId=e,this.toggleChatButtons(),this.getStudentInvigilatorChat(),this.openSm(this.content)}closeStudentChatModal(){console.log("closing modal"),this.messages="",this.modalService.dismissAll()}onStudentCustomChatClick(e){this.selectedStudentIds.find(i=>i==e)?this.selectedStudentIds=this.selectedStudentIds.filter(i=>i!=e):this.selectedStudentIds.push(e)}onSendOTPClicked(){this.openSm(this.otpContent)}toggleChatButtons(){this.show=!this.show}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(S.i),t.Y36(r.gg),t.Y36(Z.ST),t.Y36(d.QS),t.Y36(A.FF),t.Y36(k.q),t.Y36(I.l),t.Y36(U.Y),t.Y36(q.N),t.Y36(t.SBq))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-candidate-live-monitoring-chat"]],viewQuery:function(i,n){if(1&i&&(t.Gf(N,7),t.Gf(w,7),t.Gf(L,7)),2&i){let s;t.iGM(s=t.CRH())&&(n.content=s.first),t.iGM(s=t.CRH())&&(n.bulkMsgContent=s.first),t.iGM(s=t.CRH())&&(n.otpContent=s.first)}},decls:86,vars:11,consts:[[1,"content-header-left","col-md-6","col-12","mb-2",2,"margin-left","-35px","margin-top","-35px"],[1,"sidebar-left"],[1,"sidebar"],[1,"chat-sidebar","card"],[1,"chat-sidebar-close"],["xmlns","http://www.w3.org/2000/svg","height","0.425em","viewBox","0 0 384 512"],["d","M376.6 84.5c11.3-13.6 9.5-33.8-4.1-45.1s-33.8-9.5-45.1 4.1L192 206 56.6 43.5C45.3 29.9 25.1 28.1 11.5 39.4S-3.9 70.9 7.4 84.5L150.3 256 7.4 427.5c-11.3 13.6-9.5 33.8 4.1 45.1s33.8 9.5 45.1-4.1L192 306 327.4 468.5c11.3 13.6 31.5 15.4 45.1 4.1s15.4-31.5 4.1-45.1L233.7 256 376.6 84.5z"],[1,"chat-sidebar-search"],[1,"d-flex","align-items-center"],[1,"form-group","position-relative","has-icon-left","mx-75","mb-0"],["type","text","id","chat-search","placeholder","Search",1,"form-control","round"],[1,"form-control-position"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 512 512"],["d","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"],[1,"chat-sidebar-list-wrapper","pt-2"],[1,"form-group","has-icon-left","mx-75","mb-0"],["for","ddlUsers"],["id","testId","name","testId","formControlName","testId",1,"form-control","form-select",3,"ngClass","change"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["id","divContactList",4,"ngFor","ngForOf"],[1,"content-header","row"],[1,"content-header-left","col-md-6","col-12","mb-2"],[1,"form-section"],["class","content-header-right col-md-6 col-12",4,"ngIf"],[1,"content-body"],["id","horizontal-form-layouts"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-content","collpase","show"],[1,"card-body"],[1,"form","form-horizontal"],[1,"form-body"],[1,"row","mb-md-2"],[1,"col-sm-12","col-md-6"],["id","tickets-table_length",1,"dataTables_length"],[1,"d-inline-flex","align-items-center"],["name","pageSize",1,"form-control","form-control-sm","mx-2"],[3,"ngValue"],["id","tickets-table_filter",1,"dataTables_filter","text-md-end"],["type","text","name","searchTerm","aria-controls","tickets-table",1,"form-control","form-control-sm","ms-2"],[1,"table-responsive"],["id","studentsTable",1,"table","table-striped","table-bordered","no-footer","dataTable"],[1,"bg-info","white"],["sortable","code",3,"sort"],[1,"la","la-sort","float-md-end"],[4,"ngFor","ngForOf"],["InvigilatorChatModal",""],["bulkMessagingModal",""],["sendBulkOTPModal",""],["customChatListModal",""],[3,"value"],["id","divContactList"],[1,"px-2","pb-25","mb-0"],[1,"ft-plus","float-right","cursor-pointer"],[1,"px-2","pt-2","pb-25","mb-0"],["id","contacts",1,"chat-sidebar-list"],[1,"contactUsers"],[1,"d-flex","align-items-center",3,"value","click"],[1,"avatar","m-0","mr-50","bg-success"],[1,"avatar-content"],[1,"avatar-status-offline"],[1,"chat-sidebar-name"],[1,"mb-0"],[1,"text-muted"],[1,"content-header-right","col-md-6","col-12"],["role","group","aria-label","Button group with nested dropdown",1,"btn-group","float-md-right"],["type","button","id","btnNew",1,"btn","btn-info","btn-min-width","mr-1","mb-1",3,"click"],["type","button","id","btnSend",1,"btn","btn-info","btn-min-width","mr-1","mb-1",3,"click"],["type","button","id","btnReSend",1,"btn","btn-info","btn-min-width","mr-1","mb-1",3,"click"],[1,"btn","btn-block","btn-primary","glow",3,"click"],[1,"modal-header"],["id","myModalLabel1",1,"modal-title"],["type","button","aria-hidden","true",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],[1,"modal-body"],["type","hidden","id","TestID",1,"form-control"],[1,"col-lg-12"],[1,"form-group","row"],[1,"col-md-9","mx-auto",2,"text-align","center"],["readonly","","id","testChatMessageArea","rows","15","cols","90","wrap","hard",1,"message-text",2,"text-align","center"],[1,"col-md-9","mx-auto"],["type","text","formControlName","testChatMessage","id","testChatMessage","placeholder","Enter Message",1,"form-control"],[1,"modal-footer"],["type","button","ngbAutofocus","",1,"btn","grey","btn-outline-secondary",3,"click"],["type","submit",1,"btn","btn-outline-primary"],[1,"card-body","chat-container"],["readonly","","id","chatBroadcastMessageArea","wrap","off",1,"message-text"],["type","text","formControlName","bulkMessage","id","bulkMessage","placeholder","Enter Message",1,"form-control"],["id","myModalLabel1",1,"modal-title",2,"text-align","center"],[2,"text-align","center"],["type","text","formControlName","otpMessage","id","otpMessage","placeholder","Enter Message",1,"form-control"],["type","hidden","id","CenterID",1,"form-control"],["id","tab3","aria-labelledby","base-tab3",1,"tab-pane"],[1,"table-responsive",2,"width","100%"],["id","StudentListTable",2,"width","100%"],[2,"display","none"],["class","row justify-content-md-between align-items-md-center mt-2",4,"ngIf"],["type","text","formControlName","customChatMessage","id","customChatMessage","placeholder","Enter Message",1,"form-control"],["type","checkbox","id","cbxCheckStudentLink",3,"value","checked","click"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[4,"ngIf"],[1,"text-md-right","float-md-end","pagination-rounded"],[1,"pagination"],[1,"page-item","ng-star-inserted",3,"ngClass","click"],["aria-label","Previous","href","javascript:void(0);",1,"page-link"],["aria-hidden","true",1,"ng-star-inserted"],["class","page-item ng-star-inserted","aria-current","page",3,"ngClass","click",4,"ngFor","ngForOf"],["aria-label","Next","href","javascript:void(0);",1,"page-link"],["aria-current","page",1,"page-item","ng-star-inserted",3,"ngClass","click"],["href","javascript:void(0);",1,"page-link","ng-star-inserted"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),t.O4$(),t.TgZ(5,"svg",5),t._UZ(6,"path",6),t.qZA()(),t.kcU(),t._UZ(7,"br"),t.TgZ(8,"div",7)(9,"div",8)(10,"fieldset",9),t._UZ(11,"input",10),t.TgZ(12,"div",11),t.O4$(),t.TgZ(13,"svg",12),t._UZ(14,"path",13),t.qZA()()()()(),t.kcU(),t.TgZ(15,"div",14)(16,"fieldset",15)(17,"label",16),t._uU(18,"Test:"),t.qZA(),t.TgZ(19,"select",17),t.NdJ("change",function(o){return n.onChangeTest(o.target.value)}),t.TgZ(20,"option",18),t._uU(21,"--Select Test"),t.qZA(),t.YNc(22,J,2,2,"option",19),t.qZA()(),t._UZ(23,"br"),t.YNc(24,y,21,6,"div",20),t.qZA()()()()(),t.TgZ(25,"div",21)(26,"div",22)(27,"h4",23),t._UZ(28,"i"),t.qZA()(),t.YNc(29,P,8,0,"div",24),t.TgZ(30,"div",25)(31,"section",26)(32,"div",27)(33,"div",28)(34,"div",29)(35,"div",30)(36,"div",31)(37,"form",32)(38,"div",33),t._UZ(39,"div",27),t.qZA()(),t.TgZ(40,"div",34)(41,"div",35)(42,"div",36)(43,"label",37),t._uU(44," Show "),t.TgZ(45,"select",38)(46,"option",39),t._uU(47,"10"),t.qZA(),t.TgZ(48,"option",39),t._uU(49,"25"),t.qZA(),t.TgZ(50,"option",39),t._uU(51,"50"),t.qZA(),t.TgZ(52,"option",39),t._uU(53,"100"),t.qZA()(),t._uU(54," entries "),t.qZA()()(),t.TgZ(55,"div",35)(56,"div",40)(57,"label",37),t._uU(58," Search: "),t._UZ(59,"input",41),t.qZA()()()(),t.TgZ(60,"div",42)(61,"table",43)(62,"thead",44)(63,"tr")(64,"th",45),t.NdJ("sort",function(o){return n.onSort(o)}),t._uU(65," Name "),t._UZ(66,"i",46),t.qZA(),t.TgZ(67,"th",45),t.NdJ("sort",function(o){return n.onSort(o)}),t._uU(68," Message "),t._UZ(69,"i",46),t.qZA(),t.TgZ(70,"th",45),t.NdJ("sort",function(o){return n.onSort(o)}),t._uU(71," Read Status "),t._UZ(72,"i",46),t.qZA(),t.TgZ(73,"th",45),t.NdJ("sort",function(o){return n.onSort(o)}),t._uU(74," Mark Read Status "),t._UZ(75,"i",46),t.qZA()()(),t.TgZ(76,"tbody"),t.YNc(77,O,10,3,"tr",47),t.qZA()()()()()()()()()()(),t.YNc(78,B,24,2,"ng-template",null,48,t.W1O)(80,F,24,2,"ng-template",null,49,t.W1O)(82,D,21,2,"ng-template",null,50,t.W1O)(84,H,52,7,"ng-template",null,51,t.W1O)),2&i&&(t.xp6(19),t.Q6J("ngClass",t.VKq(9,j,n.submitted&&n.f.testId.errors)),t.xp6(3),t.Q6J("ngForOf",n.tests),t.xp6(2),t.Q6J("ngForOf",n.liveMonitoringCandidateList),t.xp6(5),t.Q6J("ngIf",n.show),t.xp6(17),t.Q6J("ngValue",10),t.xp6(2),t.Q6J("ngValue",25),t.xp6(2),t.Q6J("ngValue",50),t.xp6(2),t.Q6J("ngValue",100),t.xp6(25),t.Q6J("ngForOf",n.studentsChatlist))},dependencies:[m.mk,m.sg,m.O5,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.JL,d.F,d.sg,d.u],styles:[".chat-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.messages[_ngcontent-%COMP%]{flex:1;overflow-y:scroll;padding:20px}.message[_ngcontent-%COMP%]{margin-bottom:20px}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px}#testChatMessageArea[_ngcontent-%COMP%]{text-align:left;margin:0 auto;overflow:auto;padding:10px;background:#fff}#chatBroadcastMessageArea[_ngcontent-%COMP%]{text-align:left;font-family:Consolas,monospace;white-space:pre;word-wrap:normal;height:900px;padding:.1em .3em;border:solid thin;overflow:auto;width:25em;width:60ch}#testChatBroadcastMessageArea[_ngcontent-%COMP%]{text-align:left;margin:0 auto 25px;padding:10px;background:#fff;height:300px;width:530px;border:1px solid #a7a7a7;overflow:auto;border-radius:4px;border-bottom:4px solid #a7a7a7}#usermsg[_ngcontent-%COMP%]{flex:1;border-radius:4px;border:1px solid #ff9800}#name[_ngcontent-%COMP%]{border-radius:4px;border:1px solid #ff9800;padding:2px 8px}.msgln[_ngcontent-%COMP%]{margin:0 0 5px}.msgln[_ngcontent-%COMP%]   span.left-info[_ngcontent-%COMP%]{color:#ff4500}.msgln[_ngcontent-%COMP%]   span.chat-time[_ngcontent-%COMP%]{color:#666;font-size:60%;vertical-align:super}.msgln[_ngcontent-%COMP%]   b.user-name[_ngcontent-%COMP%], .msgln[_ngcontent-%COMP%]   b.user-name-left[_ngcontent-%COMP%]{font-weight:700;background:#546e7a;color:#fff;padding:2px 4px;font-size:90%;border-radius:4px;margin:0 5px 0 0}.msgln[_ngcontent-%COMP%]   b.user-name-left[_ngcontent-%COMP%]{background:#ff4500}.chat-wrapper[_ngcontent-%COMP%]{width:100%}.message-text[_ngcontent-%COMP%]{min-height:1em;max-height:97px;width:100%;align-content:center;outline:none;overflow:hidden}.message-wrapper[_ngcontent-%COMP%]{width:387px;border:1px solid #e4e7ec;border-radius:20px;background-color:#f9fafb;padding:24px;max-height:145px}textarea[_ngcontent-%COMP%]{resize:none;box-sizing:border-box;height:auto;min-height:41px;max-height:97px;width:auto;border:1px solid #e4e7ec;border-radius:20px;background-color:#f9fafb;outline:none;padding:0 24px;overflow:hidden;display:block;margin:0 auto}"]})}return a})()}];let V=(()=>{class a{static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275mod=t.oAB({type:a});static#n=this.\u0275inj=t.cJS({imports:[M.Bz.forChild(Y),M.Bz]})}return a})();var z=c(50607),x=c(60721),$=c(67217);let X=(()=>{class a{static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275mod=t.oAB({type:a});static#n=this.\u0275inj=t.cJS({imports:[m.ez,d.u5,d.UX,V,z.a,(0,x.hX)(()=>(0,x.ZF)(b.N.firebaseConfig)),(0,r.Cm)(()=>(0,r.ad)()),$.hO.initializeApp(b.N.firebaseConfig),Z.yb]})}return a})()}}]);