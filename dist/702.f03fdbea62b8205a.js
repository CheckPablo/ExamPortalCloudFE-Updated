(self.webpackChunkmodern_admin=self.webpackChunkmodern_admin||[]).push([[702],{5178:(Bt,S,z)=>{"use strict";z.d(S,{U:()=>w});const w={xl:{centered:!0,windowClass:"animated fadeInDown",size:"xl"},lg:{centered:!0,windowClass:"animated fadeInDown",size:"lg"},md:{centered:!0,windowClass:"animated fadeInDown",size:"md"},sm:{centered:!0,windowClass:"animated fadeInDown",size:"sm"}}},55702:(Bt,S,z)=>{"use strict";z.r(S),z.d(S,{StudentManagementModule:()=>pe});var w=z(96814),u=z(12236),c=z(13519),i=z.n(c),o=z(60095),v=z(96425),x=z(5178),t=z(19212),_=z(12746),a=z(1026),p=z(13602),s=z(6103),h=z(88350),d=z(50607),m=z(6314);function y(g,V){if(1&g&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&g){const n=t.oxw();t.xp6(),t.Oqu(n.selectedStudentIds.length)}}function T(g,V){if(1&g&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&g){const n=t.oxw();t.xp6(),t.Oqu(n.selectedStudentIds.length)}}function C(g,V){if(1&g&&(t.TgZ(0,"option",53),t._uU(1),t.qZA()),2&g){const n=V.$implicit;t.Q6J("value",n.id),t.xp6(),t.hij(" ",n.code,"")}}function J(g,V){1&g&&(t.TgZ(0,"div"),t._uU(1,"Grade is required "),t.qZA())}function O(g,V){if(1&g&&(t.TgZ(0,"div",54),t.YNc(1,J,2,0,"div",8),t.qZA()),2&g){const n=t.oxw();t.xp6(),t.Q6J("ngIf",n.f.gradeId.errors.required)}}function L(g,V){if(1&g&&(t.TgZ(0,"option",53),t._uU(1),t.qZA()),2&g){const n=V.$implicit;t.Q6J("value",n.id),t.xp6(),t.hij(" ",n.description,"")}}function B(g,V){1&g&&(t.TgZ(0,"div"),t._uU(1,"Subject is required "),t.qZA())}function W(g,V){if(1&g&&(t.TgZ(0,"div",54),t.YNc(1,B,2,0,"div",8),t.qZA()),2&g){const n=t.oxw();t.xp6(),t.Q6J("ngIf",n.f.subjectId.errors.required)}}function rt(g,V){if(1&g){const n=t.EpF();t.TgZ(0,"div",55)(1,"div",13)(2,"button",56),t.NdJ("click",function(){t.CHM(n);const k=t.oxw();return t.KtG(k.onExportClick())}),t._uU(3," Export to Excel "),t.qZA()()()}}function b(g,V){1&g&&(t.TgZ(0,"td")(1,"label",61),t._uU(2,"No"),t.qZA()())}function j(g,V){1&g&&(t.TgZ(0,"td")(1,"label",61),t._uU(2,"Yes"),t.qZA()())}function r(g,V){if(1&g){const n=t.EpF();t.TgZ(0,"tr",57),t.NdJ("dblclick",function(){const K=t.CHM(n).$implicit,Q=t.oxw();return t.KtG(Q.onViewStudent(K))}),t.TgZ(1,"td")(2,"input",58),t.NdJ("click",function(){const K=t.CHM(n).$implicit,Q=t.oxw();return t.KtG(Q.onStudentClick(K.id))}),t.qZA()(),t.TgZ(3,"td"),t._UZ(4,"ngb-highlight",59),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"ngb-highlight",59),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"ngb-highlight",59),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"ngb-highlight",59),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"ngb-highlight",59),t.qZA(),t.TgZ(13,"td"),t._UZ(14,"ngb-highlight",59),t.qZA(),t.TgZ(15,"td"),t._UZ(16,"ngb-highlight",59),t.qZA(),t.YNc(17,b,3,0,"td",8)(18,j,3,0,"td",8),t.TgZ(19,"td")(20,"button",60),t.NdJ("click",function(){const K=t.CHM(n).$implicit,Q=t.oxw();return t.KtG(Q.onDeleteStudent(K))}),t._uU(21," Delete "),t.qZA()()()}if(2&g){const n=V.$implicit,I=t.oxw();t.xp6(2),t.Q6J("checked",I.isStudentSelected(n.id)),t.xp6(2),t.Q6J("result",n.grade.code)("term",I.paginationService.searchTerm),t.xp6(2),t.Q6J("result",n.name)("term",I.paginationService.searchTerm),t.xp6(2),t.Q6J("result",n.surname)("term",I.paginationService.searchTerm),t.xp6(2),t.Q6J("result",n.examNo)("term",I.paginationService.searchTerm),t.xp6(2),t.Q6J("result",n.plainPassword)("term",I.paginationService.searchTerm),t.xp6(2),t.Q6J("result",n.idNumber)("term",I.paginationService.searchTerm),t.xp6(2),t.Q6J("result",n.emailAddress)("term",I.paginationService.searchTerm),t.xp6(),t.Q6J("ngIf",!n.sentConfirmation),t.xp6(),t.Q6J("ngIf",n.sentConfirmation)}}function F(g,V){if(1&g&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&g){const n=t.oxw(2);t.xp6(),t.hij("",n.paginationService.searchTotal," search results from ")}}const st=g=>({active:g});function P(g,V){if(1&g){const n=t.EpF();t.TgZ(0,"li",72),t.NdJ("click",function(){const K=t.CHM(n).$implicit,Q=t.oxw(2);return t.KtG(Q.paginationService.setPage(K))}),t.TgZ(1,"a",73),t._uU(2),t.qZA()()}if(2&g){const n=V.$implicit,I=t.oxw(2);t.Q6J("ngClass",t.VKq(2,st,I.paginationService.currentPage==n)),t.xp6(2),t.hij(" ",n," ")}}const ot=g=>({disabled:g});function M(g,V){if(1&g){const n=t.EpF();t.TgZ(0,"div",62)(1,"div",63)(2,"div",64),t._uU(3),t.YNc(4,F,2,1,"span",8),t._uU(5),t.qZA()(),t.TgZ(6,"div",63)(7,"div",65)(8,"ul",66)(9,"li",67),t.NdJ("click",function(){t.CHM(n);const k=t.oxw();return t.KtG(k.paginationService.setPage(1))}),t.TgZ(10,"a",68)(11,"span",69),t._uU(12,"\xab\xab"),t.qZA()()(),t.TgZ(13,"li",67),t.NdJ("click",function(){t.CHM(n);const k=t.oxw();return t.KtG(k.paginationService.goToPreviousPage())}),t.TgZ(14,"a",68)(15,"span",69),t._uU(16,"\xab"),t.qZA()()(),t.YNc(17,P,3,4,"li",70),t.TgZ(18,"li",67),t.NdJ("click",function(){t.CHM(n);const k=t.oxw();return t.KtG(k.paginationService.goToNextPage())}),t.TgZ(19,"a",71)(20,"span",69),t._uU(21,"\xbb"),t.qZA()()(),t.TgZ(22,"li",67),t.NdJ("click",function(){t.CHM(n);const k=t.oxw();return t.KtG(k.paginationService.setPage(k.paginationService.totalPages))}),t.TgZ(23,"a",71)(24,"span",69),t._uU(25,"\xbb\xbb"),t.qZA()()()()()()()}if(2&g){const n=t.oxw();t.xp6(3),t.AsE("Showing ",n.paginationService.startIndex," to ",n.paginationService.endIndex," of "),t.xp6(),t.Q6J("ngIf",n.paginationService.searchTerm),t.xp6(),t.hij(" ",n.paginationService.totalItems," entries "),t.xp6(4),t.Q6J("ngClass",t.VKq(9,ot,1==n.paginationService.currentPage)),t.xp6(4),t.Q6J("ngClass",t.VKq(11,ot,1==n.paginationService.currentPage)),t.xp6(4),t.Q6J("ngForOf",n.paginationService.paginationLinks),t.xp6(),t.Q6J("ngClass",t.VKq(13,ot,n.paginationService.currentPage==n.paginationService.totalPages)),t.xp6(4),t.Q6J("ngClass",t.VKq(15,ot,n.paginationService.currentPage==n.paginationService.totalPages))}}function it(g,V){if(1&g){const n=t.EpF();t.TgZ(0,"div",74)(1,"h4",75),t._uU(2,"Send Login Credentials"),t.qZA(),t.TgZ(3,"button",76),t.NdJ("click",function(){const K=t.CHM(n).dismiss;return t.KtG(K("Cross click"))}),t.qZA()(),t.TgZ(4,"div",77),t._UZ(5,"i",78),t.TgZ(6,"h5"),t._uU(7,"The system is sending credentials in the background, and will send you a summary email once done."),t.qZA()(),t.TgZ(8,"div",79)(9,"button",80),t.NdJ("click",function(){const K=t.CHM(n).dismiss;return t.KtG(K("Close modal"))}),t._uU(10," Close "),t.qZA()()}}function E(g,V){if(1&g&&(t.TgZ(0,"p",82),t._uU(1),t.qZA()),2&g){const n=V.$implicit;t.xp6(),t.Oqu(n)}}function N(g,V){if(1&g){const n=t.EpF();t.TgZ(0,"div",74)(1,"h4",75),t._uU(2,"Sent Login Credentials"),t.qZA(),t.TgZ(3,"button",76),t.NdJ("click",function(){const K=t.CHM(n).dismiss;return t.KtG(K("Cross click"))}),t.qZA()(),t.TgZ(4,"div",77),t._UZ(5,"i",78),t.TgZ(6,"h5"),t._uU(7,"The following emails were sent successfully"),t.qZA(),t.YNc(8,E,2,1,"p",81),t.TgZ(9,"h6"),t._uU(10),t.qZA()(),t.TgZ(11,"div",79)(12,"button",80),t.NdJ("click",function(){const K=t.CHM(n).dismiss;return t.KtG(K("Close modal"))}),t._uU(13," Close "),t.qZA()()}if(2&g){const n=t.oxw();t.xp6(8),t.Q6J("ngForOf",n.studentMailList),t.xp6(2),t.AsE("",n.studentMailList.length,"/",n.total," emails were sent successfully")}}const nt=()=>["/portal/students/add-student"],X=g=>({"is-invalid":g});let H=(()=>{class g{constructor(n,I,k,K,Q,$,at,bt,mt){this.router=n,this.modalService=I,this.paginationService=k,this.gradeService=K,this.studentService=Q,this.subjectService=$,this.formBuilder=at,this.exportAsService=bt,this.storageService=mt,this.selectedStudentIds=[],this.students=[],this.isAllSelected=!1,this.onViewStudentClicked=!1,this.grades=[],this.isPageLoaded=!1,this.submitted=!1,this.itemsPerPage=10,this.loading=!1,this.pageNumber=1,this.multiplier=1,this.exportAsConfig={type:"xlsx",elementIdOrContent:"studentsTable"}}ngOnInit(){if(localStorage.getItem("currentgrade")){let n=localStorage.getItem("currentgrade");this.selectedGrade=Number(n),this.selectedGrade=JSON.parse(localStorage.getItem("currentgrade")),console.log(this.paginationService.paginatedData),console.log(this.paginationService.pageSize),this.paginationService.setData([]),this.initForms(),this.onSetSavedGradeParam(this.selectedGrade),this.getGrades()}else this.paginationService.setData([]),this.initForms(),this.getGrades(),this.selectedGrade=0}get f(){return this.searchForm.controls}generateCredentialsAsync(n){this.studentService.createLoginCredentials(this.selectedStudentIds).subscribe(I=>{this.studentMailList=I,this.isAllSelected=!1,this.total=this.selectedStudentIds.length,this.selectedStudentIds=[],this.openModal(n)})}getGrades(){this.gradeService.get().subscribe(n=>{this.grades=n,this.paginationService.onSearchInputChange("")})}getStudents(){this.students=[],this.studentService.get().subscribe(n=>{this.students=n,this.paginationService.setData(n)})}getSubjects(){0!=this.selectedGrade?this.subjectService.getByGradeId(this.selectedGrade).subscribe(n=>{this.subjects=n}):this.subjectService.get().subscribe(n=>{this.subjects=n})}initForms(){this.searchForm=this.formBuilder.group({gradeId:[this.selectedGrade??"",[o.kI.required]],subjectId:[this.selectedSubject??"",[]],name:["",[]]}),this.submitted=!1}isStudentSelected(n){return this.selectedStudentIds.some(I=>I===n)}onDeleteStudent(n){i().fire({title:"Are you sure you want to delete this student?",text:"This will also delete any links to this student.",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(I=>{I.value&&this.studentService.delete(n.id).subscribe(()=>{i().fire("Student Deleted","Student deleted successfully.","success"),this.onSubmit()})})}onChangeGrade(n){0!=n&&(this.selectedGrade=n,this.storageService.saveSelectedGrade(String(this.selectedGrade)),this.getSubjects())}onSetSavedGradeParam(n){this.selectedGrade=n,this.searchStudentsSavedParams(),this.getSubjects()}onChangeSubject(n){this.selectedSubject=n}onSetSavedSubjectParam(n){this.selectedSubject=n}onExportClick(){this.exportAsService.save(this.exportAsConfig,"Students Export").subscribe(()=>{})}onSelectAll(){this.isAllSelected=!this.isAllSelected,this.selectedStudentIds=[],this.isAllSelected&&this.paginationService.searchedData.forEach(n=>{this.selectedStudentIds.push(n.id)})}onSort(n){}onStudentClick(n){this.selectedStudentIds.find(I=>I==n)?this.selectedStudentIds=this.selectedStudentIds.filter(I=>I!=n):this.selectedStudentIds.push(n)}onSubmit(){this.submitted=!0,!this.searchForm.invalid&&this.studentService.search(this.searchForm.value).subscribe(n=>{this.students=n,console.log(this.students),this.paginationService.setData(n),this.initForms()})}searchStudentsSavedParams(){this.searchForm.invalid||this.studentService.search(this.searchForm.value).subscribe(n=>{this.students=n,console.log(n),this.paginationService.setData(n),this.initForms()})}onViewStudent(n){this.onViewStudentClicked=!0,this.selectedGradeOnViewStudent=this.selectedGrade,this.router.navigate(["/portal/students/view-student",n.id])}openModal(n){this.modalService.open(n,x.U.md)}searchStudents(){this.studentService.getUrl(`search-students?sectorId=${this.selectedGrade}`).subscribe(n=>{this.selectedStudentIds=[],this.isAllSelected=!1,this.students=n})}sendLoginCredentialsAsync(n){this.studentService.sendLoginCredentials(this.selectedStudentIds).subscribe(I=>{this.studentMailList=I,this.isAllSelected=!1,this.total=this.selectedStudentIds.length,this.selectedStudentIds=[],this.openModal(n)})}ngOnDestroy(){this.onViewStudentClicked||this.storageService.removeSelectedGrade()}static#t=this.\u0275fac=function(I){return new(I||g)(t.Y36(u.F0),t.Y36(_.FF),t.Y36(a.N),t.Y36(p.P),t.Y36(s.V),t.Y36(h._),t.Y36(o.QS),t.Y36(d.f),t.Y36(m.i))};static#e=this.\u0275cmp=t.Xpm({type:g,selectors:[["app-search-students"]],features:[t._Bn([v.w,w.JJ])],decls:121,vars:27,consts:[[1,"content-header","row"],[1,"content-header-left","col-md-6","col-12","mb-2"],[1,"form-section"],[1,"la","la-eye"],[1,"content-header-right","col-md-6","col-12"],["role","group","aria-label","Button group with nested dropdown",1,"btn-group","float-md-right"],["type","button","id","btnNew",1,"btn","btn-info","btn-min-width","mr-1","mb-1",3,"routerLink"],["type","button","id","btnSend",1,"btn","btn-info","btn-min-width","mr-1","mb-1",3,"disabled","click"],[4,"ngIf"],["type","button","id","btnReSend",1,"btn","btn-info","btn-min-width","mr-1","mb-1",3,"disabled","click"],[1,"content-body"],["id","horizontal-form-layouts"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-content","collpase","show"],[1,"card-body"],[1,"form","form-horizontal",3,"formGroup","ngSubmit"],[1,"form-body"],[1,"col-md-6"],[1,"form-group","row"],["for","gradeId",1,"col-md-3","label-control"],[1,"col-md-9","mx-auto"],["id","gradeId","name","gradeId","formControlName","gradeId",1,"form-control","form-select",3,"ngClass","change"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["for","userinput1",1,"col-md-3","label-control"],["id","subjectId","name","subjectId","formControlName","subjectId",1,"form-control","form-select",3,"ngClass","change"],["subjectlist",""],["value",""],["type","text","formControlName","name","placeholder","(Optional)",1,"form-control"],["type","button","type","submit",1,"btn","btn-info","btn-min-width","mr-1","mb-1"],[1,"row","mb-md-2"],[1,"col-sm-12","col-md-6"],["id","tickets-table_length",1,"dataTables_length"],[1,"d-inline-flex","align-items-center"],["name","pageSize",1,"form-control","form-control-sm","mx-2",3,"ngModel","ngModelChange"],[3,"ngValue"],["id","tickets-table_filter",1,"dataTables_filter","text-md-end"],["type","text","name","searchTerm","aria-controls","tickets-table",1,"form-control","form-control-sm","ms-2",3,"ngModel","ngModelChange","input"],["class","row mb-2",4,"ngIf"],[1,"table-responsive"],["id","studentsTable",1,"table","table-striped","table-bordered","no-footer","dataTable"],[1,"bg-info","white"],[2,"width","80px"],["type","checkbox","id","chkLinktoAll","name","link",3,"checked","click"],["sortable","code",3,"sort"],[1,"la","la-sort",2,"background-color","transparent","color","#000000"],[3,"dblclick",4,"ngFor","ngForOf"],["class","row justify-content-md-between align-items-md-center mt-2",4,"ngIf"],["sendLoginCredentialsModal",""],["createLoginCredentialsModal",""],[3,"value"],[1,"invalid-feedback"],[1,"row","mb-2"],[1,"btn","btn-info",3,"click"],[3,"dblclick"],["type","checkbox",3,"checked","click"],[3,"result","term"],["id","btnDeleteGrade","type","button",1,"btn","btn-block","btn-primary","glow",2,"width","100px",3,"click"],[2,"width","100px","text-align","center"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[1,"pagination"],[1,"page-item","ng-star-inserted",3,"ngClass","click"],["aria-label","Previous","href","javascript:void(0);",1,"page-link"],["aria-hidden","true",1,"ng-star-inserted"],["class","page-item ng-star-inserted","aria-current","page",3,"ngClass","click",4,"ngFor","ngForOf"],["aria-label","Next","href","javascript:void(0);",1,"page-link"],["aria-current","page",1,"page-item","ng-star-inserted",3,"ngClass","click"],["href","javascript:void(0);",1,"page-link","ng-star-inserted"],[1,"modal-header"],["id","myModalLabel1",1,"modal-title"],["type","button","aria-hidden","true",1,"btn-close",3,"click"],[1,"modal-body",2,"text-align","center!important"],[1,"la","la-info-circle","font-large-4","line-height-1","text-muted","icon-align"],[1,"modal-footer"],["type","button","ngbAutofocus","",1,"btn","grey","btn-outline-secondary",3,"click"],["id","counter",4,"ngFor","ngForOf"],["id","counter"]],template:function(I,k){if(1&I){const K=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),t._UZ(3,"i",3),t._uU(4,"Search and View Available Students"),t.qZA()(),t.TgZ(5,"div",4)(6,"div",5)(7,"a",6),t._uU(8," Add New Student "),t.qZA(),t.TgZ(9,"button",7),t.NdJ("click",function(){t.CHM(K);const $=t.MAs(120);return t.KtG(k.sendLoginCredentialsAsync($))}),t._uU(10," Send "),t.YNc(11,y,2,1,"span",8),t._uU(12," Login Credentials "),t.qZA(),t.TgZ(13,"button",9),t.NdJ("click",function(){t.CHM(K);const $=t.MAs(120);return t.KtG(k.generateCredentialsAsync($))}),t._uU(14," Create "),t.YNc(15,T,2,1,"span",8),t._uU(16," Login Credentials "),t.qZA()()()(),t.TgZ(17,"div",10)(18,"section",11)(19,"div",12)(20,"div",13)(21,"div",14)(22,"div",15)(23,"div",16)(24,"form",17),t.NdJ("ngSubmit",function(){return k.onSubmit()}),t.TgZ(25,"div",18)(26,"div",12)(27,"div",19)(28,"div",20)(29,"label",21),t._uU(30,"Grade"),t.qZA(),t.TgZ(31,"div",22)(32,"select",23),t.NdJ("change",function($){return k.onChangeGrade($.target.value)}),t.TgZ(33,"option",24),t._uU(34,"--Select Grade--"),t.qZA(),t.YNc(35,C,2,2,"option",25),t.qZA(),t.YNc(36,O,2,1,"div",26),t.qZA()()(),t.TgZ(37,"div",19)(38,"div",20)(39,"label",27),t._uU(40,"Subject"),t.qZA(),t.TgZ(41,"div",22)(42,"select",28,29),t.NdJ("change",function($){return k.onChangeSubject($.target.value)}),t.TgZ(44,"option",30),t._uU(45,"--Select Subject--"),t.qZA(),t.YNc(46,L,2,2,"option",25),t.qZA(),t.YNc(47,W,2,1,"div",26),t.qZA()()()(),t.TgZ(48,"div",12)(49,"div",19)(50,"div",20)(51,"label",27),t._uU(52,"Student Name"),t.qZA(),t.TgZ(53,"div",22),t._UZ(54,"input",31),t.qZA()()(),t.TgZ(55,"div",19)(56,"div",20),t._UZ(57,"label",27),t.TgZ(58,"div",22)(59,"button",32),t._uU(60," Search "),t.qZA()()()()()()(),t.TgZ(61,"div",33)(62,"div",34)(63,"div",35)(64,"label",36),t._uU(65," Show "),t.TgZ(66,"select",37),t.NdJ("ngModelChange",function($){return k.paginationService.pageSize=$})("ngModelChange",function($){return k.paginationService.setPageSize($)}),t.TgZ(67,"option",38),t._uU(68,"10"),t.qZA(),t.TgZ(69,"option",38),t._uU(70,"25"),t.qZA(),t.TgZ(71,"option",38),t._uU(72,"50"),t.qZA(),t.TgZ(73,"option",38),t._uU(74,"100"),t.qZA()(),t._uU(75," entries "),t.qZA()()(),t.TgZ(76,"div",34)(77,"div",39)(78,"label",36),t._uU(79," Search: "),t.TgZ(80,"input",40),t.NdJ("ngModelChange",function($){return k.paginationService.searchTerm=$})("input",function($){return k.paginationService.onSearchInputChange($.target.value)}),t.qZA()()()()(),t.YNc(81,rt,4,0,"div",41),t.TgZ(82,"div",42)(83,"table",43)(84,"thead",44)(85,"tr")(86,"th",45)(87,"input",46),t.NdJ("click",function(){return k.onSelectAll()}),t.qZA()(),t.TgZ(88,"th",47),t.NdJ("sort",function($){return k.onSort($)}),t._uU(89," Grade "),t._UZ(90,"i",48),t.qZA(),t.TgZ(91,"th",47),t.NdJ("sort",function($){return k.onSort($)}),t._uU(92," Name "),t._UZ(93,"i",48),t.qZA(),t.TgZ(94,"th",47),t.NdJ("sort",function($){return k.onSort($)}),t._uU(95," Surname "),t._UZ(96,"i",48),t.qZA(),t.TgZ(97,"th",47),t.NdJ("sort",function($){return k.onSort($)}),t._uU(98," Exam Number "),t._UZ(99,"i",48),t.qZA(),t.TgZ(100,"th",47),t.NdJ("sort",function($){return k.onSort($)}),t._uU(101," Password "),t._UZ(102,"i",48),t.qZA(),t.TgZ(103,"th",47),t.NdJ("sort",function($){return k.onSort($)}),t._uU(104," ID Number "),t._UZ(105,"i",48),t.qZA(),t.TgZ(106,"th",47),t.NdJ("sort",function($){return k.onSort($)}),t._uU(107," Email Address "),t._UZ(108,"i",48),t.qZA(),t.TgZ(109,"th",47),t.NdJ("sort",function($){return k.onSort($)}),t._uU(110," Sent Login Credentials? "),t._UZ(111,"i",48),t.qZA(),t.TgZ(112,"th"),t._uU(113,"Delete Student"),t.qZA()()(),t.TgZ(114,"tbody"),t.YNc(115,r,22,17,"tr",49),t.qZA()()(),t.YNc(116,M,26,17,"div",50),t.qZA()()()()()()(),t.YNc(117,it,11,0,"ng-template",null,51,t.W1O)(119,N,14,3,"ng-template",null,52,t.W1O)}2&I&&(t.xp6(7),t.Q6J("routerLink",t.DdM(22,nt)),t.xp6(2),t.Q6J("disabled",!k.selectedStudentIds.length),t.xp6(2),t.Q6J("ngIf",k.selectedStudentIds.length),t.xp6(2),t.Q6J("disabled",!k.selectedStudentIds.length),t.xp6(2),t.Q6J("ngIf",k.selectedStudentIds.length),t.xp6(9),t.Q6J("formGroup",k.searchForm),t.xp6(8),t.Q6J("ngClass",t.VKq(23,X,k.submitted&&k.f.gradeId.errors)),t.xp6(3),t.Q6J("ngForOf",k.grades),t.xp6(),t.Q6J("ngIf",k.submitted&&k.f.gradeId.errors),t.xp6(6),t.Q6J("ngClass",t.VKq(25,X,k.submitted&&k.f.subjectId.errors)),t.xp6(4),t.Q6J("ngForOf",k.subjects),t.xp6(),t.Q6J("ngIf",k.submitted&&k.f.subjectId.errors),t.xp6(19),t.Q6J("ngModel",k.paginationService.pageSize),t.xp6(),t.Q6J("ngValue",10),t.xp6(2),t.Q6J("ngValue",25),t.xp6(2),t.Q6J("ngValue",50),t.xp6(2),t.Q6J("ngValue",100),t.xp6(7),t.Q6J("ngModel",k.paginationService.searchTerm),t.xp6(),t.Q6J("ngIf",k.students.length),t.xp6(6),t.Q6J("checked",k.isAllSelected),t.xp6(28),t.Q6J("ngForOf",k.paginationService.paginatedData),t.xp6(),t.Q6J("ngIf",k.paginationService.totalItems))},dependencies:[w.mk,w.sg,w.O5,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.On,_._h,o.sg,o.u,u.rH]})}return g})();var ht=z(74825),gt=z(22844),dt=z(69862);let ct=(()=>{class g extends gt.s{constructor(n){super(n,"Regions"),this.http=n}static#t=this.\u0275fac=function(I){return new(I||g)(t.LFG(dt.eN))};static#e=this.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();var _t=z(3193);const ft=["spinnerLoaderModalStudent"],yt=()=>["/portal/students/add-student"];function wt(g,V){1&g&&(t.TgZ(0,"div",24)(1,"a",25),t._uU(2," Add New Student "),t.qZA()()),2&g&&(t.xp6(),t.Q6J("routerLink",t.DdM(1,yt)))}function e(g,V){}function q(g,V){if(1&g&&t.YNc(0,e,0,0,"ng-template",26),2&g){t.oxw();const n=t.MAs(27);t.Q6J("ngTemplateOutlet",n)}}function U(g,V){}function f(g,V){if(1&g&&t.YNc(0,U,0,0,"ng-template",26),2&g){t.oxw();const n=t.MAs(29);t.Q6J("ngTemplateOutlet",n)}}function l(g,V){1&g&&t._UZ(0,"i",66)}function A(g,V){1&g&&(t.TgZ(0,"div"),t._uU(1,"First Name is required"),t.qZA())}function D(g,V){if(1&g&&(t.TgZ(0,"div",67),t.YNc(1,A,2,0,"div",68),t.qZA()),2&g){const n=t.oxw(2);t.xp6(),t.Q6J("ngIf",n.f.name.errors.required)}}function R(g,V){1&g&&t._UZ(0,"i",66)}function Z(g,V){1&g&&(t.TgZ(0,"div"),t._uU(1,"Surname is required"),t.qZA())}function G(g,V){if(1&g&&(t.TgZ(0,"div",67),t.YNc(1,Z,2,0,"div",68),t.qZA()),2&g){const n=t.oxw(2);t.xp6(),t.Q6J("ngIf",n.f.surname.errors.required)}}function tt(g,V){1&g&&t._UZ(0,"i",66)}function Y(g,V){1&g&&(t.TgZ(0,"div"),t._uU(1,"ID Number / Date Of Birth is required"),t.qZA())}function et(g,V){if(1&g&&(t.TgZ(0,"div",67),t.YNc(1,Y,2,0,"div",68),t.qZA()),2&g){const n=t.oxw(2);t.xp6(),t.Q6J("ngIf",n.f.idNumber.errors.required)}}function ut(g,V){1&g&&t._UZ(0,"i",66)}function lt(g,V){1&g&&(t.TgZ(0,"div"),t._uU(1,"Student Number is required"),t.qZA())}function St(g,V){if(1&g&&(t.TgZ(0,"div",67),t.YNc(1,lt,2,0,"div",68),t.qZA()),2&g){const n=t.oxw(2);t.xp6(),t.Q6J("ngIf",n.f.studentNo.errors.required)}}function Ct(g,V){1&g&&t._UZ(0,"i",66)}function xt(g,V){1&g&&(t.TgZ(0,"div"),t._uU(1,"Email Address is required"),t.qZA())}function Tt(g,V){if(1&g&&(t.TgZ(0,"div",67),t.YNc(1,xt,2,0,"div",68),t.qZA()),2&g){const n=t.oxw(2);t.xp6(),t.Q6J("ngIf",n.f.emailAddress.errors.required)}}function pt(g,V){1&g&&t._UZ(0,"i",66)}function It(g,V){if(1&g&&(t.TgZ(0,"option",69),t._uU(1),t.qZA()),2&g){const n=V.$implicit;t.Q6J("value",n.id),t.xp6(),t.Oqu(n.description)}}function Nt(g,V){1&g&&(t.TgZ(0,"div"),t._uU(1,"Grade is required"),t.qZA())}function At(g,V){if(1&g&&(t.TgZ(0,"div",67),t.YNc(1,Nt,2,0,"div",68),t.qZA()),2&g){const n=t.oxw(2);t.xp6(),t.Q6J("ngIf",n.f.gradeId.errors.required)}}function Et(g,V){1&g&&t._UZ(0,"i",66)}function Ot(g,V){1&g&&t._UZ(0,"i",66)}function jt(g,V){if(1&g&&(t.TgZ(0,"option",69),t._uU(1),t.qZA()),2&g){const n=V.$implicit;t.Q6J("value",n.id),t.xp6(),t.Oqu(n.description)}}function qt(g,V){1&g&&(t.TgZ(0,"div"),t._uU(1,"Region is required"),t.qZA())}function Ut(g,V){if(1&g&&(t.TgZ(0,"div",67),t.YNc(1,qt,2,0,"div",68),t.qZA()),2&g){const n=t.oxw(2);t.xp6(),t.Q6J("ngIf",n.f.regionId.errors.required)}}function Zt(g,V){1&g&&t._UZ(0,"i",66)}const vt=g=>({"is-invalid":g});function Dt(g,V){if(1&g){const n=t.EpF();t.TgZ(0,"form",27),t.NdJ("ngSubmit",function(){t.CHM(n);const k=t.oxw();return t.KtG(k.onSubmit())}),t.TgZ(1,"div",28)(2,"h4",29),t._UZ(3,"i",30),t._uU(4," Personal Info"),t.qZA(),t.TgZ(5,"div",31)(6,"div",32)(7,"div",33)(8,"label",34),t._uU(9," First Name "),t.YNc(10,l,1,0,"i",35),t.qZA(),t._UZ(11,"input",36),t.YNc(12,D,2,1,"div",37),t.qZA()(),t.TgZ(13,"div",32)(14,"div",33)(15,"label",38),t._uU(16," Surname "),t.YNc(17,R,1,0,"i",35),t.qZA(),t._UZ(18,"input",39),t.YNc(19,G,2,1,"div",37),t.qZA()()(),t.TgZ(20,"div",31)(21,"div",32)(22,"div",33)(23,"label",40),t._uU(24," ID Number / Date Of Birth "),t.YNc(25,tt,1,0,"i",35),t.qZA(),t._UZ(26,"input",41),t.YNc(27,et,2,1,"div",37),t.qZA()(),t.TgZ(28,"div",32)(29,"div",33)(30,"label",42),t._uU(31," Student Number "),t.YNc(32,ut,1,0,"i",35),t.qZA(),t._UZ(33,"input",43),t.YNc(34,St,2,1,"div",37),t.qZA()()(),t.TgZ(35,"div",31)(36,"div",32)(37,"div",33)(38,"label",44),t._uU(39," Email Address "),t.YNc(40,Ct,1,0,"i",35),t.qZA(),t._UZ(41,"input",45),t.YNc(42,Tt,2,1,"div",37),t.qZA()(),t.TgZ(43,"div",32)(44,"div",33)(45,"label",46),t._uU(46," Contact Number (optional) "),t.qZA(),t._UZ(47,"input",47),t.qZA()()(),t.TgZ(48,"div",31)(49,"div",32)(50,"div",33)(51,"label",48),t._uU(52," Grade "),t.YNc(53,pt,1,0,"i",35),t.qZA(),t.TgZ(54,"select",49),t.NdJ("change",function(k){t.CHM(n);const K=t.oxw();return t.KtG(K.onGradeChange(k.target.value))}),t.TgZ(55,"option",50),t._uU(56,"-- Select Grade --"),t.qZA(),t.YNc(57,It,2,2,"option",51),t.qZA(),t.YNc(58,At,2,1,"div",37),t.qZA()(),t.TgZ(59,"div",32)(60,"div",33)(61,"label",52),t._uU(62," Password "),t.qZA(),t._UZ(63,"input",53),t.qZA()()(),t.TgZ(64,"div",31)(65,"div",32)(66,"div",33)(67,"label",54),t._uU(68," Login Exam Number "),t.YNc(69,Et,1,0,"i",35),t.qZA(),t._UZ(70,"input",55),t.qZA()(),t.TgZ(71,"div",32)(72,"div",33)(73,"label",56),t._uU(74," Region "),t.YNc(75,Ot,1,0,"i",35),t.qZA(),t.TgZ(76,"select",57)(77,"option",50),t._uU(78,"-- Select Region --"),t.qZA(),t.YNc(79,jt,2,2,"option",51),t.qZA(),t.YNc(80,Ut,2,1,"div",37),t.qZA()()()(),t.TgZ(81,"div",31)(82,"div",32)(83,"div",33)(84,"label",58),t._uU(85," External Email "),t.YNc(86,Zt,1,0,"i",35),t.qZA(),t._UZ(87,"input",59),t.qZA()(),t.TgZ(88,"div",32)(89,"div",33)(90,"fieldset")(91,"div",60)(92,"input",61),t.NdJ("change",function(){t.CHM(n);const k=t.oxw();return t.KtG(k.onCheck())}),t.qZA(),t.TgZ(93,"label",62),t._uU(94," Eligible For External Login "),t.qZA()()()()()(),t.TgZ(95,"div",63)(96,"button",64),t._UZ(97,"i",65),t._uU(98," Save "),t.qZA()()()}if(2&g){const n=t.oxw();t.Q6J("formGroup",n.form),t.xp6(10),t.Q6J("ngIf",n.f.name.errors&&n.f.name.errors.required),t.xp6(),t.Q6J("ngClass",t.VKq(30,vt,n.submitted&&n.f.name.errors)),t.xp6(),t.Q6J("ngIf",n.submitted&&n.f.name.errors),t.xp6(5),t.Q6J("ngIf",n.f.surname.errors&&n.f.surname.errors.required),t.xp6(),t.Q6J("ngClass",t.VKq(32,vt,n.submitted&&n.f.surname.errors)),t.xp6(),t.Q6J("ngIf",n.submitted&&n.f.surname.errors),t.xp6(6),t.Q6J("ngIf",n.f.idNumber.errors&&n.f.idNumber.errors.required),t.xp6(),t.Q6J("ngClass",t.VKq(34,vt,n.submitted&&n.f.idNumber.errors)),t.xp6(),t.Q6J("ngIf",n.submitted&&n.f.idNumber.errors),t.xp6(5),t.Q6J("ngIf",n.f.studentNo.errors&&n.f.studentNo.errors.required),t.xp6(),t.Q6J("ngClass",t.VKq(36,vt,n.submitted&&n.f.studentNo.errors)),t.xp6(),t.Q6J("ngIf",n.submitted&&n.f.studentNo.errors),t.xp6(6),t.Q6J("ngIf",n.f.emailAddress.errors&&n.f.emailAddress.errors.required),t.xp6(),t.Q6J("ngClass",t.VKq(38,vt,n.submitted&&n.f.emailAddress.errors)),t.xp6(),t.Q6J("ngIf",n.submitted&&n.f.emailAddress.errors),t.xp6(5),t.Q6J("ngClass",t.VKq(40,vt,n.submitted&&n.f.contactNo.errors)),t.xp6(6),t.Q6J("ngIf",n.f.gradeId.errors&&n.f.gradeId.errors.required),t.xp6(),t.Q6J("ngClass",t.VKq(42,vt,n.submitted&&n.f.gradeId.errors)),t.xp6(3),t.Q6J("ngForOf",n.grades),t.xp6(),t.Q6J("ngIf",n.submitted&&n.f.gradeId.errors),t.xp6(5),t.Q6J("ngClass",t.VKq(44,vt,n.submitted&&n.f.password.errors)),t.xp6(6),t.Q6J("ngIf",n.f.examNo.errors&&n.f.examNo.errors.required),t.xp6(),t.Q6J("ngClass",t.VKq(46,vt,n.submitted&&n.f.examNo.errors)),t.xp6(5),t.Q6J("ngIf",n.f.regionId.errors&&n.f.regionId.errors.required),t.xp6(),t.Q6J("ngClass",t.VKq(48,vt,n.submitted&&n.f.regionId.errors)),t.xp6(3),t.Q6J("ngForOf",n.regions),t.xp6(),t.Q6J("ngIf",n.submitted&&n.f.regionId.errors),t.xp6(6),t.Q6J("ngIf",n.f.externalEmail.errors&&n.f.externalEmail.errors.required),t.xp6(),t.Q6J("ngClass",t.VKq(50,vt,n.submitted&&n.f.externalEmail.errors))}}function Rt(g,V){if(1&g){const n=t.EpF();t.TgZ(0,"tr",79),t.NdJ("click",function(){const K=t.CHM(n).$implicit,Q=t.oxw(2);return t.KtG(Q.moveToTarget(K))}),t.TgZ(1,"th",80),t._uU(2),t.qZA()()}if(2&g){const n=V.$implicit;t.xp6(2),t.Oqu(n.description)}}function Pt(g,V){if(1&g){const n=t.EpF();t.TgZ(0,"tr",79),t.NdJ("click",function(){const K=t.CHM(n).$implicit,Q=t.oxw(2);return t.KtG(Q.moveToSource(K))}),t.TgZ(1,"th",80),t._uU(2),t.qZA()()}if(2&g){const n=V.$implicit;t.xp6(2),t.Oqu(n.description)}}function Lt(g,V){if(1&g){const n=t.EpF();t.TgZ(0,"section",70)(1,"div",31)(2,"div",32)(3,"div",71)(4,"div",72)(5,"table",73)(6,"thead")(7,"tr")(8,"th",74)(9,"button",75),t.NdJ("click",function(){t.CHM(n);const k=t.oxw();return t.KtG(k.moveAllToTarget())}),t._uU(10,">>"),t.qZA()()()(),t.TgZ(11,"tbody"),t.YNc(12,Rt,3,1,"tr",76),t.qZA()()()()(),t.TgZ(13,"div",32)(14,"div",71)(15,"div",72)(16,"table",73)(17,"thead")(18,"tr")(19,"th",74)(20,"button",75),t.NdJ("click",function(){t.CHM(n);const k=t.oxw();return t.KtG(k.moveAllToSource())}),t._uU(21,"<<"),t.qZA()()()(),t.TgZ(22,"tbody"),t.YNc(23,Pt,3,1,"tr",76),t.qZA()()()()()(),t.TgZ(24,"div",31)(25,"div",77)(26,"button",78),t.NdJ("click",function(){t.CHM(n);const k=t.oxw();return t.KtG(k.onLinkClick())}),t._UZ(27,"i",65),t._uU(28,"Link "),t.qZA()()()()}if(2&g){const n=t.oxw();t.xp6(12),t.Q6J("ngForOf",n.baseSubjects),t.xp6(11),t.Q6J("ngForOf",n.selectedSubjects)}}function Mt(g,V){1&g&&(t.TgZ(0,"div",81),t._UZ(1,"img",82),t.qZA())}const Qt=()=>["/portal/students/searchgrid-students"],Gt=g=>({disabled:g});let Jt=(()=>{class g{constructor(n,I,k,K,Q,$,at,bt){this.router=n,this.route=I,this.modalService=k,this.gradeService=K,this.regionSerbice=Q,this.studentService=$,this.subjectService=at,this.formBuilder=bt,this.activeTabId=1,this.selectedSubjects=[],this.studentSubjects=[],this.baseSubjects=[],this.students=[],this.subjects=[],this.regions=[],this.grades=[],this.isPageLoaded=!1,this.submitted=!1,this.itemsPerPage=10,this.loading=!1,this.pageNumber=1,this.isMoveAllToSource=!1,this.spinnerDuration=500,this.route.params.subscribe(mt=>{this.studentId=mt.id,this.getStudent()})}ngOnInit(){this.getStudentSubjects(),this.getRegions(),this.getGrades(),this.initForms()}get f(){return this.form.controls}displayStudentInfoTab(){this.active=1}setActiveTab(){this.active=2}filterBaseSubjects(){!this.baseSubjects.length||!this.studentSubjects.length||this.studentSubjects.forEach(n=>{const I=this.baseSubjects.find(k=>k.id===n.id);I&&this.moveToTarget(I)})}getGrades(){this.gradeService.get().subscribe(n=>{this.grades=n})}refilterBaseSubjects(){!this.baseSubjects.length||!this.studentSubjects.length||this.studentSubjects.forEach(n=>{this.baseSubjects.find(k=>k.id===n.id)})}getStudent(){this.studentId&&this.studentService.getById(this.studentId).subscribe(n=>{this.student=n,this.initForms(n)})}getStudentSubjects(){this.studentId&&this.subjectService.getUrl(`get-by-student/${this.studentId}`).subscribe(n=>{this.studentSubjects=n,this.isMoveAllToSource?this.refilterBaseSubjects():this.filterBaseSubjects()})}getRegions(){this.regionSerbice.get().subscribe(n=>{this.regions=n})}initForms(n){this.form=this.formBuilder.group({name:[n?.name??"",[o.kI.required]],surname:[n?.surname??"",[o.kI.required]],idNumber:[n?.idNumber??"",[o.kI.required]],studentNo:[n?.studentNo??"",[o.kI.required]],emailAddress:[n?.emailAddress??"",[o.kI.required,o.kI.email]],contactNo:[n?.contactNo??""],gradeId:[n?.gradeId??"",[o.kI.required]],password:[{value:n?"[Encryped]":"",disabled:!0}],examNo:[n?.examNo??"",[]],regionId:[n?.regionId??"",[o.kI.required]],externalEmail:[n?.externalEmail??"",[o.kI.email]],eligibleForExternalLogin:[n?.eligibleForExternalLogin??!1,[]]}),this.submitted=!1,n&&this.onGradeChange(n.gradeId)}onCheck(){this.form.value.eligibleForExternalLogin=!this.form.value.eligibleForExternalLogin}moveAllToSource(){this.isMoveAllToSource=!0,this.baseSubjects=this.subjects,this.selectedSubjects=[]}moveAllToTarget(){this.setMoveSubjectsBoolean(),this.selectedSubjects=this.subjects,this.baseSubjects=[]}moveToSource(n){this.setMoveSubjectsBoolean(),this.baseSubjects.push(n),this.selectedSubjects=this.selectedSubjects.filter(I=>I.id!==n.id)}moveToTarget(n){this.setMoveSubjectsBoolean(),this.selectedSubjects.push(n),this.baseSubjects=this.baseSubjects.filter(I=>I.id!==n.id)}onGradeChange(n){this.subjectService.getByGradeId(n).subscribe(I=>{this.subjects=I,this.baseSubjects=I,this.selectedSubjects=[],this.filterBaseSubjects()})}onLinkClick(){1!=this.isMoveAllToSource?(this.studentService.linkSubjects(this.selectedSubjects,this.studentId).subscribe(()=>{i().fire("Student Subjects Linked","The subjects have been linked to the student.","success"),this.getStudent(),this.getStudentSubjects()}),this.setMoveSubjectsBoolean()):this.delinkAllStudentSubjects()}delinkAllStudentSubjects(){this.studentId&&this.studentService.delinkSubjects(this.baseSubjects,this.studentId).subscribe(()=>{i().fire("Student subjects links have been removed","The subjects links have been removed.","success"),this.getStudent(),this.getStudentSubjects()})}onSubmit(n){if(this.submitted=!0,!this.form.invalid)if(this.open(this.content),console.log(this.student),this.student){const I=this.form.value;I.id=this.student.id,I.centerId=this.student.centerId,this.studentService.updateUrl(`${I.id}/update-student`,I).subscribe({next:k=>{(0,ht.H)(this.spinnerDuration).subscribe(()=>this.closeSpinnerModal(this.modalReference)),i().fire("Student Information Updated","Student information has been updated.","success"),this.router.navigate(["/portal/students/view-student",k.id])},error:k=>{console.log(k),this.title="Add/Update unsuccessful",this.message="The specified student number already exists",this.showModal=!0},complete:()=>{}})}else console.log(this.student),console.log("if not student"),this.studentService.create(this.form.value).subscribe({next:I=>{this.mailData=I,this.student=I,console.log(I),console.log(JSON.stringify(I)),(0,ht.H)(this.spinnerDuration).subscribe(()=>this.closeSpinnerModal(this.modalReference)),i().fire("Student Information Saved","Student information saved and has been sent to the student via email. You may now link subjects to the student.","success"),this.studentId=JSON.stringify(I.id),this.getStudent(),this.router.navigate(["/portal/students/view-student",this.studentId])},error:I=>{console.log(I),this.title="Add/Update unsuccessful",this.message="The specified student number already exists",this.showModal=!0},complete:()=>{this.mailStudent(this.mailData)}})}mailStudent(n){console.log(n);const I=n.map(at=>at.emailAddress),k=n.map(at=>at.examNo),K=n.map(at=>at.plainPassword),Q=n.map(at=>at.name);console.log(I+"   "+k+"   "+K+" "+Q);const $={emailAddress:String(I),ExamNo:String(k),Password:String(K),Name:String(Q)};console.log($),this.studentService.sendEmail($).subscribe({next:at=>{console.log(at)},error:at=>{console.log(at)},complete:()=>{}})}open(n){this.modalReference=this.modalService.open(n),this.modalReference.result.then(I=>{this.closeResult=`Closed with: ${I}`},()=>{this.closeResult="Dismissed "})}closeSpinnerModal(n){n.dismiss()}setMoveSubjectsBoolean(){this.isMoveAllToSource=!1}ngOnDestroy(){this.setMoveSubjectsBoolean()}static#t=this.\u0275fac=function(I){return new(I||g)(t.Y36(u.F0),t.Y36(u.gz),t.Y36(_.FF),t.Y36(p.P),t.Y36(ct),t.Y36(s.V),t.Y36(h._),t.Y36(o.QS))};static#e=this.\u0275cmp=t.Xpm({type:g,selectors:[["app-add-student"]],viewQuery:function(I,k){if(1&I&&t.Gf(ft,5),2&I){let K;t.iGM(K=t.CRH())&&(k.content=K.first)}},decls:33,vars:13,consts:[["id","justified-tabs-with-icons"],[1,"row","match-height"],[1,"col-lg-12"],["id","btnBack","type","button",1,"btn","btn-secondary",3,"routerLink"],[1,"card"],[1,"card-header"],[1,"card-title"],["class","heading-elements",4,"ngIf"],[1,"card-content"],[1,"card-body"],["ngbNav","",1,"nav","nav-tabs","nav-justified","mb-3",3,"activeId"],["Badge","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],[1,"la","la-info-circle"],["ngbNavContent",""],[3,"ngbNavItem","ngClass","click"],[1,"la","la-link"],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],["StudentInfoTab",""],["LinkSubjectsTab",""],["spinnerLoaderModalStudent",""],[3,"content","title","show"],[1,"heading-elements"],["type","button","id","btnNew",1,"btn","btn-info","btn-min-width","mr-1","mb-1",3,"routerLink"],[3,"ngTemplateOutlet"],[3,"formGroup","ngSubmit"],[1,"form-body"],[1,"form-section"],[1,"feather","ft-user"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","name","data-toggle","tooltip","title","First Name",1,"control-label"],["class","fa fa-asterisk text-danger",4,"ngIf"],["type","text","id","name","name","name","maxlength","50","placeholder","Enter the First Name","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","surname","data-toggle","tooltip","title","Surname",1,"control-label"],["type","text","id","surname","name","surname","placeholder","Enter the Surname","formControlName","surname","maxlength","50",1,"form-control",3,"ngClass"],["for","idNumber","data-toggle","tooltip","title","ID Number / Date Of Birth",1,"control-label"],["type","text","id","idNumber","name","idNumber","placeholder","Enter the ID Number / Date Of Birth","formControlName","idNumber","maxlength","50",1,"form-control",3,"ngClass"],["for","studentNo","data-toggle","tooltip","title","Student Number",1,"control-label"],["type","text","id","studentNo","name","studentNo","placeholder","Enter the Student Number","formControlName","studentNo","maxlength","50",1,"form-control",3,"ngClass"],["for","emailAddress","data-toggle","tooltip","title","Email Address",1,"control-label"],["type","email","id","emailAddress","name","emailAddress","placeholder","Enter the Email Address","formControlName","emailAddress",1,"form-control",3,"ngClass"],["for","contactNo","data-toggle","tooltip","title","Contact Number (optional)",1,"control-label"],["type","tel","id","contactNo","name","contactNo","placeholder","Enter the Contact Number (optional)","formControlName","contactNo",1,"form-control",3,"ngClass"],["for","gradeId","data-toggle","tooltip","title","Grade",1,"control-label"],["id","gradeId","name","gradeId","formControlName","gradeId",1,"form-control",3,"ngClass","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","password","data-toggle","tooltip","title","Password",1,"control-label"],["type","text","id","password","name","password","placeholder","Enter the Password","formControlName","password",1,"form-control",3,"ngClass"],["for","examNo","data-toggle","tooltip","title","Login Exam Number",1,"control-label"],["type","text","id","examNo","name","examNo","placeholder","Enter the Login Exam Number","formControlName","examNo","readonly","readonly",1,"form-control",3,"ngClass"],["for","regionId","data-toggle","tooltip","title","Region",1,"control-label"],["id","regionId","name","regionId","formControlName","regionId",1,"form-control",3,"ngClass"],["for","externalEmail","data-toggle","tooltip","title","External EmailL",1,"control-label"],["type","text","id","externalEmail","name","externalEmail","placeholder","Enter the External Email","formControlName","externalEmail",1,"form-control",3,"ngClass"],[1,"form-check"],["type","checkbox","formControlName","eligibleForExternalLogin","id","eligibleForExternalLogin",3,"change"],["for","eligibleForExternalLogin",1,"form-check-label"],[1,"form-actions"],["type","submit","id","btnSaveStudent",1,"btn","btn-primary"],[1,"la","la-check-square-o"],[1,"fa","fa-asterisk","text-danger"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[1,"with-multi-selection"],[1,"table","table-","table-small","mb-0","back_ground"],[1,"table-responsive"],[1,"table","table-column"],["scope","col"],["type","button","title","Move all",1,"btn","moveall","btn-outline-secondary","btn-sm","btn-block",3,"click"],["class","ng-star-inserted",3,"click",4,"ngFor","ngForOf"],[1,"col-md-12"],["type","button","id","btnLink",1,"btn","btn-primary",3,"click"],[1,"ng-star-inserted",3,"click"],["scope","row"],["id","loader",2,"z-index","99999","height","100%","width","100%","background","transparent","position","fixed"],["src","../../../../assets/images/loaderBlueTrans.gif","id","bg","alt","",2,"top","0","left","0","position","absolute","margin","auto","right","0","bottom","0","display","block"]],template:function(I,k){if(1&I&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"button",3),t._uU(4,"Back"),t.qZA(),t.TgZ(5,"div",4)(6,"div",5)(7,"h4",6),t._uU(8,"Student Maintenance"),t.qZA(),t.YNc(9,wt,3,2,"div",7),t.qZA(),t.TgZ(10,"div",8)(11,"div",9)(12,"ul",10,11)(14,"li",12)(15,"a",13),t._UZ(16,"i",14),t._uU(17," Student Information "),t.qZA(),t.YNc(18,q,1,1,"ng-template",15),t.qZA(),t.TgZ(19,"li",16),t.NdJ("click",function(){return k.setActiveTab()}),t.TgZ(20,"a",13),t._UZ(21,"i",17),t._uU(22," Link Students to Subjects "),t.qZA(),t.YNc(23,f,1,1,"ng-template",15),t.qZA()(),t.TgZ(24,"div",18),t._UZ(25,"div",19),t.qZA()()()()()()(),t.YNc(26,Dt,99,52,"ng-template",null,20,t.W1O)(28,Lt,29,2,"ng-template",null,21,t.W1O)(30,Mt,2,0,"ng-template",null,22,t.W1O),t._UZ(32,"app-pop-up",23)),2&I){const K=t.MAs(13);t.xp6(3),t.Q6J("routerLink",t.DdM(10,Qt)),t.xp6(6),t.Q6J("ngIf",k.student),t.xp6(3),t.Q6J("activeId",k.active),t.xp6(2),t.Q6J("ngbNavItem",1),t.xp6(5),t.Q6J("ngbNavItem",2)("ngClass",t.VKq(11,Gt,!k.student)),t.xp6(6),t.Q6J("ngbNavOutlet",K),t.xp6(7),t.s9C("content",k.message),t.s9C("title",k.title),t.s9C("show",k.showModal)}},dependencies:[w.mk,w.sg,w.O5,w.tP,o._Y,o.YN,o.Kr,o.Fj,o.Wl,o.EJ,o.JJ,o.JL,o.nD,_.uN,_.Pz,_.nv,_.Is,_.Vx,_.tO,_.Dy,o.sg,o.u,u.rH,_t.s],styles:["input[readonly][_ngcontent-%COMP%]{background-color:#f0f0f0;color:#303030}"]})}return g})();var Yt=z(15861),Wt=z(85965),Kt=z(10217),Ht=z(26834),Vt=z(3017),$t=z(64197),Xt=z(6593);function te(g,V){if(1&g&&(t.TgZ(0,"option",42),t._uU(1),t.qZA()),2&g){const n=V.$implicit;t.Q6J("value",n.id),t.xp6(),t.hij(" ",n.code,"")}}function ee(g,V){1&g&&(t.TgZ(0,"div"),t._uU(1,"Grade is required "),t.qZA())}function ne(g,V){if(1&g&&(t.TgZ(0,"div",43),t.YNc(1,ee,2,0,"div",44),t.qZA()),2&g){const n=t.oxw();t.xp6(),t.Q6J("ngIf",n.f.gradeId.errors.required)}}function re(g,V){if(1&g&&(t.TgZ(0,"option",42),t._uU(1),t.qZA()),2&g){const n=V.$implicit;t.Q6J("value",n.id),t.xp6(),t.hij(" ",n.description,"")}}function ie(g,V){1&g&&(t.TgZ(0,"div"),t._uU(1,"Subject is required "),t.qZA())}function se(g,V){if(1&g&&(t.TgZ(0,"div",43),t.YNc(1,ie,2,0,"div",44),t.qZA()),2&g){const n=t.oxw();t.xp6(),t.Q6J("ngIf",n.f.subjectId.errors.required)}}function oe(g,V){if(1&g&&(t.TgZ(0,"option",42),t._uU(1),t.qZA()),2&g){const n=V.$implicit;t.Q6J("value",n.id),t.xp6(),t.hij(" ",n.testName,"")}}function ae(g,V){if(1&g){const n=t.EpF();t.TgZ(0,"tr")(1,"td"),t._UZ(2,"ngb-highlight",45),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"ngb-highlight",45),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"ngb-highlight",45),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"ngb-highlight",45),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"ngb-highlight",45),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"ngb-highlight",45),t.qZA(),t.TgZ(13,"td")(14,"button",46),t.NdJ("click",function(){const K=t.CHM(n).$implicit,Q=t.oxw();return t.KtG(Q.downloadAnswers(K))}),t._uU(15," Download "),t.qZA()()()}if(2&g){const n=V.$implicit,I=t.oxw();t.xp6(2),t.Q6J("result",n.name)("term",I.paginationService.searchTerm),t.xp6(2),t.Q6J("result",n.surname)("term",I.paginationService.searchTerm),t.xp6(2),t.Q6J("result",n.grade)("term",I.paginationService.searchTerm),t.xp6(2),t.Q6J("result",n.subject)("term",I.paginationService.searchTerm),t.xp6(2),t.Q6J("result",n.testName)("term",I.paginationService.searchTerm),t.xp6(2),t.Q6J("result",n.testCompleted)("term",I.paginationService.searchTerm)}}function de(g,V){if(1&g&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&g){const n=t.oxw(2);t.xp6(),t.hij("",n.paginationService.searchTotal," search results from ")}}const le=g=>({active:g});function ce(g,V){if(1&g){const n=t.EpF();t.TgZ(0,"li",57),t.NdJ("click",function(){const K=t.CHM(n).$implicit,Q=t.oxw(2);return t.KtG(Q.paginationService.setPage(K))}),t.TgZ(1,"a",58),t._uU(2),t.qZA()()}if(2&g){const n=V.$implicit,I=t.oxw(2);t.Q6J("ngClass",t.VKq(2,le,I.paginationService.currentPage==n)),t.xp6(2),t.hij(" ",n," ")}}const zt=g=>({disabled:g});function ue(g,V){if(1&g){const n=t.EpF();t.TgZ(0,"div",47)(1,"div",48)(2,"div",49),t._uU(3),t.YNc(4,de,2,1,"span",44),t._uU(5),t.qZA()(),t.TgZ(6,"div",48)(7,"div",50)(8,"ul",51)(9,"li",52),t.NdJ("click",function(){t.CHM(n);const k=t.oxw();return t.KtG(k.paginationService.setPage(1))}),t.TgZ(10,"a",53)(11,"span",54),t._uU(12,"\xab\xab"),t.qZA()()(),t.TgZ(13,"li",52),t.NdJ("click",function(){t.CHM(n);const k=t.oxw();return t.KtG(k.paginationService.goToPreviousPage())}),t.TgZ(14,"a",53)(15,"span",54),t._uU(16,"\xab"),t.qZA()()(),t.YNc(17,ce,3,4,"li",55),t.TgZ(18,"li",52),t.NdJ("click",function(){t.CHM(n);const k=t.oxw();return t.KtG(k.paginationService.goToNextPage())}),t.TgZ(19,"a",56)(20,"span",54),t._uU(21,"\xbb"),t.qZA()()(),t.TgZ(22,"li",52),t.NdJ("click",function(){t.CHM(n);const k=t.oxw();return t.KtG(k.paginationService.setPage(k.paginationService.totalPages))}),t.TgZ(23,"a",56)(24,"span",54),t._uU(25,"\xbb\xbb"),t.qZA()()()()()()()}if(2&g){const n=t.oxw();t.xp6(3),t.AsE("Showing ",n.paginationService.startIndex," to ",n.paginationService.endIndex," of "),t.xp6(),t.Q6J("ngIf",n.paginationService.searchTerm),t.xp6(),t.hij(" ",n.paginationService.totalItems," entries "),t.xp6(4),t.Q6J("ngClass",t.VKq(9,zt,1==n.paginationService.currentPage)),t.xp6(4),t.Q6J("ngClass",t.VKq(11,zt,1==n.paginationService.currentPage)),t.xp6(4),t.Q6J("ngForOf",n.paginationService.paginationLinks),t.xp6(),t.Q6J("ngClass",t.VKq(13,zt,n.paginationService.currentPage==n.paginationService.totalPages)),t.xp6(4),t.Q6J("ngClass",t.VKq(15,zt,n.paginationService.currentPage==n.paginationService.totalPages))}}const Ft=g=>({"is-invalid":g}),he=[{path:"",component:H},{path:"add-student",component:Jt},{path:"view-student/:id",component:Jt},{path:"searchgrid-students",component:H},{path:"export-student-answers",component:(()=>{class g{constructor(n,I,k,K,Q,$,at,bt){this.gradeService=n,this.paginationService=I,this.subjectService=k,this.testService=K,this.studentTestService=Q,this.formBuilder=$,this.regionService=at,this.sanitizer=bt,this.hostUrl="https://ej2services.syncfusion.com/production/web-services/",this.submitted=!1,this.grades=[],this.itemsPerPage=10,this.selectedSubjects=[],this.tests=[],this.resulting=[],this.regions=[],this.documentIds=[],this.studentIds=[],this.getSubjects=()=>{this.subjectService.getByGradeId(this.selectedGrade).subscribe(mt=>{this.subjects=mt})},this.onChangeTest=mt=>{this.selectedTestId=mt}}ngOnInit(){this.selectedGrade=JSON.parse(localStorage.getItem("currentgrade")),this.getGrades(),this.getRegions(),this.initForms(),this.selectedGrade=0}get f(){return this.searchAnswersForm.controls}getGrades(){z(16676),this.gradeService.get().subscribe(I=>{this.grades=I})}onGradeChange(n){0!=n&&(this.selectedGrade=n,this.subjectService.getByGradeId(n).subscribe(I=>{this.subjects=I,this.selectedGrade=n,this.getTests(this.selectedGrade,0)}),this.f.subjectId.get("subjectId").setValue(0))}onChangeSubject(n){this.selectedSubject=n,this.testService.getOTPTest(this.selectedGrade,n).subscribe(I=>{this.tests=I,this.f.testId.get("testId").setValue(0)})}getRegions(){this.regionService.get().subscribe(n=>{this.regions=n})}downloadAnswers(n){this.studentTestService.downloadStudentAnswer(this.selectedTestId,n.studentID).subscribe(I=>{this.convertSyncfusionBase64ToUrl(n.answer)})}convertSyncfusionBase64ToUrl(n){const I=atob(n),k=[];for(let Q=0;Q<I.length;Q+=512){const $=I.slice(Q,Q+512),at=new Array($.length);for(let mt=0;mt<$.length;mt++)at[mt]=$.charCodeAt(mt);const bt=new Uint8Array(at);k.push(bt)}const K=new Blob(k,{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});this.downloadBlob(K)}saveSyncfusionBlob(n){this.container.documentEditor.saveAsBlob("Docx").then(I=>{console.log("Saved sucessfully")})}downloadAnswersPrevious(n){}dataURLtoFile(n,I){for(var k=n.split(","),K=k[0].match(/:(.*?);/)[1],Q=atob(k[k.length-1]),$=Q.length,at=new Uint8Array($);$--;)at[$]=Q.charCodeAt($);return this.downloadBlob(at),new File([at],I,{type:K})}downloadAnswersBulk(){this.studentTestService.downloadStudentAnswerBulk(this.selectedTestId,this.studentIds).subscribe(n=>{this.fileClientDownload(n,"testName")})}fileClientDownload(n,I){this.studentTestService.downloadFileToclient(n,I).subscribe(k=>{this.convertZipBase64ToUrl(k.toString())})}createZip(n,I){var k=this;return(0,Yt.Z)(function*(){const K=new Wt,Q=I+".zip";for(let $=0;$<n.length;$++){const at=n[$],bt=k.convertBase64ToBlob(n.toString()),mt=new Blob([bt],{type:""+bt.type});K.file(at.substring(at.lastIndexOf("/")+1),mt)}K.generateAsync({type:"blob"}).then($=>{$&&Kt.saveAs($,Q)})})()}convertBase64ToUrl(n){const I=atob(n),k=[];for(let $=0;$<I.length;$+=512){const at=I.slice($,$+512),bt=new Array(at.length);for(let kt=0;kt<at.length;kt++)bt[kt]=at.charCodeAt(kt);const mt=new Uint8Array(bt);k.push(mt)}const K=new Blob(k,{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),Q=URL.createObjectURL(K);return this.downloadBlob(K),this.sanitizer.bypassSecurityTrustResourceUrl(Q)}convertZipBase64ToUrl(n){this.zipPathToDelete=n;const I=atob(n),k=[];for(let $=0;$<I.length;$+=512){const at=I.slice($,$+512),bt=new Array(at.length);for(let kt=0;kt<at.length;kt++)bt[kt]=at.charCodeAt(kt);const mt=new Uint8Array(bt);k.push(mt)}const K=new Blob(k,{type:"blob"}),Q=URL.createObjectURL(K);return this.downloadZipBlob(K),this.sanitizer.bypassSecurityTrustResourceUrl(Q)}convertBase64ToBlob(n){const I=atob(n),k=[];for(let Q=0;Q<I.length;Q+=512){const $=I.slice(Q,Q+512),at=new Array($.length);for(let mt=0;mt<$.length;mt++)at[mt]=$.charCodeAt(mt);const bt=new Uint8Array(at);k.push(bt)}return new Blob(k,{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"})}downloadBlob(n,I="OfflineAnswersExported.docx"){const k=URL.createObjectURL(n),K=document.createElement("a");K.href=k,K.download=I,document.body.appendChild(K),K.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))}generateUUID(){return this.uuidValue=Ht.h.UUID(),this.uuidValue}downloadZipBlob(n,I=this.testName+" "+this.generateUUID()+".zip"){this.generateUUID();const k=URL.createObjectURL(n),K=document.createElement("a");K.href=k,K.download=I,document.body.appendChild(K),K.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),document.body.removeChild(K)}getTests(n,I){this.studentIds=[],this.testService.getOTPTest(n,I).subscribe(k=>{this.tests=k,this.f.testId.setValue(0),this.f.testId.get("testId").setValue(0)})}initForms(){this.searchAnswersForm=this.formBuilder.group({gradeId:[this.selectedGrade??0,[o.kI.required]],subjectId:[this.selectedSubject??0,[]],testId:[this.selectedTestId??0,[o.kI.required]],testName:["",[]],regionId:[1,[o.kI.required]]}),this.submitted=!1}onSort(n){}onSubmit(){this.submitted=!0,0!=this.searchAnswersForm.value.gradeId?0!=this.searchAnswersForm.value.subjectId?0!=this.searchAnswersForm.value.testId?this.studentTestService.getStudentAnswerList(this.searchAnswersForm.value).subscribe(n=>{this.resulting=n,this.testName=this.resulting[0].testName,n.forEach(I=>{this.studentIds.push(I.studentID)}),this.initForms()}):i().fire("Test","Please select a test","error"):i().fire("Subject","Please select a subject","error"):i().fire("Grade","Please select a grade","error")}static#t=this.\u0275fac=function(I){return new(I||g)(t.Y36(p.P),t.Y36(a.N),t.Y36(h._),t.Y36(Vt.q),t.Y36($t.v),t.Y36(o.QS),t.Y36(ct),t.Y36(Xt.H7))};static#e=this.\u0275cmp=t.Xpm({type:g,selectors:[["app-export-student-answers"]],decls:99,vars:23,consts:[[1,"content-body"],["id","horizontal-form-layouts"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-content","collpase","show"],[1,"card-body"],[1,"form","form-horizontal",3,"formGroup","ngSubmit"],[1,"form-body"],[1,"col-md-4"],[1,"form-group","row"],["for","gradeId",1,"col-md-3","label-control"],[1,"col-md-9","mx-auto"],["id","gradeId","name","gradeId","formControlName","gradeId","value","0",1,"form-control","form-select",3,"ngClass","change"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["for","subjectId",1,"col-md-3","label-control"],["id","subjectId","name","subjectId","formControlName","subjectId","value","0",1,"form-control","form-select",3,"ngClass","change"],["for","testId",1,"col-md-3","label-control"],["id","testId","name","testId","formControlName","testId",1,"form-control","form-select",3,"ngClass","change"],["for","userinput1",1,"col-md-3","label-control"],[1,"col-md-2"],["type","button","type","submit",1,"btn","btn-info","btn-min-width","mr-1","mb-1"],[1,"col-md-1"],[2,"display","none"],["type","button",1,"btn","btn-info","btn-min-width","mr-1","mb-1",3,"click"],[1,"row","mb-md-2"],[1,"col-sm-12","col-md-6"],["id","tickets-table_length",1,"dataTables_length"],[1,"d-inline-flex","align-items-center"],["name","pageSize",1,"form-control","form-control-sm","mx-2",3,"ngModel","ngModelChange"],[3,"ngValue"],["id","tickets-table_filter",1,"dataTables_filter","text-md-end"],["type","text","name","searchTerm","aria-controls","tickets-table",1,"form-control","form-control-sm","ms-2",3,"ngModel","ngModelChange","input"],[1,"table-responsive"],["id","studentsTable",1,"table","table-striped","table-bordered","no-footer","dataTable"],[1,"bg-info","white"],["sortable","code",3,"sort"],[1,"la","la-sort","float-md-end"],[4,"ngFor","ngForOf"],["class","row justify-content-md-between align-items-md-center mt-2",4,"ngIf"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],[3,"result","term"],["id","btnReviewProgress","type","button",1,"btn","btn-block","btn-primary","glow",2,"width","100px",3,"click"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[1,"pagination"],[1,"page-item","ng-star-inserted",3,"ngClass","click"],["aria-label","Previous","href","javascript:void(0);",1,"page-link"],["aria-hidden","true",1,"ng-star-inserted"],["class","page-item ng-star-inserted","aria-current","page",3,"ngClass","click",4,"ngFor","ngForOf"],["aria-label","Next","href","javascript:void(0);",1,"page-link"],["aria-current","page",1,"page-item","ng-star-inserted",3,"ngClass","click"],["href","javascript:void(0);",1,"page-link","ng-star-inserted"]],template:function(I,k){1&I&&(t.TgZ(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"form",7),t.NdJ("ngSubmit",function(){return k.onSubmit()}),t.TgZ(8,"div",8)(9,"div",2)(10,"div",9)(11,"div",10)(12,"label",11),t._uU(13,"Grade"),t.qZA(),t.TgZ(14,"div",12)(15,"select",13),t.NdJ("change",function(Q){return k.onGradeChange(Q.target.value)}),t.TgZ(16,"option",14),t._uU(17,"--Select Grade--"),t.qZA(),t.YNc(18,te,2,2,"option",15),t.qZA(),t.YNc(19,ne,2,1,"div",16),t.qZA()()(),t.TgZ(20,"div",9)(21,"div",10)(22,"label",17),t._uU(23,"Subject"),t.qZA(),t.TgZ(24,"div",12)(25,"select",18),t.NdJ("change",function(Q){return k.onChangeSubject(Q.target.value)}),t.TgZ(26,"option",14),t._uU(27,"--Select Subject--"),t.qZA(),t.YNc(28,re,2,2,"option",15),t.qZA(),t.YNc(29,se,2,1,"div",16),t.qZA()()(),t.TgZ(30,"div",9)(31,"div",10)(32,"label",19),t._uU(33,"Test"),t.qZA(),t.TgZ(34,"div",12)(35,"select",20),t.NdJ("change",function(Q){return k.onChangeTest(Q.target.value)}),t.TgZ(36,"option",14),t._uU(37,"--Select Test"),t.qZA(),t.YNc(38,oe,2,2,"option",15),t.qZA()()()()(),t.TgZ(39,"div",2)(40,"div",9)(41,"div",10),t._UZ(42,"label",21),t.TgZ(43,"div",22)(44,"button",23),t._uU(45," Filter "),t.qZA()(),t._uU(46," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),t.TgZ(47,"div",24),t._UZ(48,"label",25),t.qZA(),t.TgZ(49,"div",22)(50,"button",26),t.NdJ("click",function(){return k.downloadAnswersBulk()}),t._uU(51," Download All "),t.qZA()()()()()()(),t.TgZ(52,"div",27)(53,"div",28)(54,"div",29)(55,"label",30),t._uU(56," Show "),t.TgZ(57,"select",31),t.NdJ("ngModelChange",function(Q){return k.paginationService.pageSize=Q})("ngModelChange",function(Q){return k.paginationService.setPageSize(Q)}),t.TgZ(58,"option",32),t._uU(59,"10"),t.qZA(),t.TgZ(60,"option",32),t._uU(61,"25"),t.qZA(),t.TgZ(62,"option",32),t._uU(63,"50"),t.qZA(),t.TgZ(64,"option",32),t._uU(65,"100"),t.qZA()(),t._uU(66," entries "),t.qZA()()(),t.TgZ(67,"div",28)(68,"div",33)(69,"label",30),t._uU(70," Search: "),t.TgZ(71,"input",34),t.NdJ("ngModelChange",function(Q){return k.paginationService.searchTerm=Q})("input",function(Q){return k.paginationService.onSearchInputChange(Q.target.value)}),t.qZA()()()()(),t.TgZ(72,"div",35)(73,"table",36)(74,"thead",37)(75,"th",38),t.NdJ("sort",function(Q){return k.onSort(Q)}),t._uU(76," Name "),t._UZ(77,"i",39),t.qZA(),t.TgZ(78,"th",38),t.NdJ("sort",function(Q){return k.onSort(Q)}),t._uU(79," Surname "),t._UZ(80,"i",39),t.qZA(),t.TgZ(81,"th",38),t.NdJ("sort",function(Q){return k.onSort(Q)}),t._uU(82," Grade "),t._UZ(83,"i",39),t.qZA(),t.TgZ(84,"th",38),t.NdJ("sort",function(Q){return k.onSort(Q)}),t._uU(85," Subject "),t._UZ(86,"i",39),t.qZA(),t.TgZ(87,"th",38),t.NdJ("sort",function(Q){return k.onSort(Q)}),t._uU(88," Test Name "),t._UZ(89,"i",39),t.qZA(),t.TgZ(90,"th",38),t.NdJ("sort",function(Q){return k.onSort(Q)}),t._uU(91," Test Completed "),t._UZ(92,"i",39),t.qZA(),t.TgZ(93,"th",38),t.NdJ("sort",function(Q){return k.onSort(Q)}),t._uU(94," Answers "),t._UZ(95,"i",39),t.qZA()(),t.TgZ(96,"tbody"),t.YNc(97,ae,16,12,"tr",40),t.qZA()()(),t.YNc(98,ue,26,17,"div",41),t.qZA()()()()()()()),2&I&&(t.xp6(7),t.Q6J("formGroup",k.searchAnswersForm),t.xp6(8),t.Q6J("ngClass",t.VKq(17,Ft,k.submitted&&k.f.gradeId.errors)),t.xp6(3),t.Q6J("ngForOf",k.grades),t.xp6(),t.Q6J("ngIf",k.submitted&&k.f.gradeId.errors),t.xp6(6),t.Q6J("ngClass",t.VKq(19,Ft,k.submitted&&k.f.subjectId.errors)),t.xp6(3),t.Q6J("ngForOf",k.subjects),t.xp6(),t.Q6J("ngIf",k.submitted&&k.f.subjectId.errors),t.xp6(6),t.Q6J("ngClass",t.VKq(21,Ft,k.submitted&&k.f.testId.errors)),t.xp6(3),t.Q6J("ngForOf",k.tests),t.xp6(19),t.Q6J("ngModel",k.paginationService.pageSize),t.xp6(),t.Q6J("ngValue",10),t.xp6(2),t.Q6J("ngValue",25),t.xp6(2),t.Q6J("ngValue",50),t.xp6(2),t.Q6J("ngValue",100),t.xp6(7),t.Q6J("ngModel",k.paginationService.searchTerm),t.xp6(26),t.Q6J("ngForOf",k.resulting),t.xp6(),t.Q6J("ngIf",k.paginationService.totalItems))},dependencies:[w.mk,w.sg,w.O5,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.On,_._h,o.sg,o.u]})}return g})()}];let fe=(()=>{class g{static#t=this.\u0275fac=function(I){return new(I||g)};static#e=this.\u0275mod=t.oAB({type:g});static#n=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(he),u.Bz]})}return g})(),pe=(()=>{class g{static#t=this.\u0275fac=function(I){return new(I||g)};static#e=this.\u0275mod=t.oAB({type:g});static#n=this.\u0275inj=t.cJS({imports:[w.ez,o.u5,_.jF,_._h,_.Oz,o.UX,fe,d.a,_t.s]})}return g})()},85965:Bt=>{Bt.exports=function S(z,w,u){function c(v,x){if(!w[v]){if(!z[v]){if(i)return i(v,!0);var _=new Error("Cannot find module '"+v+"'");throw _.code="MODULE_NOT_FOUND",_}var a=w[v]={exports:{}};z[v][0].call(a.exports,function(p){return c(z[v][1][p]||p)},a,a.exports,S,z,w,u)}return w[v].exports}for(var i=void 0,o=0;o<u.length;o++)c(u[o]);return c}({1:[function(S,z,w){"use strict";var u=S("./utils"),c=S("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";w.encode=function(o){for(var v,x,t,a,p,s,h=[],d=0,m=o.length,y=m,T="string"!==u.getTypeOf(o);d<o.length;)y=m-d,t=T?(v=o[d++],x=d<m?o[d++]:0,d<m?o[d++]:0):(v=o.charCodeAt(d++),x=d<m?o.charCodeAt(d++):0,d<m?o.charCodeAt(d++):0),a=(3&v)<<4|x>>4,p=1<y?(15&x)<<2|t>>6:64,s=2<y?63&t:64,h.push(i.charAt(v>>2)+i.charAt(a)+i.charAt(p)+i.charAt(s));return h.join("")},w.decode=function(o){var v,x,t,_,a,p,s=0,h=0,d="data:";if(o.substr(0,5)===d)throw new Error("Invalid base64 input, it looks like a data url.");var m,y=3*(o=o.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(o.charAt(o.length-1)===i.charAt(64)&&y--,o.charAt(o.length-2)===i.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(m=c.uint8array?new Uint8Array(0|y):new Array(0|y);s<o.length;)v=i.indexOf(o.charAt(s++))<<2|(_=i.indexOf(o.charAt(s++)))>>4,x=(15&_)<<4|(a=i.indexOf(o.charAt(s++)))>>2,t=(3&a)<<6|(p=i.indexOf(o.charAt(s++))),m[h++]=v,64!==a&&(m[h++]=x),64!==p&&(m[h++]=t);return m}},{"./support":30,"./utils":32}],2:[function(S,z,w){"use strict";var u=S("./external"),c=S("./stream/DataWorker"),i=S("./stream/Crc32Probe"),o=S("./stream/DataLengthProbe");function v(x,t,_,a,p){this.compressedSize=x,this.uncompressedSize=t,this.crc32=_,this.compression=a,this.compressedContent=p}v.prototype={getContentWorker:function(){var x=new c(u.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return x.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),x},getCompressedWorker:function(){return new c(u.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},v.createWorkerFrom=function(x,t,_){return x.pipe(new i).pipe(new o("uncompressedSize")).pipe(t.compressWorker(_)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},z.exports=v},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(S,z,w){"use strict";var u=S("./stream/GenericWorker");w.STORE={magic:"\0\0",compressWorker:function(){return new u("STORE compression")},uncompressWorker:function(){return new u("STORE decompression")}},w.DEFLATE=S("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(S,z,w){"use strict";var u=S("./utils"),c=function(){for(var i,o=[],v=0;v<256;v++){i=v;for(var x=0;x<8;x++)i=1&i?3988292384^i>>>1:i>>>1;o[v]=i}return o}();z.exports=function(i,o){return void 0!==i&&i.length?"string"!==u.getTypeOf(i)?function(v,x,t,_){var a=c,p=0+t;v^=-1;for(var s=0;s<p;s++)v=v>>>8^a[255&(v^x[s])];return-1^v}(0|o,i,i.length):function(v,x,t,_){var a=c,p=0+t;v^=-1;for(var s=0;s<p;s++)v=v>>>8^a[255&(v^x.charCodeAt(s))];return-1^v}(0|o,i,i.length):0}},{"./utils":32}],5:[function(S,z,w){"use strict";w.base64=!1,w.binary=!1,w.dir=!1,w.createFolders=!0,w.date=null,w.compression=null,w.compressionOptions=null,w.comment=null,w.unixPermissions=null,w.dosPermissions=null},{}],6:[function(S,z,w){"use strict";var u;u=typeof Promise<"u"?Promise:S("lie"),z.exports={Promise:u}},{lie:37}],7:[function(S,z,w){"use strict";var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=S("pako"),i=S("./utils"),o=S("./stream/GenericWorker"),v=u?"uint8array":"array";function x(t,_){o.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=_,this.meta={}}w.magic="\b\0",i.inherits(x,o),x.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(i.transformTo(v,t.data),!1)},x.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},x.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},x.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(_){t.push({data:_,meta:t.meta})}},w.compressWorker=function(t){return new x("Deflate",t)},w.uncompressWorker=function(){return new x("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(S,z,w){"use strict";function u(a,p){var s,h="";for(s=0;s<p;s++)h+=String.fromCharCode(255&a),a>>>=8;return h}function c(a,p,s,h,d,m){var y,T,C=a.file,J=a.compression,O=m!==v.utf8encode,L=i.transformTo("string",m(C.name)),B=i.transformTo("string",v.utf8encode(C.name)),W=C.comment,rt=i.transformTo("string",m(W)),b=i.transformTo("string",v.utf8encode(W)),j=B.length!==C.name.length,r=b.length!==W.length,F="",st="",P="",ot=C.dir,M=C.date,it={crc32:0,compressedSize:0,uncompressedSize:0};p&&!s||(it.crc32=a.crc32,it.compressedSize=a.compressedSize,it.uncompressedSize=a.uncompressedSize);var E=0;p&&(E|=8),O||!j&&!r||(E|=2048);var H,gt,N=0,nt=0;ot&&(N|=16),"UNIX"===d?(nt=798,N|=(gt=H=C.unixPermissions,H||(gt=ot?16893:33204),(65535&gt)<<16)):(nt=20,N|=function(H){return 63&(H||0)}(C.dosPermissions)),y=M.getUTCHours(),y<<=6,y|=M.getUTCMinutes(),y<<=5,y|=M.getUTCSeconds()/2,T=M.getUTCFullYear()-1980,T<<=4,T|=M.getUTCMonth()+1,T<<=5,T|=M.getUTCDate(),j&&(st=u(1,1)+u(x(L),4)+B,F+="up"+u(st.length,2)+st),r&&(P=u(1,1)+u(x(rt),4)+b,F+="uc"+u(P.length,2)+P);var X="";return X+="\n\0",X+=u(E,2),X+=J.magic,X+=u(y,2),X+=u(T,2),X+=u(it.crc32,4),X+=u(it.compressedSize,4),X+=u(it.uncompressedSize,4),X+=u(L.length,2),X+=u(F.length,2),{fileRecord:t.LOCAL_FILE_HEADER+X+L+F,dirRecord:t.CENTRAL_FILE_HEADER+u(nt,2)+X+u(rt.length,2)+"\0\0\0\0"+u(N,4)+u(h,4)+L+F+rt}}var i=S("../utils"),o=S("../stream/GenericWorker"),v=S("../utf8"),x=S("../crc32"),t=S("../signature");function _(a,p,s,h){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=s,this.encodeFileName=h,this.streamFiles=a,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(_,o),_.prototype.push=function(a){var p=a.meta.percent||0,s=this.entriesCount,h=this._sources.length;this.accumulate?this.contentBuffer.push(a):(this.bytesWritten+=a.data.length,o.prototype.push.call(this,{data:a.data,meta:{currentFile:this.currentFile,percent:s?(p+100*(s-h-1))/s:100}}))},_.prototype.openedSource=function(a){this.currentSourceOffset=this.bytesWritten,this.currentFile=a.file.name;var p=this.streamFiles&&!a.file.dir;if(p){var s=c(a,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:s.fileRecord,meta:{percent:0}})}else this.accumulate=!0},_.prototype.closedSource=function(a){this.accumulate=!1;var h,p=this.streamFiles&&!a.file.dir,s=c(a,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(s.dirRecord),p)this.push({data:(h=a,t.DATA_DESCRIPTOR+u(h.crc32,4)+u(h.compressedSize,4)+u(h.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:s.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},_.prototype.flush=function(){for(var a=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var d,m,y,J,h=(d=this.dirRecords.length,m=this.bytesWritten-a,y=a,J=i.transformTo("string",(0,this.encodeFileName)(this.zipComment)),t.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(d,2)+u(d,2)+u(m,4)+u(y,4)+u(J.length,2)+J);this.push({data:h,meta:{percent:100}})},_.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},_.prototype.registerPrevious=function(a){this._sources.push(a);var p=this;return a.on("data",function(s){p.processChunk(s)}),a.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),a.on("error",function(s){p.error(s)}),this},_.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},_.prototype.error=function(a){var p=this._sources;if(!o.prototype.error.call(this,a))return!1;for(var s=0;s<p.length;s++)try{p[s].error(a)}catch{}return!0},_.prototype.lock=function(){o.prototype.lock.call(this);for(var a=this._sources,p=0;p<a.length;p++)a[p].lock()},z.exports=_},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(S,z,w){"use strict";var u=S("../compressions"),c=S("./ZipFileWorker");w.generateWorker=function(i,o,v){var x=new c(o.streamFiles,v,o.platform,o.encodeFileName),t=0;try{i.forEach(function(_,a){t++;var p=function(m,y){var T=m||y,C=u[T];if(!C)throw new Error(T+" is not a valid compression method !");return C}(a.options.compression,o.compression),h=a.dir,d=a.date;a._compressWorker(p,a.options.compressionOptions||o.compressionOptions||{}).withStreamInfo("file",{name:_,dir:h,date:d,comment:a.comment||"",unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions}).pipe(x)}),x.entriesCount=t}catch(_){x.error(_)}return x}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(S,z,w){"use strict";function u(){if(!(this instanceof u))return new u;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new u;for(var i in this)"function"!=typeof this[i]&&(c[i]=this[i]);return c}}(u.prototype=S("./object")).loadAsync=S("./load"),u.support=S("./support"),u.defaults=S("./defaults"),u.version="3.10.1",u.loadAsync=function(c,i){return(new u).loadAsync(c,i)},u.external=S("./external"),z.exports=u},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(S,z,w){"use strict";var u=S("./utils"),c=S("./external"),i=S("./utf8"),o=S("./zipEntries"),v=S("./stream/Crc32Probe"),x=S("./nodejsUtils");function t(_){return new c.Promise(function(a,p){var s=_.decompressed.getContentWorker().pipe(new v);s.on("error",function(h){p(h)}).on("end",function(){s.streamInfo.crc32!==_.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):a()}).resume()})}z.exports=function(_,a){var p=this;return a=u.extend(a||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),x.isNode&&x.isStream(_)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):u.prepareContent("the loaded zip file",_,!0,a.optimizedBinaryString,a.base64).then(function(s){var h=new o(a);return h.load(s),h}).then(function(s){var h=[c.Promise.resolve(s)],d=s.files;if(a.checkCRC32)for(var m=0;m<d.length;m++)h.push(t(d[m]));return c.Promise.all(h)}).then(function(s){for(var h=s.shift(),d=h.files,m=0;m<d.length;m++){var y=d[m],T=y.fileNameStr,C=u.resolve(y.fileNameStr);p.file(C,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:a.createFolders}),y.dir||(p.file(C).unsafeOriginalName=T)}return h.zipComment.length&&(p.comment=h.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(S,z,w){"use strict";var u=S("../utils"),c=S("../stream/GenericWorker");function i(o,v){c.call(this,"Nodejs stream input adapter for "+o),this._upstreamEnded=!1,this._bindStream(v)}u.inherits(i,c),i.prototype._bindStream=function(o){var v=this;(this._stream=o).pause(),o.on("data",function(x){v.push({data:x,meta:{percent:0}})}).on("error",function(x){v.isPaused?this.generatedError=x:v.error(x)}).on("end",function(){v.isPaused?v._upstreamEnded=!0:v.end()})},i.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},z.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(S,z,w){"use strict";var u=S("readable-stream").Readable;function c(i,o,v){u.call(this,o),this._helper=i;var x=this;i.on("data",function(t,_){x.push(t)||x._helper.pause(),v&&v(_)}).on("error",function(t){x.emit("error",t)}).on("end",function(){x.push(null)})}S("../utils").inherits(c,u),c.prototype._read=function(){this._helper.resume()},z.exports=c},{"../utils":32,"readable-stream":16}],14:[function(S,z,w){"use strict";z.exports={isNode:typeof Buffer<"u",newBufferFrom:function(u,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(u,c);if("number"==typeof u)throw new Error('The "data" argument must not be a number');return new Buffer(u,c)},allocBuffer:function(u){if(Buffer.alloc)return Buffer.alloc(u);var c=new Buffer(u);return c.fill(0),c},isBuffer:function(u){return Buffer.isBuffer(u)},isStream:function(u){return u&&"function"==typeof u.on&&"function"==typeof u.pause&&"function"==typeof u.resume}}},{}],15:[function(S,z,w){"use strict";function u(C,J,O){var L,B=i.getTypeOf(J),W=i.extend(O||{},x);W.date=W.date||new Date,null!==W.compression&&(W.compression=W.compression.toUpperCase()),"string"==typeof W.unixPermissions&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(C=d(C)),W.createFolders&&(L=h(C))&&m.call(this,L,!0),O&&void 0!==O.binary||(W.binary=!("string"===B&&!1===W.binary&&!1===W.base64)),(J instanceof t&&0===J.uncompressedSize||W.dir||!J||0===J.length)&&(W.base64=!1,W.binary=!0,J="",W.compression="STORE",B="string");var b;b=J instanceof t||J instanceof o?J:p.isNode&&p.isStream(J)?new s(C,J):i.prepareContent(C,J,W.binary,W.optimizedBinaryString,W.base64);var j=new _(C,b,W);this.files[C]=j}var c=S("./utf8"),i=S("./utils"),o=S("./stream/GenericWorker"),v=S("./stream/StreamHelper"),x=S("./defaults"),t=S("./compressedObject"),_=S("./zipObject"),a=S("./generate"),p=S("./nodejsUtils"),s=S("./nodejs/NodejsStreamInputAdapter"),h=function(C){"/"===C.slice(-1)&&(C=C.substring(0,C.length-1));var J=C.lastIndexOf("/");return 0<J?C.substring(0,J):""},d=function(C){return"/"!==C.slice(-1)&&(C+="/"),C},m=function(C,J){return J=void 0!==J?J:x.createFolders,C=d(C),this.files[C]||u.call(this,C,null,{dir:!0,createFolders:J}),this.files[C]};function y(C){return"[object RegExp]"===Object.prototype.toString.call(C)}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var J,O,L;for(J in this.files)L=this.files[J],(O=J.slice(this.root.length,J.length))&&J.slice(0,this.root.length)===this.root&&C(O,L)},filter:function(C){var J=[];return this.forEach(function(O,L){C(O,L)&&J.push(L)}),J},file:function(C,J,O){if(1!==arguments.length)return u.call(this,C=this.root+C,J,O),this;if(y(C)){var L=C;return this.filter(function(W,rt){return!rt.dir&&L.test(W)})}var B=this.files[this.root+C];return B&&!B.dir?B:null},folder:function(C){if(!C)return this;if(y(C))return this.filter(function(B,W){return W.dir&&C.test(B)});var O=m.call(this,this.root+C),L=this.clone();return L.root=O.name,L},remove:function(C){var J=this.files[C=this.root+C];if(J||("/"!==C.slice(-1)&&(C+="/"),J=this.files[C]),J&&!J.dir)delete this.files[C];else for(var O=this.filter(function(B,W){return W.name.slice(0,C.length)===C}),L=0;L<O.length;L++)delete this.files[O[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var J,O={};try{if((O=i.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),"binarystring"===O.type&&(O.type="string"),!O.type)throw new Error("No output type specified.");i.checkSupport(O.type),"darwin"!==O.platform&&"freebsd"!==O.platform&&"linux"!==O.platform&&"sunos"!==O.platform||(O.platform="UNIX"),"win32"===O.platform&&(O.platform="DOS"),J=a.generateWorker(this,O,O.comment||this.comment||"")}catch(B){(J=new o("error")).error(B)}return new v(J,O.type||"string",O.mimeType)},generateAsync:function(C,J){return this.generateInternalStream(C).accumulate(J)},generateNodeStream:function(C,J){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(J)}};z.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(S,z,w){"use strict";z.exports=S("stream")},{stream:void 0}],17:[function(S,z,w){"use strict";var u=S("./DataReader");function c(i){u.call(this,i);for(var o=0;o<this.data.length;o++)i[o]=255&i[o]}S("../utils").inherits(c,u),c.prototype.byteAt=function(i){return this.data[this.zero+i]},c.prototype.lastIndexOfSignature=function(i){for(var o=i.charCodeAt(0),v=i.charCodeAt(1),x=i.charCodeAt(2),t=i.charCodeAt(3),_=this.length-4;0<=_;--_)if(this.data[_]===o&&this.data[_+1]===v&&this.data[_+2]===x&&this.data[_+3]===t)return _-this.zero;return-1},c.prototype.readAndCheckSignature=function(i){var o=i.charCodeAt(0),v=i.charCodeAt(1),x=i.charCodeAt(2),t=i.charCodeAt(3),_=this.readData(4);return o===_[0]&&v===_[1]&&x===_[2]&&t===_[3]},c.prototype.readData=function(i){if(this.checkOffset(i),0===i)return[];var o=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,o},z.exports=c},{"../utils":32,"./DataReader":18}],18:[function(S,z,w){"use strict";var u=S("../utils");function c(i){this.data=i,this.length=i.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(i){this.checkIndex(this.index+i)},checkIndex:function(i){if(this.length<this.zero+i||i<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+i+"). Corrupted zip ?")},setIndex:function(i){this.checkIndex(i),this.index=i},skip:function(i){this.setIndex(this.index+i)},byteAt:function(){},readInt:function(i){var o,v=0;for(this.checkOffset(i),o=this.index+i-1;o>=this.index;o--)v=(v<<8)+this.byteAt(o);return this.index+=i,v},readString:function(i){return u.transformTo("string",this.readData(i))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var i=this.readInt(4);return new Date(Date.UTC(1980+(i>>25&127),(i>>21&15)-1,i>>16&31,i>>11&31,i>>5&63,(31&i)<<1))}},z.exports=c},{"../utils":32}],19:[function(S,z,w){"use strict";var u=S("./Uint8ArrayReader");function c(i){u.call(this,i)}S("../utils").inherits(c,u),c.prototype.readData=function(i){this.checkOffset(i);var o=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,o},z.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(S,z,w){"use strict";var u=S("./DataReader");function c(i){u.call(this,i)}S("../utils").inherits(c,u),c.prototype.byteAt=function(i){return this.data.charCodeAt(this.zero+i)},c.prototype.lastIndexOfSignature=function(i){return this.data.lastIndexOf(i)-this.zero},c.prototype.readAndCheckSignature=function(i){return i===this.readData(4)},c.prototype.readData=function(i){this.checkOffset(i);var o=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,o},z.exports=c},{"../utils":32,"./DataReader":18}],21:[function(S,z,w){"use strict";var u=S("./ArrayReader");function c(i){u.call(this,i)}S("../utils").inherits(c,u),c.prototype.readData=function(i){if(this.checkOffset(i),0===i)return new Uint8Array(0);var o=this.data.subarray(this.zero+this.index,this.zero+this.index+i);return this.index+=i,o},z.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(S,z,w){"use strict";var u=S("../utils"),c=S("../support"),i=S("./ArrayReader"),o=S("./StringReader"),v=S("./NodeBufferReader"),x=S("./Uint8ArrayReader");z.exports=function(t){var _=u.getTypeOf(t);return u.checkSupport(_),"string"!==_||c.uint8array?"nodebuffer"===_?new v(t):c.uint8array?new x(u.transformTo("uint8array",t)):new i(u.transformTo("array",t)):new o(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(S,z,w){"use strict";w.LOCAL_FILE_HEADER="PK\x03\x04",w.CENTRAL_FILE_HEADER="PK\x01\x02",w.CENTRAL_DIRECTORY_END="PK\x05\x06",w.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",w.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",w.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(S,z,w){"use strict";var u=S("./GenericWorker"),c=S("../utils");function i(o){u.call(this,"ConvertWorker to "+o),this.destType=o}c.inherits(i,u),i.prototype.processChunk=function(o){this.push({data:c.transformTo(this.destType,o.data),meta:o.meta})},z.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(S,z,w){"use strict";var u=S("./GenericWorker"),c=S("../crc32");function i(){u.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}S("../utils").inherits(i,u),i.prototype.processChunk=function(o){this.streamInfo.crc32=c(o.data,this.streamInfo.crc32||0),this.push(o)},z.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(S,z,w){"use strict";var u=S("../utils"),c=S("./GenericWorker");function i(o){c.call(this,"DataLengthProbe for "+o),this.propName=o,this.withStreamInfo(o,0)}u.inherits(i,c),i.prototype.processChunk=function(o){o&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+o.data.length),c.prototype.processChunk.call(this,o)},z.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(S,z,w){"use strict";var u=S("../utils"),c=S("./GenericWorker");function i(o){c.call(this,"DataWorker");var v=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,o.then(function(x){v.dataIsReady=!0,v.data=x,v.max=x&&x.length||0,v.type=u.getTypeOf(x),v.isPaused||v._tickAndRepeat()},function(x){v.error(x)})}u.inherits(i,c),i.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,u.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(u.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var o=null,v=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":o=this.data.substring(this.index,v);break;case"uint8array":o=this.data.subarray(this.index,v);break;case"array":case"nodebuffer":o=this.data.slice(this.index,v)}return this.index=v,this.push({data:o,meta:{percent:this.max?this.index/this.max*100:0}})},z.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(S,z,w){"use strict";function u(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}u.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,i){return this._listeners[c].push(i),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,i){if(this._listeners[c])for(var o=0;o<this._listeners[c].length;o++)this._listeners[c][o].call(this,i)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var i=this;return c.on("data",function(o){i.processChunk(o)}),c.on("end",function(){i.end()}),c.on("error",function(o){i.error(o)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,i){return this.extraStreamInfo[c]=i,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},z.exports=u},{}],29:[function(S,z,w){"use strict";var u=S("../utils"),c=S("./ConvertWorker"),i=S("./GenericWorker"),o=S("../base64"),v=S("../support"),x=S("../external"),t=null;if(v.nodestream)try{t=S("../nodejs/NodejsStreamOutputAdapter")}catch{}function a(p,s,h){var d=s;switch(s){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=s,this._mimeType=h,u.checkSupport(d),this._worker=p.pipe(new c(d)),p.lock()}catch(m){this._worker=new i("error"),this._worker.error(m)}}a.prototype={accumulate:function(p){return function _(p,s){return new x.Promise(function(h,d){var m=[],y=p._internalType,T=p._outputType,C=p._mimeType;p.on("data",function(J,O){m.push(J),s&&s(O)}).on("error",function(J){m=[],d(J)}).on("end",function(){try{var J=function(O,L,B){switch(O){case"blob":return u.newBlob(u.transformTo("arraybuffer",L),B);case"base64":return o.encode(L);default:return u.transformTo(O,L)}}(T,function(O,L){var B,W=0,rt=null,b=0;for(B=0;B<L.length;B++)b+=L[B].length;switch(O){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(rt=new Uint8Array(b),B=0;B<L.length;B++)rt.set(L[B],W),W+=L[B].length;return rt;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+O+"'")}}(y,m),C);h(J)}catch(O){d(O)}m=[]}).resume()})}(this,p)},on:function(p,s){var h=this;return this._worker.on(p,"data"===p?function(d){s.call(h,d.data,d.meta)}:function(){u.delay(s,arguments,h)}),this},resume:function(){return u.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(u.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new t(this,{objectMode:"nodebuffer"!==this._outputType},p)}},z.exports=a},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(S,z,w){"use strict";if(w.base64=!0,w.array=!0,w.string=!0,w.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",w.nodebuffer=typeof Buffer<"u",w.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")w.blob=!1;else{var u=new ArrayBuffer(0);try{w.blob=0===new Blob([u],{type:"application/zip"}).size}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(u),w.blob=0===c.getBlob("application/zip").size}catch{w.blob=!1}}}try{w.nodestream=!!S("readable-stream").Readable}catch{w.nodestream=!1}},{"readable-stream":16}],31:[function(S,z,w){"use strict";for(var u=S("./utils"),c=S("./support"),i=S("./nodejsUtils"),o=S("./stream/GenericWorker"),v=new Array(256),x=0;x<256;x++)v[x]=252<=x?6:248<=x?5:240<=x?4:224<=x?3:192<=x?2:1;function t(){o.call(this,"utf-8 decode"),this.leftOver=null}function _(){o.call(this,"utf-8 encode")}v[254]=v[254]=1,w.utf8encode=function(a){return c.nodebuffer?i.newBufferFrom(a,"utf-8"):function(p){var s,h,d,m,y,T=p.length,C=0;for(m=0;m<T;m++)55296==(64512&(h=p.charCodeAt(m)))&&m+1<T&&56320==(64512&(d=p.charCodeAt(m+1)))&&(h=65536+(h-55296<<10)+(d-56320),m++),C+=h<128?1:h<2048?2:h<65536?3:4;for(s=c.uint8array?new Uint8Array(C):new Array(C),m=y=0;y<C;m++)55296==(64512&(h=p.charCodeAt(m)))&&m+1<T&&56320==(64512&(d=p.charCodeAt(m+1)))&&(h=65536+(h-55296<<10)+(d-56320),m++),h<128?s[y++]=h:(h<2048?s[y++]=192|h>>>6:(h<65536?s[y++]=224|h>>>12:(s[y++]=240|h>>>18,s[y++]=128|h>>>12&63),s[y++]=128|h>>>6&63),s[y++]=128|63&h);return s}(a)},w.utf8decode=function(a){return c.nodebuffer?u.transformTo("nodebuffer",a).toString("utf-8"):function(p){var s,h,d,m,y=p.length,T=new Array(2*y);for(s=h=0;s<y;)if((d=p[s++])<128)T[h++]=d;else if(4<(m=v[d]))T[h++]=65533,s+=m-1;else{for(d&=2===m?31:3===m?15:7;1<m&&s<y;)d=d<<6|63&p[s++],m--;1<m?T[h++]=65533:d<65536?T[h++]=d:(T[h++]=55296|(d-=65536)>>10&1023,T[h++]=56320|1023&d)}return T.length!==h&&(T.subarray?T=T.subarray(0,h):T.length=h),u.applyFromCharCode(T)}(a=u.transformTo(c.uint8array?"uint8array":"array",a))},u.inherits(t,o),t.prototype.processChunk=function(a){var p=u.transformTo(c.uint8array?"uint8array":"array",a.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var s=p;(p=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),p.set(s,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var h=function(m,y){var T;for((y=y||m.length)>m.length&&(y=m.length),T=y-1;0<=T&&128==(192&m[T]);)T--;return T<0||0===T?y:T+v[m[T]]>y?T:y}(p),d=p;h!==p.length&&(c.uint8array?(d=p.subarray(0,h),this.leftOver=p.subarray(h,p.length)):(d=p.slice(0,h),this.leftOver=p.slice(h,p.length))),this.push({data:w.utf8decode(d),meta:a.meta})},t.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:w.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},w.Utf8DecodeWorker=t,u.inherits(_,o),_.prototype.processChunk=function(a){this.push({data:w.utf8encode(a.data),meta:a.meta})},w.Utf8EncodeWorker=_},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(S,z,w){"use strict";var u=S("./support"),c=S("./base64"),i=S("./nodejsUtils"),o=S("./external");function v(s){return s}function x(s,h){for(var d=0;d<s.length;++d)h[d]=255&s.charCodeAt(d);return h}S("setimmediate"),w.newBlob=function(s,h){w.checkSupport("blob");try{return new Blob([s],{type:h})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(s),d.getBlob(h)}catch{throw new Error("Bug : can't construct the Blob.")}}};var t={stringifyByChunk:function(s,h,d){var m=[],y=0,T=s.length;if(T<=d)return String.fromCharCode.apply(null,s);for(;y<T;)m.push(String.fromCharCode.apply(null,"array"===h||"nodebuffer"===h?s.slice(y,Math.min(y+d,T)):s.subarray(y,Math.min(y+d,T)))),y+=d;return m.join("")},stringifyByChar:function(s){for(var h="",d=0;d<s.length;d++)h+=String.fromCharCode(s[d]);return h},applyCanBeUsed:{uint8array:function(){try{return u.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch{return!1}}(),nodebuffer:function(){try{return u.nodebuffer&&1===String.fromCharCode.apply(null,i.allocBuffer(1)).length}catch{return!1}}()}};function _(s){var h=65536,d=w.getTypeOf(s),m=!0;if("uint8array"===d?m=t.applyCanBeUsed.uint8array:"nodebuffer"===d&&(m=t.applyCanBeUsed.nodebuffer),m)for(;1<h;)try{return t.stringifyByChunk(s,d,h)}catch{h=Math.floor(h/2)}return t.stringifyByChar(s)}function a(s,h){for(var d=0;d<s.length;d++)h[d]=s[d];return h}w.applyFromCharCode=_;var p={};p.string={string:v,array:function(s){return x(s,new Array(s.length))},arraybuffer:function(s){return p.string.uint8array(s).buffer},uint8array:function(s){return x(s,new Uint8Array(s.length))},nodebuffer:function(s){return x(s,i.allocBuffer(s.length))}},p.array={string:_,array:v,arraybuffer:function(s){return new Uint8Array(s).buffer},uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return i.newBufferFrom(s)}},p.arraybuffer={string:function(s){return _(new Uint8Array(s))},array:function(s){return a(new Uint8Array(s),new Array(s.byteLength))},arraybuffer:v,uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return i.newBufferFrom(new Uint8Array(s))}},p.uint8array={string:_,array:function(s){return a(s,new Array(s.length))},arraybuffer:function(s){return s.buffer},uint8array:v,nodebuffer:function(s){return i.newBufferFrom(s)}},p.nodebuffer={string:_,array:function(s){return a(s,new Array(s.length))},arraybuffer:function(s){return p.nodebuffer.uint8array(s).buffer},uint8array:function(s){return a(s,new Uint8Array(s.length))},nodebuffer:v},w.transformTo=function(s,h){if(h=h||"",!s)return h;w.checkSupport(s);var d=w.getTypeOf(h);return p[d][s](h)},w.resolve=function(s){for(var h=s.split("/"),d=[],m=0;m<h.length;m++){var y=h[m];"."===y||""===y&&0!==m&&m!==h.length-1||(".."===y?d.pop():d.push(y))}return d.join("/")},w.getTypeOf=function(s){return"string"==typeof s?"string":"[object Array]"===Object.prototype.toString.call(s)?"array":u.nodebuffer&&i.isBuffer(s)?"nodebuffer":u.uint8array&&s instanceof Uint8Array?"uint8array":u.arraybuffer&&s instanceof ArrayBuffer?"arraybuffer":void 0},w.checkSupport=function(s){if(!u[s.toLowerCase()])throw new Error(s+" is not supported by this platform")},w.MAX_VALUE_16BITS=65535,w.MAX_VALUE_32BITS=-1,w.pretty=function(s){var h,d,m="";for(d=0;d<(s||"").length;d++)m+="\\x"+((h=s.charCodeAt(d))<16?"0":"")+h.toString(16).toUpperCase();return m},w.delay=function(s,h,d){setImmediate(function(){s.apply(d||null,h||[])})},w.inherits=function(s,h){function d(){}d.prototype=h.prototype,s.prototype=new d},w.extend=function(){var s,h,d={};for(s=0;s<arguments.length;s++)for(h in arguments[s])Object.prototype.hasOwnProperty.call(arguments[s],h)&&void 0===d[h]&&(d[h]=arguments[s][h]);return d},w.prepareContent=function(s,h,d,m,y){return o.Promise.resolve(h).then(function(T){return u.blob&&(T instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T)))&&typeof FileReader<"u"?new o.Promise(function(C,J){var O=new FileReader;O.onload=function(L){C(L.target.result)},O.onerror=function(L){J(L.target.error)},O.readAsArrayBuffer(T)}):T}).then(function(T){var J,C=w.getTypeOf(T);return C?("arraybuffer"===C?T=w.transformTo("uint8array",T):"string"===C&&(y?T=c.decode(T):d&&!0!==m&&(T=x(J=T,u.uint8array?new Uint8Array(J.length):new Array(J.length)))),T):o.Promise.reject(new Error("Can't read the data of '"+s+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(S,z,w){"use strict";var u=S("./reader/readerFor"),c=S("./utils"),i=S("./signature"),o=S("./zipEntry"),v=S("./support");function x(t){this.files=[],this.loadOptions=t}x.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var _=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(_)+", expected "+c.pretty(t)+")")}},isSignature:function(t,_){var a=this.reader.index;this.reader.setIndex(t);var p=this.reader.readString(4)===_;return this.reader.setIndex(a),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),a=c.transformTo(v.uint8array?"uint8array":"array",t);this.zipComment=this.loadOptions.decodeFileName(a)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,_,a,p=this.zip64EndOfCentralSize-44;0<p;)t=this.reader.readInt(2),_=this.reader.readInt(4),a=this.reader.readData(_),this.zip64ExtensibleData[t]={id:t,length:_,value:a}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,_;for(t=0;t<this.files.length;t++)this.reader.setIndex((_=this.files[t]).localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),_.readLocalPart(this.reader),_.handleUTF8(),_.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(t=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var _=t;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var a=this.centralDirOffset+this.centralDirSize;this.zip64&&(a+=20,a+=12+this.zip64EndOfCentralSize);var p=_-a;if(0<p)this.isSignature(_,i.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(t){this.reader=u(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},z.exports=x},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(S,z,w){"use strict";var u=S("./reader/readerFor"),c=S("./utils"),i=S("./compressedObject"),o=S("./crc32"),v=S("./utf8"),x=S("./compressions"),t=S("./support");function _(a,p){this.options=a,this.loadOptions=p}_.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(a){var p,s;if(a.skip(22),this.fileNameLength=a.readInt(2),s=a.readInt(2),this.fileName=a.readData(this.fileNameLength),a.skip(s),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(p=function(h){for(var d in x)if(Object.prototype.hasOwnProperty.call(x,d)&&x[d].magic===h)return x[d];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,p,a.readData(this.compressedSize))},readCentralPart:function(a){this.versionMadeBy=a.readInt(2),a.skip(2),this.bitFlag=a.readInt(2),this.compressionMethod=a.readString(2),this.date=a.readDate(),this.crc32=a.readInt(4),this.compressedSize=a.readInt(4),this.uncompressedSize=a.readInt(4);var p=a.readInt(2);if(this.extraFieldsLength=a.readInt(2),this.fileCommentLength=a.readInt(2),this.diskNumberStart=a.readInt(2),this.internalFileAttributes=a.readInt(2),this.externalFileAttributes=a.readInt(4),this.localHeaderOffset=a.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");a.skip(p),this.readExtraFields(a),this.parseZIP64ExtraField(a),this.fileComment=a.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var a=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==a&&(this.dosPermissions=63&this.externalFileAttributes),3==a&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var a=u(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=a.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=a.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=a.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=a.readInt(4))}},readExtraFields:function(a){var p,s,h,d=a.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});a.index+4<d;)p=a.readInt(2),s=a.readInt(2),h=a.readData(s),this.extraFields[p]={id:p,length:s,value:h};a.setIndex(d)},handleUTF8:function(){var a=t.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=v.utf8decode(this.fileName),this.fileCommentStr=v.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(null!==p)this.fileNameStr=p;else{var s=c.transformTo(a,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(s)}var h=this.findExtraFieldUnicodeComment();if(null!==h)this.fileCommentStr=h;else{var d=c.transformTo(a,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(d)}}},findExtraFieldUnicodePath:function(){var a=this.extraFields[28789];if(a){var p=u(a.value);return 1!==p.readInt(1)||o(this.fileName)!==p.readInt(4)?null:v.utf8decode(p.readData(a.length-5))}return null},findExtraFieldUnicodeComment:function(){var a=this.extraFields[25461];if(a){var p=u(a.value);return 1!==p.readInt(1)||o(this.fileComment)!==p.readInt(4)?null:v.utf8decode(p.readData(a.length-5))}return null}},z.exports=_},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(S,z,w){"use strict";function u(p,s,h){this.name=p,this.dir=h.dir,this.date=h.date,this.comment=h.comment,this.unixPermissions=h.unixPermissions,this.dosPermissions=h.dosPermissions,this._data=s,this._dataBinary=h.binary,this.options={compression:h.compression,compressionOptions:h.compressionOptions}}var c=S("./stream/StreamHelper"),i=S("./stream/DataWorker"),o=S("./utf8"),v=S("./compressedObject"),x=S("./stream/GenericWorker");u.prototype={internalStream:function(p){var s=null,h="string";try{if(!p)throw new Error("No output type specified.");var d="string"===(h=p.toLowerCase())||"text"===h;"binarystring"!==h&&"text"!==h||(h="string"),s=this._decompressWorker();var m=!this._dataBinary;m&&!d&&(s=s.pipe(new o.Utf8EncodeWorker)),!m&&d&&(s=s.pipe(new o.Utf8DecodeWorker))}catch(y){(s=new x("error")).error(y)}return new c(s,h,"")},async:function(p,s){return this.internalStream(p).accumulate(s)},nodeStream:function(p,s){return this.internalStream(p||"nodebuffer").toNodejsStream(s)},_compressWorker:function(p,s){if(this._data instanceof v&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var h=this._decompressWorker();return this._dataBinary||(h=h.pipe(new o.Utf8EncodeWorker)),v.createWorkerFrom(h,p,s)},_decompressWorker:function(){return this._data instanceof v?this._data.getContentWorker():this._data instanceof x?this._data:new i(this._data)}};for(var t=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],_=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},a=0;a<t.length;a++)u.prototype[t[a]]=_;z.exports=u},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(S,z,w){(function(u){"use strict";var c,i,o=u.MutationObserver||u.WebKitMutationObserver;if(o){var v=0,x=new o(p),t=u.document.createTextNode("");x.observe(t,{characterData:!0}),c=function(){t.data=v=++v%2}}else if(u.setImmediate||void 0===u.MessageChannel)c="document"in u&&"onreadystatechange"in u.document.createElement("script")?function(){var s=u.document.createElement("script");s.onreadystatechange=function(){p(),s.onreadystatechange=null,s.parentNode.removeChild(s),s=null},u.document.documentElement.appendChild(s)}:function(){setTimeout(p,0)};else{var _=new u.MessageChannel;_.port1.onmessage=p,c=function(){_.port2.postMessage(0)}}var a=[];function p(){var s,h;i=!0;for(var d=a.length;d;){for(h=a,a=[],s=-1;++s<d;)h[s]();d=a.length}i=!1}z.exports=function(s){1!==a.push(s)||i||c()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(S,z,w){"use strict";var u=S("immediate");function c(){}var i={},o=["REJECTED"],v=["FULFILLED"],x=["PENDING"];function t(d){if("function"!=typeof d)throw new TypeError("resolver must be a function");this.state=x,this.queue=[],this.outcome=void 0,d!==c&&s(this,d)}function _(d,m,y){this.promise=d,"function"==typeof m&&(this.onFulfilled=m,this.callFulfilled=this.otherCallFulfilled),"function"==typeof y&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function a(d,m,y){u(function(){var T;try{T=m(y)}catch(C){return i.reject(d,C)}T===d?i.reject(d,new TypeError("Cannot resolve promise with itself")):i.resolve(d,T)})}function p(d){var m=d&&d.then;if(d&&("object"==typeof d||"function"==typeof d)&&"function"==typeof m)return function(){m.apply(d,arguments)}}function s(d,m){var y=!1;function T(O){y||(y=!0,i.reject(d,O))}function C(O){y||(y=!0,i.resolve(d,O))}var J=h(function(){m(C,T)});"error"===J.status&&T(J.value)}function h(d,m){var y={};try{y.value=d(m),y.status="success"}catch(T){y.status="error",y.value=T}return y}(z.exports=t).prototype.finally=function(d){if("function"!=typeof d)return this;var m=this.constructor;return this.then(function(y){return m.resolve(d()).then(function(){return y})},function(y){return m.resolve(d()).then(function(){throw y})})},t.prototype.catch=function(d){return this.then(null,d)},t.prototype.then=function(d,m){if("function"!=typeof d&&this.state===v||"function"!=typeof m&&this.state===o)return this;var y=new this.constructor(c);return this.state!==x?a(y,this.state===v?d:m,this.outcome):this.queue.push(new _(y,d,m)),y},_.prototype.callFulfilled=function(d){i.resolve(this.promise,d)},_.prototype.otherCallFulfilled=function(d){a(this.promise,this.onFulfilled,d)},_.prototype.callRejected=function(d){i.reject(this.promise,d)},_.prototype.otherCallRejected=function(d){a(this.promise,this.onRejected,d)},i.resolve=function(d,m){var y=h(p,m);if("error"===y.status)return i.reject(d,y.value);var T=y.value;if(T)s(d,T);else{d.state=v,d.outcome=m;for(var C=-1,J=d.queue.length;++C<J;)d.queue[C].callFulfilled(m)}return d},i.reject=function(d,m){d.state=o,d.outcome=m;for(var y=-1,T=d.queue.length;++y<T;)d.queue[y].callRejected(m);return d},t.resolve=function(d){return d instanceof this?d:i.resolve(new this(c),d)},t.reject=function(d){var m=new this(c);return i.reject(m,d)},t.all=function(d){var m=this;if("[object Array]"!==Object.prototype.toString.call(d))return this.reject(new TypeError("must be an array"));var y=d.length,T=!1;if(!y)return this.resolve([]);for(var C=new Array(y),J=0,O=-1,L=new this(c);++O<y;)B(d[O],O);return L;function B(W,rt){m.resolve(W).then(function(b){C[rt]=b,++J!==y||T||(T=!0,i.resolve(L,C))},function(b){T||(T=!0,i.reject(L,b))})}},t.race=function(d){if("[object Array]"!==Object.prototype.toString.call(d))return this.reject(new TypeError("must be an array"));var y=d.length,T=!1;if(!y)return this.resolve([]);for(var C=-1,J=new this(c);++C<y;)this.resolve(d[C]).then(function(L){T||(T=!0,i.resolve(J,L))},function(L){T||(T=!0,i.reject(J,L))});return J}},{immediate:36}],38:[function(S,z,w){"use strict";var u={};(0,S("./lib/utils/common").assign)(u,S("./lib/deflate"),S("./lib/inflate"),S("./lib/zlib/constants")),z.exports=u},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(S,z,w){"use strict";var u=S("./zlib/deflate"),c=S("./utils/common"),i=S("./utils/strings"),o=S("./zlib/messages"),v=S("./zlib/zstream"),x=Object.prototype.toString,t=0,_=-1,a=0,p=8;function s(d){if(!(this instanceof s))return new s(d);this.options=c.assign({level:_,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:a,to:""},d||{});var m=this.options;m.raw&&0<m.windowBits?m.windowBits=-m.windowBits:m.gzip&&0<m.windowBits&&m.windowBits<16&&(m.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var y=u.deflateInit2(this.strm,m.level,m.method,m.windowBits,m.memLevel,m.strategy);if(y!==t)throw new Error(o[y]);if(m.header&&u.deflateSetHeader(this.strm,m.header),m.dictionary){var T;if(T="string"==typeof m.dictionary?i.string2buf(m.dictionary):"[object ArrayBuffer]"===x.call(m.dictionary)?new Uint8Array(m.dictionary):m.dictionary,(y=u.deflateSetDictionary(this.strm,T))!==t)throw new Error(o[y]);this._dict_set=!0}}function h(d,m){var y=new s(m);if(y.push(d,!0),y.err)throw y.msg||o[y.err];return y.result}s.prototype.push=function(d,m){var y,T,C=this.strm,J=this.options.chunkSize;if(this.ended)return!1;T=m===~~m?m:!0===m?4:0,C.input="string"==typeof d?i.string2buf(d):"[object ArrayBuffer]"===x.call(d)?new Uint8Array(d):d,C.next_in=0,C.avail_in=C.input.length;do{if(0===C.avail_out&&(C.output=new c.Buf8(J),C.next_out=0,C.avail_out=J),1!==(y=u.deflate(C,T))&&y!==t)return this.onEnd(y),!(this.ended=!0);0!==C.avail_out&&(0!==C.avail_in||4!==T&&2!==T)||this.onData("string"===this.options.to?i.buf2binstring(c.shrinkBuf(C.output,C.next_out)):c.shrinkBuf(C.output,C.next_out))}while((0<C.avail_in||0===C.avail_out)&&1!==y);return 4===T?(y=u.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===t):2!==T||(this.onEnd(t),!(C.avail_out=0))},s.prototype.onData=function(d){this.chunks.push(d)},s.prototype.onEnd=function(d){d===t&&(this.result="string"===this.options.to?this.chunks.join(""):c.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},w.Deflate=s,w.deflate=h,w.deflateRaw=function(d,m){return(m=m||{}).raw=!0,h(d,m)},w.gzip=function(d,m){return(m=m||{}).gzip=!0,h(d,m)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(S,z,w){"use strict";var u=S("./zlib/inflate"),c=S("./utils/common"),i=S("./utils/strings"),o=S("./zlib/constants"),v=S("./zlib/messages"),x=S("./zlib/zstream"),t=S("./zlib/gzheader"),_=Object.prototype.toString;function a(s){if(!(this instanceof a))return new a(s);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},s||{});var h=this.options;h.raw&&0<=h.windowBits&&h.windowBits<16&&(h.windowBits=-h.windowBits,0===h.windowBits&&(h.windowBits=-15)),!(0<=h.windowBits&&h.windowBits<16)||s&&s.windowBits||(h.windowBits+=32),15<h.windowBits&&h.windowBits<48&&!(15&h.windowBits)&&(h.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x,this.strm.avail_out=0;var d=u.inflateInit2(this.strm,h.windowBits);if(d!==o.Z_OK)throw new Error(v[d]);this.header=new t,u.inflateGetHeader(this.strm,this.header)}function p(s,h){var d=new a(h);if(d.push(s,!0),d.err)throw d.msg||v[d.err];return d.result}a.prototype.push=function(s,h){var d,m,y,T,C,J,O=this.strm,L=this.options.chunkSize,B=this.options.dictionary,W=!1;if(this.ended)return!1;m=h===~~h?h:!0===h?o.Z_FINISH:o.Z_NO_FLUSH,O.input="string"==typeof s?i.binstring2buf(s):"[object ArrayBuffer]"===_.call(s)?new Uint8Array(s):s,O.next_in=0,O.avail_in=O.input.length;do{if(0===O.avail_out&&(O.output=new c.Buf8(L),O.next_out=0,O.avail_out=L),(d=u.inflate(O,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&B&&(J="string"==typeof B?i.string2buf(B):"[object ArrayBuffer]"===_.call(B)?new Uint8Array(B):B,d=u.inflateSetDictionary(this.strm,J)),d===o.Z_BUF_ERROR&&!0===W&&(d=o.Z_OK,W=!1),d!==o.Z_STREAM_END&&d!==o.Z_OK)return this.onEnd(d),!(this.ended=!0);O.next_out&&(0!==O.avail_out&&d!==o.Z_STREAM_END&&(0!==O.avail_in||m!==o.Z_FINISH&&m!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(y=i.utf8border(O.output,O.next_out),T=O.next_out-y,C=i.buf2string(O.output,y),O.next_out=T,O.avail_out=L-T,T&&c.arraySet(O.output,O.output,y,T,0),this.onData(C)):this.onData(c.shrinkBuf(O.output,O.next_out)))),0===O.avail_in&&0===O.avail_out&&(W=!0)}while((0<O.avail_in||0===O.avail_out)&&d!==o.Z_STREAM_END);return d===o.Z_STREAM_END&&(m=o.Z_FINISH),m===o.Z_FINISH?(d=u.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===o.Z_OK):m!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(O.avail_out=0))},a.prototype.onData=function(s){this.chunks.push(s)},a.prototype.onEnd=function(s){s===o.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):c.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg},w.Inflate=a,w.inflate=p,w.inflateRaw=function(s,h){return(h=h||{}).raw=!0,p(s,h)},w.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(S,z,w){"use strict";var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";w.assign=function(o){for(var v=Array.prototype.slice.call(arguments,1);v.length;){var x=v.shift();if(x){if("object"!=typeof x)throw new TypeError(x+"must be non-object");for(var t in x)x.hasOwnProperty(t)&&(o[t]=x[t])}}return o},w.shrinkBuf=function(o,v){return o.length===v?o:o.subarray?o.subarray(0,v):(o.length=v,o)};var c={arraySet:function(o,v,x,t,_){if(v.subarray&&o.subarray)o.set(v.subarray(x,x+t),_);else for(var a=0;a<t;a++)o[_+a]=v[x+a]},flattenChunks:function(o){var v,x,t,_,a,p;for(v=t=0,x=o.length;v<x;v++)t+=o[v].length;for(p=new Uint8Array(t),v=_=0,x=o.length;v<x;v++)p.set(a=o[v],_),_+=a.length;return p}},i={arraySet:function(o,v,x,t,_){for(var a=0;a<t;a++)o[_+a]=v[x+a]},flattenChunks:function(o){return[].concat.apply([],o)}};w.setTyped=function(o){o?(w.Buf8=Uint8Array,w.Buf16=Uint16Array,w.Buf32=Int32Array,w.assign(w,c)):(w.Buf8=Array,w.Buf16=Array,w.Buf32=Array,w.assign(w,i))},w.setTyped(u)},{}],42:[function(S,z,w){"use strict";var u=S("./common"),c=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{i=!1}for(var o=new u.Buf8(256),v=0;v<256;v++)o[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;function x(t,_){if(_<65537&&(t.subarray&&i||!t.subarray&&c))return String.fromCharCode.apply(null,u.shrinkBuf(t,_));for(var a="",p=0;p<_;p++)a+=String.fromCharCode(t[p]);return a}o[254]=o[254]=1,w.string2buf=function(t){var _,a,p,s,h,d=t.length,m=0;for(s=0;s<d;s++)55296==(64512&(a=t.charCodeAt(s)))&&s+1<d&&56320==(64512&(p=t.charCodeAt(s+1)))&&(a=65536+(a-55296<<10)+(p-56320),s++),m+=a<128?1:a<2048?2:a<65536?3:4;for(_=new u.Buf8(m),s=h=0;h<m;s++)55296==(64512&(a=t.charCodeAt(s)))&&s+1<d&&56320==(64512&(p=t.charCodeAt(s+1)))&&(a=65536+(a-55296<<10)+(p-56320),s++),a<128?_[h++]=a:(a<2048?_[h++]=192|a>>>6:(a<65536?_[h++]=224|a>>>12:(_[h++]=240|a>>>18,_[h++]=128|a>>>12&63),_[h++]=128|a>>>6&63),_[h++]=128|63&a);return _},w.buf2binstring=function(t){return x(t,t.length)},w.binstring2buf=function(t){for(var _=new u.Buf8(t.length),a=0,p=_.length;a<p;a++)_[a]=t.charCodeAt(a);return _},w.buf2string=function(t,_){var a,p,s,h,d=_||t.length,m=new Array(2*d);for(a=p=0;a<d;)if((s=t[a++])<128)m[p++]=s;else if(4<(h=o[s]))m[p++]=65533,a+=h-1;else{for(s&=2===h?31:3===h?15:7;1<h&&a<d;)s=s<<6|63&t[a++],h--;1<h?m[p++]=65533:s<65536?m[p++]=s:(m[p++]=55296|(s-=65536)>>10&1023,m[p++]=56320|1023&s)}return x(m,p)},w.utf8border=function(t,_){var a;for((_=_||t.length)>t.length&&(_=t.length),a=_-1;0<=a&&128==(192&t[a]);)a--;return a<0||0===a?_:a+o[t[a]]>_?a:_}},{"./common":41}],43:[function(S,z,w){"use strict";z.exports=function(u,c,i,o){for(var v=65535&u|0,x=u>>>16&65535|0,t=0;0!==i;){for(i-=t=2e3<i?2e3:i;x=x+(v=v+c[o++]|0)|0,--t;);v%=65521,x%=65521}return v|x<<16|0}},{}],44:[function(S,z,w){"use strict";z.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(S,z,w){"use strict";var u=function(){for(var c,i=[],o=0;o<256;o++){c=o;for(var v=0;v<8;v++)c=1&c?3988292384^c>>>1:c>>>1;i[o]=c}return i}();z.exports=function(c,i,o,v){var x=u,t=v+o;c^=-1;for(var _=v;_<t;_++)c=c>>>8^x[255&(c^i[_])];return-1^c}},{}],46:[function(S,z,w){"use strict";var u,c=S("../utils/common"),i=S("./trees"),o=S("./adler32"),v=S("./crc32"),x=S("./messages"),t=0,a=0,p=-2,d=2,m=8,T=286,C=30,J=19,O=2*T+1,L=15,B=3,W=258,rt=W+B+1,b=42,j=113;function ot(e,q){return e.msg=x[q],q}function M(e){return(e<<1)-(4<e?9:0)}function it(e){for(var q=e.length;0<=--q;)e[q]=0}function E(e){var q=e.state,U=q.pending;U>e.avail_out&&(U=e.avail_out),0!==U&&(c.arraySet(e.output,q.pending_buf,q.pending_out,U,e.next_out),e.next_out+=U,q.pending_out+=U,e.total_out+=U,e.avail_out-=U,q.pending-=U,0===q.pending&&(q.pending_out=0))}function N(e,q){i._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,q),e.block_start=e.strstart,E(e.strm)}function nt(e,q){e.pending_buf[e.pending++]=q}function X(e,q){e.pending_buf[e.pending++]=q>>>8&255,e.pending_buf[e.pending++]=255&q}function H(e,q){var U,f,l=e.max_chain_length,A=e.strstart,D=e.prev_length,R=e.nice_match,Z=e.strstart>e.w_size-rt?e.strstart-(e.w_size-rt):0,G=e.window,tt=e.w_mask,Y=e.prev,et=e.strstart+W,ut=G[A+D-1],lt=G[A+D];e.prev_length>=e.good_match&&(l>>=2),R>e.lookahead&&(R=e.lookahead);do{if(G[(U=q)+D]===lt&&G[U+D-1]===ut&&G[U]===G[A]&&G[++U]===G[A+1]){A+=2,U++;do{}while(G[++A]===G[++U]&&G[++A]===G[++U]&&G[++A]===G[++U]&&G[++A]===G[++U]&&G[++A]===G[++U]&&G[++A]===G[++U]&&G[++A]===G[++U]&&G[++A]===G[++U]&&A<et);if(f=W-(et-A),A=et-W,D<f){if(e.match_start=q,R<=(D=f))break;ut=G[A+D-1],lt=G[A+D]}}}while((q=Y[q&tt])>Z&&0!=--l);return D<=e.lookahead?D:e.lookahead}function ht(e){var q,U,f,l,A,D,R,Z,G,tt,Y=e.w_size;do{if(l=e.window_size-e.lookahead-e.strstart,e.strstart>=Y+(Y-rt)){for(c.arraySet(e.window,e.window,Y,Y,0),e.match_start-=Y,e.strstart-=Y,e.block_start-=Y,q=U=e.hash_size;f=e.head[--q],e.head[q]=Y<=f?f-Y:0,--U;);for(q=U=Y;f=e.prev[--q],e.prev[q]=Y<=f?f-Y:0,--U;);l+=Y}if(0===e.strm.avail_in)break;if(R=e.window,Z=e.strstart+e.lookahead,tt=void 0,(G=l)<(tt=(D=e.strm).avail_in)&&(tt=G),U=0===tt?0:(D.avail_in-=tt,c.arraySet(R,D.input,D.next_in,tt,Z),1===D.state.wrap?D.adler=o(D.adler,R,tt,Z):2===D.state.wrap&&(D.adler=v(D.adler,R,tt,Z)),D.next_in+=tt,D.total_in+=tt,tt),e.lookahead+=U,e.lookahead+e.insert>=B)for(e.ins_h=e.window[A=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[A+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[A+B-1])&e.hash_mask,e.prev[A&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=A,A++,e.insert--,!(e.lookahead+e.insert<B)););}while(e.lookahead<rt&&0!==e.strm.avail_in)}function gt(e,q){for(var U,f;;){if(e.lookahead<rt){if(ht(e),e.lookahead<rt&&q===t)return 1;if(0===e.lookahead)break}if(U=0,e.lookahead>=B&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+B-1])&e.hash_mask,U=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==U&&e.strstart-U<=e.w_size-rt&&(e.match_length=H(e,U)),e.match_length>=B)if(f=i._tr_tally(e,e.strstart-e.match_start,e.match_length-B),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=B){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+B-1])&e.hash_mask,U=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else f=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(f&&(N(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<B-1?e.strstart:B-1,4===q?(N(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?1:2}function dt(e,q){for(var U,f,l;;){if(e.lookahead<rt){if(ht(e),e.lookahead<rt&&q===t)return 1;if(0===e.lookahead)break}if(U=0,e.lookahead>=B&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+B-1])&e.hash_mask,U=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=B-1,0!==U&&e.prev_length<e.max_lazy_match&&e.strstart-U<=e.w_size-rt&&(e.match_length=H(e,U),e.match_length<=5&&(1===e.strategy||e.match_length===B&&4096<e.strstart-e.match_start)&&(e.match_length=B-1)),e.prev_length>=B&&e.match_length<=e.prev_length){for(l=e.strstart+e.lookahead-B,f=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-B),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=l&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+B-1])&e.hash_mask,U=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=B-1,e.strstart++,f&&(N(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((f=i._tr_tally(e,0,e.window[e.strstart-1]))&&N(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(f=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<B-1?e.strstart:B-1,4===q?(N(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?1:2}function ct(e,q,U,f,l){this.good_length=e,this.max_lazy=q,this.nice_length=U,this.max_chain=f,this.func=l}function _t(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*O),this.dyn_dtree=new c.Buf16(2*(2*C+1)),this.bl_tree=new c.Buf16(2*(2*J+1)),it(this.dyn_ltree),it(this.dyn_dtree),it(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(L+1),this.heap=new c.Buf16(2*T+1),it(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*T+1),it(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ft(e){var q;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=d,(q=e.state).pending=0,q.pending_out=0,q.wrap<0&&(q.wrap=-q.wrap),q.status=q.wrap?b:j,e.adler=2===q.wrap?0:1,q.last_flush=t,i._tr_init(q),a):ot(e,p)}function yt(e){var U,q=ft(e);return q===a&&((U=e.state).window_size=2*U.w_size,it(U.head),U.max_lazy_match=u[U.level].max_lazy,U.good_match=u[U.level].good_length,U.nice_match=u[U.level].nice_length,U.max_chain_length=u[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=B-1,U.match_available=0,U.ins_h=0),q}function wt(e,q,U,f,l,A){if(!e)return p;var D=1;if(-1===q&&(q=6),f<0?(D=0,f=-f):15<f&&(D=2,f-=16),l<1||9<l||U!==m||f<8||15<f||q<0||9<q||A<0||4<A)return ot(e,p);8===f&&(f=9);var R=new _t;return(e.state=R).strm=e,R.wrap=D,R.gzhead=null,R.w_bits=f,R.w_size=1<<R.w_bits,R.w_mask=R.w_size-1,R.hash_bits=l+7,R.hash_size=1<<R.hash_bits,R.hash_mask=R.hash_size-1,R.hash_shift=~~((R.hash_bits+B-1)/B),R.window=new c.Buf8(2*R.w_size),R.head=new c.Buf16(R.hash_size),R.prev=new c.Buf16(R.w_size),R.lit_bufsize=1<<l+6,R.pending_buf_size=4*R.lit_bufsize,R.pending_buf=new c.Buf8(R.pending_buf_size),R.d_buf=1*R.lit_bufsize,R.l_buf=3*R.lit_bufsize,R.level=q,R.strategy=A,R.method=U,yt(e)}u=[new ct(0,0,0,0,function(e,q){var U=65535;for(U>e.pending_buf_size-5&&(U=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ht(e),0===e.lookahead&&q===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var f=e.block_start+U;if((0===e.strstart||e.strstart>=f)&&(e.lookahead=e.strstart-f,e.strstart=f,N(e,!1),0===e.strm.avail_out)||e.strstart-e.block_start>=e.w_size-rt&&(N(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===q?(N(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&N(e,!1),1)}),new ct(4,4,8,4,gt),new ct(4,5,16,8,gt),new ct(4,6,32,32,gt),new ct(4,4,16,16,dt),new ct(8,16,32,32,dt),new ct(8,16,128,128,dt),new ct(8,32,128,256,dt),new ct(32,128,258,1024,dt),new ct(32,258,258,4096,dt)],w.deflateInit=function(e,q){return wt(e,q,m,15,8,0)},w.deflateInit2=wt,w.deflateReset=yt,w.deflateResetKeep=ft,w.deflateSetHeader=function(e,q){return e&&e.state?2!==e.state.wrap?p:(e.state.gzhead=q,a):p},w.deflate=function(e,q){var U,f,l,A;if(!e||!e.state||5<q||q<0)return e?ot(e,p):p;if(f=e.state,!e.output||!e.input&&0!==e.avail_in||666===f.status&&4!==q)return ot(e,0===e.avail_out?-5:p);if(f.strm=e,U=f.last_flush,f.last_flush=q,f.status===b)if(2===f.wrap)e.adler=0,nt(f,31),nt(f,139),nt(f,8),f.gzhead?(nt(f,(f.gzhead.text?1:0)+(f.gzhead.hcrc?2:0)+(f.gzhead.extra?4:0)+(f.gzhead.name?8:0)+(f.gzhead.comment?16:0)),nt(f,255&f.gzhead.time),nt(f,f.gzhead.time>>8&255),nt(f,f.gzhead.time>>16&255),nt(f,f.gzhead.time>>24&255),nt(f,9===f.level?2:2<=f.strategy||f.level<2?4:0),nt(f,255&f.gzhead.os),f.gzhead.extra&&f.gzhead.extra.length&&(nt(f,255&f.gzhead.extra.length),nt(f,f.gzhead.extra.length>>8&255)),f.gzhead.hcrc&&(e.adler=v(e.adler,f.pending_buf,f.pending,0)),f.gzindex=0,f.status=69):(nt(f,0),nt(f,0),nt(f,0),nt(f,0),nt(f,0),nt(f,9===f.level?2:2<=f.strategy||f.level<2?4:0),nt(f,3),f.status=j);else{var D=m+(f.w_bits-8<<4)<<8;D|=(2<=f.strategy||f.level<2?0:f.level<6?1:6===f.level?2:3)<<6,0!==f.strstart&&(D|=32),D+=31-D%31,f.status=j,X(f,D),0!==f.strstart&&(X(f,e.adler>>>16),X(f,65535&e.adler)),e.adler=1}if(69===f.status)if(f.gzhead.extra){for(l=f.pending;f.gzindex<(65535&f.gzhead.extra.length)&&(f.pending!==f.pending_buf_size||(f.gzhead.hcrc&&f.pending>l&&(e.adler=v(e.adler,f.pending_buf,f.pending-l,l)),E(e),l=f.pending,f.pending!==f.pending_buf_size));)nt(f,255&f.gzhead.extra[f.gzindex]),f.gzindex++;f.gzhead.hcrc&&f.pending>l&&(e.adler=v(e.adler,f.pending_buf,f.pending-l,l)),f.gzindex===f.gzhead.extra.length&&(f.gzindex=0,f.status=73)}else f.status=73;if(73===f.status)if(f.gzhead.name){l=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>l&&(e.adler=v(e.adler,f.pending_buf,f.pending-l,l)),E(e),l=f.pending,f.pending===f.pending_buf_size)){A=1;break}A=f.gzindex<f.gzhead.name.length?255&f.gzhead.name.charCodeAt(f.gzindex++):0,nt(f,A)}while(0!==A);f.gzhead.hcrc&&f.pending>l&&(e.adler=v(e.adler,f.pending_buf,f.pending-l,l)),0===A&&(f.gzindex=0,f.status=91)}else f.status=91;if(91===f.status)if(f.gzhead.comment){l=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>l&&(e.adler=v(e.adler,f.pending_buf,f.pending-l,l)),E(e),l=f.pending,f.pending===f.pending_buf_size)){A=1;break}A=f.gzindex<f.gzhead.comment.length?255&f.gzhead.comment.charCodeAt(f.gzindex++):0,nt(f,A)}while(0!==A);f.gzhead.hcrc&&f.pending>l&&(e.adler=v(e.adler,f.pending_buf,f.pending-l,l)),0===A&&(f.status=103)}else f.status=103;if(103===f.status&&(f.gzhead.hcrc?(f.pending+2>f.pending_buf_size&&E(e),f.pending+2<=f.pending_buf_size&&(nt(f,255&e.adler),nt(f,e.adler>>8&255),e.adler=0,f.status=j)):f.status=j),0!==f.pending){if(E(e),0===e.avail_out)return f.last_flush=-1,a}else if(0===e.avail_in&&M(q)<=M(U)&&4!==q)return ot(e,-5);if(666===f.status&&0!==e.avail_in)return ot(e,-5);if(0!==e.avail_in||0!==f.lookahead||q!==t&&666!==f.status){var R=2===f.strategy?function(Z,G){for(var tt;;){if(0===Z.lookahead&&(ht(Z),0===Z.lookahead)){if(G===t)return 1;break}if(Z.match_length=0,tt=i._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++,tt&&(N(Z,!1),0===Z.strm.avail_out))return 1}return Z.insert=0,4===G?(N(Z,!0),0===Z.strm.avail_out?3:4):Z.last_lit&&(N(Z,!1),0===Z.strm.avail_out)?1:2}(f,q):3===f.strategy?function(Z,G){for(var tt,Y,et,ut,lt=Z.window;;){if(Z.lookahead<=W){if(ht(Z),Z.lookahead<=W&&G===t)return 1;if(0===Z.lookahead)break}if(Z.match_length=0,Z.lookahead>=B&&0<Z.strstart&&(Y=lt[et=Z.strstart-1])===lt[++et]&&Y===lt[++et]&&Y===lt[++et]){ut=Z.strstart+W;do{}while(Y===lt[++et]&&Y===lt[++et]&&Y===lt[++et]&&Y===lt[++et]&&Y===lt[++et]&&Y===lt[++et]&&Y===lt[++et]&&Y===lt[++et]&&et<ut);Z.match_length=W-(ut-et),Z.match_length>Z.lookahead&&(Z.match_length=Z.lookahead)}if(Z.match_length>=B?(tt=i._tr_tally(Z,1,Z.match_length-B),Z.lookahead-=Z.match_length,Z.strstart+=Z.match_length,Z.match_length=0):(tt=i._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++),tt&&(N(Z,!1),0===Z.strm.avail_out))return 1}return Z.insert=0,4===G?(N(Z,!0),0===Z.strm.avail_out?3:4):Z.last_lit&&(N(Z,!1),0===Z.strm.avail_out)?1:2}(f,q):u[f.level].func(f,q);if(3!==R&&4!==R||(f.status=666),1===R||3===R)return 0===e.avail_out&&(f.last_flush=-1),a;if(2===R&&(1===q?i._tr_align(f):5!==q&&(i._tr_stored_block(f,0,0,!1),3===q&&(it(f.head),0===f.lookahead&&(f.strstart=0,f.block_start=0,f.insert=0))),E(e),0===e.avail_out))return f.last_flush=-1,a}return 4!==q?a:f.wrap<=0?1:(2===f.wrap?(nt(f,255&e.adler),nt(f,e.adler>>8&255),nt(f,e.adler>>16&255),nt(f,e.adler>>24&255),nt(f,255&e.total_in),nt(f,e.total_in>>8&255),nt(f,e.total_in>>16&255),nt(f,e.total_in>>24&255)):(X(f,e.adler>>>16),X(f,65535&e.adler)),E(e),0<f.wrap&&(f.wrap=-f.wrap),0!==f.pending?a:1)},w.deflateEnd=function(e){var q;return e&&e.state?(q=e.state.status)!==b&&69!==q&&73!==q&&91!==q&&103!==q&&q!==j&&666!==q?ot(e,p):(e.state=null,q===j?ot(e,-3):a):p},w.deflateSetDictionary=function(e,q){var U,f,l,A,D,R,Z,G,tt=q.length;if(!e||!e.state||2===(A=(U=e.state).wrap)||1===A&&U.status!==b||U.lookahead)return p;for(1===A&&(e.adler=o(e.adler,q,tt,0)),U.wrap=0,tt>=U.w_size&&(0===A&&(it(U.head),U.strstart=0,U.block_start=0,U.insert=0),G=new c.Buf8(U.w_size),c.arraySet(G,q,tt-U.w_size,U.w_size,0),q=G,tt=U.w_size),D=e.avail_in,R=e.next_in,Z=e.input,e.avail_in=tt,e.next_in=0,e.input=q,ht(U);U.lookahead>=B;){for(f=U.strstart,l=U.lookahead-(B-1);U.ins_h=(U.ins_h<<U.hash_shift^U.window[f+B-1])&U.hash_mask,U.prev[f&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=f,f++,--l;);U.strstart=f,U.lookahead=B-1,ht(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=B-1,U.match_available=0,e.next_in=R,e.input=Z,e.avail_in=D,U.wrap=A,a},w.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(S,z,w){"use strict";z.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(S,z,w){"use strict";z.exports=function(u,c){var i,o,v,x,t,_,a,p,s,h,d,m,y,T,C,J,O,L,B,W,rt,b,j,r,F;r=u.input,v=(o=u.next_in)+(u.avail_in-5),F=u.output,t=(x=u.next_out)-(c-u.avail_out),_=x+(u.avail_out-257),a=(i=u.state).dmax,p=i.wsize,s=i.whave,h=i.wnext,d=i.window,m=i.hold,y=i.bits,T=i.lencode,C=i.distcode,J=(1<<i.lenbits)-1,O=(1<<i.distbits)-1;t:do{y<15&&(m+=r[o++]<<y,m+=r[o++]<<(y+=8),y+=8),L=T[m&J];e:for(;;){if(m>>>=B=L>>>24,y-=B,0==(B=L>>>16&255))F[x++]=65535&L;else{if(!(16&B)){if(!(64&B)){L=T[(65535&L)+(m&(1<<B)-1)];continue e}if(32&B){i.mode=12;break t}u.msg="invalid literal/length code",i.mode=30;break t}W=65535&L,(B&=15)&&(y<B&&(m+=r[o++]<<y,y+=8),W+=m&(1<<B)-1,m>>>=B,y-=B),y<15&&(m+=r[o++]<<y,m+=r[o++]<<(y+=8),y+=8),L=C[m&O];n:for(;;){if(m>>>=B=L>>>24,y-=B,!(16&(B=L>>>16&255))){if(!(64&B)){L=C[(65535&L)+(m&(1<<B)-1)];continue n}u.msg="invalid distance code",i.mode=30;break t}if(rt=65535&L,y<(B&=15)&&(m+=r[o++]<<y,(y+=8)<B&&(m+=r[o++]<<y,y+=8)),a<(rt+=m&(1<<B)-1)){u.msg="invalid distance too far back",i.mode=30;break t}if(m>>>=B,y-=B,(B=x-t)<rt){if(s<(B=rt-B)&&i.sane){u.msg="invalid distance too far back",i.mode=30;break t}if(j=d,(b=0)===h){if(b+=p-B,B<W){for(W-=B;F[x++]=d[b++],--B;);b=x-rt,j=F}}else if(h<B){if(b+=p+h-B,(B-=h)<W){for(W-=B;F[x++]=d[b++],--B;);if(b=0,h<W){for(W-=B=h;F[x++]=d[b++],--B;);b=x-rt,j=F}}}else if(b+=h-B,B<W){for(W-=B;F[x++]=d[b++],--B;);b=x-rt,j=F}for(;2<W;)F[x++]=j[b++],F[x++]=j[b++],F[x++]=j[b++],W-=3;W&&(F[x++]=j[b++],1<W&&(F[x++]=j[b++]))}else{for(b=x-rt;F[x++]=F[b++],F[x++]=F[b++],F[x++]=F[b++],2<(W-=3););W&&(F[x++]=F[b++],1<W&&(F[x++]=F[b++]))}break}}break}}while(o<v&&x<_);o-=W=y>>3,m&=(1<<(y-=W<<3))-1,u.next_in=o,u.next_out=x,u.avail_in=o<v?v-o+5:5-(o-v),u.avail_out=x<_?_-x+257:257-(x-_),i.hold=m,i.bits=y}},{}],49:[function(S,z,w){"use strict";var u=S("../utils/common"),c=S("./adler32"),i=S("./crc32"),o=S("./inffast"),v=S("./inftrees"),_=0,a=-2,p=1,s=852,h=592;function d(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(b){var j;return b&&b.state?(b.total_in=b.total_out=(j=b.state).total=0,b.msg="",j.wrap&&(b.adler=1&j.wrap),j.mode=p,j.last=0,j.havedict=0,j.dmax=32768,j.head=null,j.hold=0,j.bits=0,j.lencode=j.lendyn=new u.Buf32(s),j.distcode=j.distdyn=new u.Buf32(h),j.sane=1,j.back=-1,_):a}function T(b){var j;return b&&b.state?((j=b.state).wsize=0,j.whave=0,j.wnext=0,y(b)):a}function C(b,j){var r,F;return b&&b.state?(F=b.state,j<0?(r=0,j=-j):(r=1+(j>>4),j<48&&(j&=15)),j&&(j<8||15<j)?a:(null!==F.window&&F.wbits!==j&&(F.window=null),F.wrap=r,F.wbits=j,T(b))):a}function J(b,j){var r,F;return b?(F=new m,(b.state=F).window=null,(r=C(b,j))!==_&&(b.state=null),r):a}var O,L,B=!0;function W(b){if(B){var j;for(O=new u.Buf32(512),L=new u.Buf32(32),j=0;j<144;)b.lens[j++]=8;for(;j<256;)b.lens[j++]=9;for(;j<280;)b.lens[j++]=7;for(;j<288;)b.lens[j++]=8;for(v(1,b.lens,0,288,O,0,b.work,{bits:9}),j=0;j<32;)b.lens[j++]=5;v(2,b.lens,0,32,L,0,b.work,{bits:5}),B=!1}b.lencode=O,b.lenbits=9,b.distcode=L,b.distbits=5}function rt(b,j,r,F){var st,P=b.state;return null===P.window&&(P.wsize=1<<P.wbits,P.wnext=0,P.whave=0,P.window=new u.Buf8(P.wsize)),F>=P.wsize?(u.arraySet(P.window,j,r-P.wsize,P.wsize,0),P.wnext=0,P.whave=P.wsize):(F<(st=P.wsize-P.wnext)&&(st=F),u.arraySet(P.window,j,r-F,st,P.wnext),(F-=st)?(u.arraySet(P.window,j,r-F,F,0),P.wnext=F,P.whave=P.wsize):(P.wnext+=st,P.wnext===P.wsize&&(P.wnext=0),P.whave<P.wsize&&(P.whave+=st))),0}w.inflateReset=T,w.inflateReset2=C,w.inflateResetKeep=y,w.inflateInit=function(b){return J(b,15)},w.inflateInit2=J,w.inflate=function(b,j){var r,F,st,P,ot,M,it,E,N,nt,X,H,ht,gt,dt,ct,_t,ft,yt,wt,e,q,U,f,l=0,A=new u.Buf8(4),D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&0!==b.avail_in)return a;12===(r=b.state).mode&&(r.mode=13),ot=b.next_out,st=b.output,P=b.next_in,F=b.input,E=r.hold,N=r.bits,nt=M=b.avail_in,X=it=b.avail_out,q=_;t:for(;;)switch(r.mode){case p:if(0===r.wrap){r.mode=13;break}for(;N<16;){if(0===M)break t;M--,E+=F[P++]<<N,N+=8}if(2&r.wrap&&35615===E){A[r.check=0]=255&E,A[1]=E>>>8&255,r.check=i(r.check,A,2,0),N=E=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&E)<<8)+(E>>8))%31){b.msg="incorrect header check",r.mode=30;break}if(8!=(15&E)){b.msg="unknown compression method",r.mode=30;break}if(N-=4,e=8+(15&(E>>>=4)),0===r.wbits)r.wbits=e;else if(e>r.wbits){b.msg="invalid window size",r.mode=30;break}r.dmax=1<<e,b.adler=r.check=1,r.mode=512&E?10:12,N=E=0;break;case 2:for(;N<16;){if(0===M)break t;M--,E+=F[P++]<<N,N+=8}if(r.flags=E,8!=(255&r.flags)){b.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){b.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=E>>8&1),512&r.flags&&(A[0]=255&E,A[1]=E>>>8&255,r.check=i(r.check,A,2,0)),N=E=0,r.mode=3;case 3:for(;N<32;){if(0===M)break t;M--,E+=F[P++]<<N,N+=8}r.head&&(r.head.time=E),512&r.flags&&(A[0]=255&E,A[1]=E>>>8&255,A[2]=E>>>16&255,A[3]=E>>>24&255,r.check=i(r.check,A,4,0)),N=E=0,r.mode=4;case 4:for(;N<16;){if(0===M)break t;M--,E+=F[P++]<<N,N+=8}r.head&&(r.head.xflags=255&E,r.head.os=E>>8),512&r.flags&&(A[0]=255&E,A[1]=E>>>8&255,r.check=i(r.check,A,2,0)),N=E=0,r.mode=5;case 5:if(1024&r.flags){for(;N<16;){if(0===M)break t;M--,E+=F[P++]<<N,N+=8}r.length=E,r.head&&(r.head.extra_len=E),512&r.flags&&(A[0]=255&E,A[1]=E>>>8&255,r.check=i(r.check,A,2,0)),N=E=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(M<(H=r.length)&&(H=M),H&&(r.head&&(e=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),u.arraySet(r.head.extra,F,P,H,e)),512&r.flags&&(r.check=i(r.check,F,H,P)),M-=H,P+=H,r.length-=H),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===M)break t;for(H=0;e=F[P+H++],r.head&&e&&r.length<65536&&(r.head.name+=String.fromCharCode(e)),e&&H<M;);if(512&r.flags&&(r.check=i(r.check,F,H,P)),M-=H,P+=H,e)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===M)break t;for(H=0;e=F[P+H++],r.head&&e&&r.length<65536&&(r.head.comment+=String.fromCharCode(e)),e&&H<M;);if(512&r.flags&&(r.check=i(r.check,F,H,P)),M-=H,P+=H,e)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;N<16;){if(0===M)break t;M--,E+=F[P++]<<N,N+=8}if(E!==(65535&r.check)){b.msg="header crc mismatch",r.mode=30;break}N=E=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),b.adler=r.check=0,r.mode=12;break;case 10:for(;N<32;){if(0===M)break t;M--,E+=F[P++]<<N,N+=8}b.adler=r.check=d(E),N=E=0,r.mode=11;case 11:if(0===r.havedict)return b.next_out=ot,b.avail_out=it,b.next_in=P,b.avail_in=M,r.hold=E,r.bits=N,2;b.adler=r.check=1,r.mode=12;case 12:if(5===j||6===j)break t;case 13:if(r.last){E>>>=7&N,N-=7&N,r.mode=27;break}for(;N<3;){if(0===M)break t;M--,E+=F[P++]<<N,N+=8}switch(r.last=1&E,N-=1,3&(E>>>=1)){case 0:r.mode=14;break;case 1:if(W(r),r.mode=20,6!==j)break;E>>>=2,N-=2;break t;case 2:r.mode=17;break;case 3:b.msg="invalid block type",r.mode=30}E>>>=2,N-=2;break;case 14:for(E>>>=7&N,N-=7&N;N<32;){if(0===M)break t;M--,E+=F[P++]<<N,N+=8}if((65535&E)!=(E>>>16^65535)){b.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&E,N=E=0,r.mode=15,6===j)break t;case 15:r.mode=16;case 16:if(H=r.length){if(M<H&&(H=M),it<H&&(H=it),0===H)break t;u.arraySet(st,F,P,H,ot),M-=H,P+=H,it-=H,ot+=H,r.length-=H;break}r.mode=12;break;case 17:for(;N<14;){if(0===M)break t;M--,E+=F[P++]<<N,N+=8}if(r.nlen=257+(31&E),N-=5,r.ndist=1+(31&(E>>>=5)),N-=5,r.ncode=4+(15&(E>>>=5)),E>>>=4,N-=4,286<r.nlen||30<r.ndist){b.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;N<3;){if(0===M)break t;M--,E+=F[P++]<<N,N+=8}r.lens[D[r.have++]]=7&E,E>>>=3,N-=3}for(;r.have<19;)r.lens[D[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,q=v(0,r.lens,0,19,r.lencode,0,r.work,U={bits:r.lenbits}),r.lenbits=U.bits,q){b.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;ct=(l=r.lencode[E&(1<<r.lenbits)-1])>>>16&255,_t=65535&l,!((dt=l>>>24)<=N);){if(0===M)break t;M--,E+=F[P++]<<N,N+=8}if(_t<16)E>>>=dt,N-=dt,r.lens[r.have++]=_t;else{if(16===_t){for(f=dt+2;N<f;){if(0===M)break t;M--,E+=F[P++]<<N,N+=8}if(E>>>=dt,N-=dt,0===r.have){b.msg="invalid bit length repeat",r.mode=30;break}e=r.lens[r.have-1],H=3+(3&E),E>>>=2,N-=2}else if(17===_t){for(f=dt+3;N<f;){if(0===M)break t;M--,E+=F[P++]<<N,N+=8}N-=dt,e=0,H=3+(7&(E>>>=dt)),E>>>=3,N-=3}else{for(f=dt+7;N<f;){if(0===M)break t;M--,E+=F[P++]<<N,N+=8}N-=dt,e=0,H=11+(127&(E>>>=dt)),E>>>=7,N-=7}if(r.have+H>r.nlen+r.ndist){b.msg="invalid bit length repeat",r.mode=30;break}for(;H--;)r.lens[r.have++]=e}}if(30===r.mode)break;if(0===r.lens[256]){b.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,q=v(1,r.lens,0,r.nlen,r.lencode,0,r.work,U={bits:r.lenbits}),r.lenbits=U.bits,q){b.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,q=v(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,U={bits:r.distbits}),r.distbits=U.bits,q){b.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===j)break t;case 20:r.mode=21;case 21:if(6<=M&&258<=it){b.next_out=ot,b.avail_out=it,b.next_in=P,b.avail_in=M,r.hold=E,r.bits=N,o(b,X),ot=b.next_out,st=b.output,it=b.avail_out,P=b.next_in,F=b.input,M=b.avail_in,E=r.hold,N=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;ct=(l=r.lencode[E&(1<<r.lenbits)-1])>>>16&255,_t=65535&l,!((dt=l>>>24)<=N);){if(0===M)break t;M--,E+=F[P++]<<N,N+=8}if(ct&&!(240&ct)){for(ft=dt,yt=ct,wt=_t;ct=(l=r.lencode[wt+((E&(1<<ft+yt)-1)>>ft)])>>>16&255,_t=65535&l,!(ft+(dt=l>>>24)<=N);){if(0===M)break t;M--,E+=F[P++]<<N,N+=8}E>>>=ft,N-=ft,r.back+=ft}if(E>>>=dt,N-=dt,r.back+=dt,r.length=_t,0===ct){r.mode=26;break}if(32&ct){r.back=-1,r.mode=12;break}if(64&ct){b.msg="invalid literal/length code",r.mode=30;break}r.extra=15&ct,r.mode=22;case 22:if(r.extra){for(f=r.extra;N<f;){if(0===M)break t;M--,E+=F[P++]<<N,N+=8}r.length+=E&(1<<r.extra)-1,E>>>=r.extra,N-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;ct=(l=r.distcode[E&(1<<r.distbits)-1])>>>16&255,_t=65535&l,!((dt=l>>>24)<=N);){if(0===M)break t;M--,E+=F[P++]<<N,N+=8}if(!(240&ct)){for(ft=dt,yt=ct,wt=_t;ct=(l=r.distcode[wt+((E&(1<<ft+yt)-1)>>ft)])>>>16&255,_t=65535&l,!(ft+(dt=l>>>24)<=N);){if(0===M)break t;M--,E+=F[P++]<<N,N+=8}E>>>=ft,N-=ft,r.back+=ft}if(E>>>=dt,N-=dt,r.back+=dt,64&ct){b.msg="invalid distance code",r.mode=30;break}r.offset=_t,r.extra=15&ct,r.mode=24;case 24:if(r.extra){for(f=r.extra;N<f;){if(0===M)break t;M--,E+=F[P++]<<N,N+=8}r.offset+=E&(1<<r.extra)-1,E>>>=r.extra,N-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){b.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===it)break t;if(r.offset>(H=X-it)){if((H=r.offset-H)>r.whave&&r.sane){b.msg="invalid distance too far back",r.mode=30;break}ht=H>r.wnext?r.wsize-(H-=r.wnext):r.wnext-H,H>r.length&&(H=r.length),gt=r.window}else gt=st,ht=ot-r.offset,H=r.length;for(it<H&&(H=it),it-=H,r.length-=H;st[ot++]=gt[ht++],--H;);0===r.length&&(r.mode=21);break;case 26:if(0===it)break t;st[ot++]=r.length,it--,r.mode=21;break;case 27:if(r.wrap){for(;N<32;){if(0===M)break t;M--,E|=F[P++]<<N,N+=8}if(b.total_out+=X-=it,r.total+=X,X&&(b.adler=r.check=r.flags?i(r.check,st,X,ot-X):c(r.check,st,X,ot-X)),X=it,(r.flags?E:d(E))!==r.check){b.msg="incorrect data check",r.mode=30;break}N=E=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;N<32;){if(0===M)break t;M--,E+=F[P++]<<N,N+=8}if(E!==(4294967295&r.total)){b.msg="incorrect length check",r.mode=30;break}N=E=0}r.mode=29;case 29:q=1;break t;case 30:q=-3;break t;case 31:return-4;default:return a}return b.next_out=ot,b.avail_out=it,b.next_in=P,b.avail_in=M,r.hold=E,r.bits=N,(r.wsize||X!==b.avail_out&&r.mode<30&&(r.mode<27||4!==j))&&rt(b,b.output,b.next_out,X-b.avail_out)?(r.mode=31,-4):(X-=b.avail_out,b.total_in+=nt-=b.avail_in,b.total_out+=X,r.total+=X,r.wrap&&X&&(b.adler=r.check=r.flags?i(r.check,st,X,b.next_out-X):c(r.check,st,X,b.next_out-X)),b.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==nt&&0===X||4===j)&&q===_&&(q=-5),q)},w.inflateEnd=function(b){if(!b||!b.state)return a;var j=b.state;return j.window&&(j.window=null),b.state=null,_},w.inflateGetHeader=function(b,j){var r;return b&&b.state&&2&(r=b.state).wrap?((r.head=j).done=!1,_):a},w.inflateSetDictionary=function(b,j){var r,F=j.length;return b&&b.state?0!==(r=b.state).wrap&&11!==r.mode?a:11===r.mode&&c(1,j,F,0)!==r.check?-3:rt(b,j,F,F)?(r.mode=31,-4):(r.havedict=1,_):a},w.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(S,z,w){"use strict";var u=S("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],v=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];z.exports=function(x,t,_,a,p,s,h,d){var m,y,T,C,J,O,L,B,W,rt=d.bits,b=0,j=0,r=0,F=0,st=0,P=0,ot=0,M=0,it=0,E=0,N=null,nt=0,X=new u.Buf16(16),H=new u.Buf16(16),ht=null,gt=0;for(b=0;b<=15;b++)X[b]=0;for(j=0;j<a;j++)X[t[_+j]]++;for(st=rt,F=15;1<=F&&0===X[F];F--);if(F<st&&(st=F),0===F)return p[s++]=20971520,p[s++]=20971520,d.bits=1,0;for(r=1;r<F&&0===X[r];r++);for(st<r&&(st=r),b=M=1;b<=15;b++)if(M<<=1,(M-=X[b])<0)return-1;if(0<M&&(0===x||1!==F))return-1;for(H[1]=0,b=1;b<15;b++)H[b+1]=H[b]+X[b];for(j=0;j<a;j++)0!==t[_+j]&&(h[H[t[_+j]]++]=j);if(O=0===x?(N=ht=h,19):1===x?(N=c,nt-=257,ht=i,gt-=257,256):(N=o,ht=v,-1),b=r,J=s,ot=j=E=0,T=-1,C=(it=1<<(P=st))-1,1===x&&852<it||2===x&&592<it)return 1;for(;;){for(L=b-ot,W=h[j]<O?(B=0,h[j]):h[j]>O?(B=ht[gt+h[j]],N[nt+h[j]]):(B=96,0),m=1<<b-ot,r=y=1<<P;p[J+(E>>ot)+(y-=m)]=L<<24|B<<16|W|0,0!==y;);for(m=1<<b-1;E&m;)m>>=1;if(0!==m?(E&=m-1,E+=m):E=0,j++,0==--X[b]){if(b===F)break;b=t[_+h[j]]}if(st<b&&(E&C)!==T){for(0===ot&&(ot=st),J+=r,M=1<<(P=b-ot);P+ot<F&&!((M-=X[P+ot])<=0);)P++,M<<=1;if(it+=1<<P,1===x&&852<it||2===x&&592<it)return 1;p[T=E&C]=st<<24|P<<16|J-s|0}}return 0!==E&&(p[J+E]=b-ot<<24|64<<16|0),d.bits=st,0}},{"../utils/common":41}],51:[function(S,z,w){"use strict";z.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(S,z,w){"use strict";var u=S("../utils/common");function o(l){for(var A=l.length;0<=--A;)l[A]=0}var t=256,_=286,a=30,h=15,d=16,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],rt=new Array(576);o(rt);var b=new Array(60);o(b);var j=new Array(512);o(j);var r=new Array(256);o(r);var F=new Array(29);o(F);var st,P,ot,M=new Array(a);function it(l,A,D,R,Z){this.static_tree=l,this.extra_bits=A,this.extra_base=D,this.elems=R,this.max_length=Z,this.has_stree=l&&l.length}function E(l,A){this.dyn_tree=l,this.max_code=0,this.stat_desc=A}function N(l){return l<256?j[l]:j[256+(l>>>7)]}function nt(l,A){l.pending_buf[l.pending++]=255&A,l.pending_buf[l.pending++]=A>>>8&255}function X(l,A,D){l.bi_valid>d-D?(l.bi_buf|=A<<l.bi_valid&65535,nt(l,l.bi_buf),l.bi_buf=A>>d-l.bi_valid,l.bi_valid+=D-d):(l.bi_buf|=A<<l.bi_valid&65535,l.bi_valid+=D)}function H(l,A,D){X(l,D[2*A],D[2*A+1])}function ht(l,A){for(var D=0;D|=1&l,l>>>=1,D<<=1,0<--A;);return D>>>1}function gt(l,A,D){var R,Z,G=new Array(h+1),tt=0;for(R=1;R<=h;R++)G[R]=tt=tt+D[R-1]<<1;for(Z=0;Z<=A;Z++){var Y=l[2*Z+1];0!==Y&&(l[2*Z]=ht(G[Y]++,Y))}}function dt(l){var A;for(A=0;A<_;A++)l.dyn_ltree[2*A]=0;for(A=0;A<a;A++)l.dyn_dtree[2*A]=0;for(A=0;A<19;A++)l.bl_tree[2*A]=0;l.dyn_ltree[512]=1,l.opt_len=l.static_len=0,l.last_lit=l.matches=0}function ct(l){8<l.bi_valid?nt(l,l.bi_buf):0<l.bi_valid&&(l.pending_buf[l.pending++]=l.bi_buf),l.bi_buf=0,l.bi_valid=0}function _t(l,A,D,R){var Z=2*A,G=2*D;return l[Z]<l[G]||l[Z]===l[G]&&R[A]<=R[D]}function ft(l,A,D){for(var R=l.heap[D],Z=D<<1;Z<=l.heap_len&&(Z<l.heap_len&&_t(A,l.heap[Z+1],l.heap[Z],l.depth)&&Z++,!_t(A,R,l.heap[Z],l.depth));)l.heap[D]=l.heap[Z],D=Z,Z<<=1;l.heap[D]=R}function yt(l,A,D){var R,Z,G,tt,Y=0;if(0!==l.last_lit)for(;R=l.pending_buf[l.d_buf+2*Y]<<8|l.pending_buf[l.d_buf+2*Y+1],Z=l.pending_buf[l.l_buf+Y],Y++,0===R?H(l,Z,A):(H(l,(G=r[Z])+t+1,A),0!==(tt=O[G])&&X(l,Z-=F[G],tt),H(l,G=N(--R),D),0!==(tt=L[G])&&X(l,R-=M[G],tt)),Y<l.last_lit;);H(l,256,A)}function wt(l,A){var D,R,Z,G=A.dyn_tree,tt=A.stat_desc.static_tree,Y=A.stat_desc.has_stree,et=A.stat_desc.elems,ut=-1;for(l.heap_len=0,l.heap_max=573,D=0;D<et;D++)0!==G[2*D]?(l.heap[++l.heap_len]=ut=D,l.depth[D]=0):G[2*D+1]=0;for(;l.heap_len<2;)G[2*(Z=l.heap[++l.heap_len]=ut<2?++ut:0)]=1,l.depth[Z]=0,l.opt_len--,Y&&(l.static_len-=tt[2*Z+1]);for(A.max_code=ut,D=l.heap_len>>1;1<=D;D--)ft(l,G,D);for(Z=et;D=l.heap[1],l.heap[1]=l.heap[l.heap_len--],ft(l,G,1),R=l.heap[1],l.heap[--l.heap_max]=D,l.heap[--l.heap_max]=R,G[2*Z]=G[2*D]+G[2*R],l.depth[Z]=(l.depth[D]>=l.depth[R]?l.depth[D]:l.depth[R])+1,G[2*D+1]=G[2*R+1]=Z,l.heap[1]=Z++,ft(l,G,1),2<=l.heap_len;);l.heap[--l.heap_max]=l.heap[1],function(lt,St){var Ct,xt,Tt,pt,It,Nt,At=St.dyn_tree,Et=St.max_code,Ot=St.stat_desc.static_tree,jt=St.stat_desc.has_stree,qt=St.stat_desc.extra_bits,Ut=St.stat_desc.extra_base,Zt=St.stat_desc.max_length,vt=0;for(pt=0;pt<=h;pt++)lt.bl_count[pt]=0;for(At[2*lt.heap[lt.heap_max]+1]=0,Ct=lt.heap_max+1;Ct<573;Ct++)Zt<(pt=At[2*At[2*(xt=lt.heap[Ct])+1]+1]+1)&&(pt=Zt,vt++),At[2*xt+1]=pt,Et<xt||(lt.bl_count[pt]++,It=0,Ut<=xt&&(It=qt[xt-Ut]),lt.opt_len+=(Nt=At[2*xt])*(pt+It),jt&&(lt.static_len+=Nt*(Ot[2*xt+1]+It)));if(0!==vt){do{for(pt=Zt-1;0===lt.bl_count[pt];)pt--;lt.bl_count[pt]--,lt.bl_count[pt+1]+=2,lt.bl_count[Zt]--,vt-=2}while(0<vt);for(pt=Zt;0!==pt;pt--)for(xt=lt.bl_count[pt];0!==xt;)Et<(Tt=lt.heap[--Ct])||(At[2*Tt+1]!==pt&&(lt.opt_len+=(pt-At[2*Tt+1])*At[2*Tt],At[2*Tt+1]=pt),xt--)}}(l,A),gt(G,ut,l.bl_count)}function e(l,A,D){var R,Z,G=-1,tt=A[1],Y=0,et=7,ut=4;for(0===tt&&(et=138,ut=3),A[2*(D+1)+1]=65535,R=0;R<=D;R++)Z=tt,tt=A[2*(R+1)+1],++Y<et&&Z===tt||(Y<ut?l.bl_tree[2*Z]+=Y:0!==Z?(Z!==G&&l.bl_tree[2*Z]++,l.bl_tree[32]++):Y<=10?l.bl_tree[34]++:l.bl_tree[36]++,G=Z,ut=(Y=0)===tt?(et=138,3):Z===tt?(et=6,3):(et=7,4))}function q(l,A,D){var R,Z,G=-1,tt=A[1],Y=0,et=7,ut=4;for(0===tt&&(et=138,ut=3),R=0;R<=D;R++)if(Z=tt,tt=A[2*(R+1)+1],!(++Y<et&&Z===tt)){if(Y<ut)for(;H(l,Z,l.bl_tree),0!=--Y;);else 0!==Z?(Z!==G&&(H(l,Z,l.bl_tree),Y--),H(l,16,l.bl_tree),X(l,Y-3,2)):Y<=10?(H(l,17,l.bl_tree),X(l,Y-3,3)):(H(l,18,l.bl_tree),X(l,Y-11,7));G=Z,ut=(Y=0)===tt?(et=138,3):Z===tt?(et=6,3):(et=7,4)}}o(M);var U=!1;function f(l,A,D,R){var Z,G,tt;X(l,0+(R?1:0),3),G=A,tt=D,ct(Z=l),nt(Z,tt),nt(Z,~tt),u.arraySet(Z.pending_buf,Z.window,G,tt,Z.pending),Z.pending+=tt}w._tr_init=function(l){U||(function(){var A,D,R,Z,G,tt=new Array(h+1);for(Z=R=0;Z<28;Z++)for(F[Z]=R,A=0;A<1<<O[Z];A++)r[R++]=Z;for(r[R-1]=Z,Z=G=0;Z<16;Z++)for(M[Z]=G,A=0;A<1<<L[Z];A++)j[G++]=Z;for(G>>=7;Z<a;Z++)for(M[Z]=G<<7,A=0;A<1<<L[Z]-7;A++)j[256+G++]=Z;for(D=0;D<=h;D++)tt[D]=0;for(A=0;A<=143;)rt[2*A+1]=8,A++,tt[8]++;for(;A<=255;)rt[2*A+1]=9,A++,tt[9]++;for(;A<=279;)rt[2*A+1]=7,A++,tt[7]++;for(;A<=287;)rt[2*A+1]=8,A++,tt[8]++;for(gt(rt,287,tt),A=0;A<a;A++)b[2*A+1]=5,b[2*A]=ht(A,5);st=new it(rt,O,257,_,h),P=new it(b,L,0,a,h),ot=new it(new Array(0),B,0,19,7)}(),U=!0),l.l_desc=new E(l.dyn_ltree,st),l.d_desc=new E(l.dyn_dtree,P),l.bl_desc=new E(l.bl_tree,ot),l.bi_buf=0,l.bi_valid=0,dt(l)},w._tr_stored_block=f,w._tr_flush_block=function(l,A,D,R){var Z,G,tt=0;0<l.level?(2===l.strm.data_type&&(l.strm.data_type=function(Y){var et,ut=4093624447;for(et=0;et<=31;et++,ut>>>=1)if(1&ut&&0!==Y.dyn_ltree[2*et])return 0;if(0!==Y.dyn_ltree[18]||0!==Y.dyn_ltree[20]||0!==Y.dyn_ltree[26])return 1;for(et=32;et<t;et++)if(0!==Y.dyn_ltree[2*et])return 1;return 0}(l)),wt(l,l.l_desc),wt(l,l.d_desc),tt=function(Y){var et;for(e(Y,Y.dyn_ltree,Y.l_desc.max_code),e(Y,Y.dyn_dtree,Y.d_desc.max_code),wt(Y,Y.bl_desc),et=18;3<=et&&0===Y.bl_tree[2*W[et]+1];et--);return Y.opt_len+=3*(et+1)+5+5+4,et}(l),(G=l.static_len+3+7>>>3)<=(Z=l.opt_len+3+7>>>3)&&(Z=G)):Z=G=D+5,D+4<=Z&&-1!==A?f(l,A,D,R):4===l.strategy||G===Z?(X(l,2+(R?1:0),3),yt(l,rt,b)):(X(l,4+(R?1:0),3),function(Y,et,ut,lt){var St;for(X(Y,et-257,5),X(Y,ut-1,5),X(Y,lt-4,4),St=0;St<lt;St++)X(Y,Y.bl_tree[2*W[St]+1],3);q(Y,Y.dyn_ltree,et-1),q(Y,Y.dyn_dtree,ut-1)}(l,l.l_desc.max_code+1,l.d_desc.max_code+1,tt+1),yt(l,l.dyn_ltree,l.dyn_dtree)),dt(l),R&&ct(l)},w._tr_tally=function(l,A,D){return l.pending_buf[l.d_buf+2*l.last_lit]=A>>>8&255,l.pending_buf[l.d_buf+2*l.last_lit+1]=255&A,l.pending_buf[l.l_buf+l.last_lit]=255&D,l.last_lit++,0===A?l.dyn_ltree[2*D]++:(l.matches++,A--,l.dyn_ltree[2*(r[D]+t+1)]++,l.dyn_dtree[2*N(A)]++),l.last_lit===l.lit_bufsize-1},w._tr_align=function(l){var A;X(l,2,3),H(l,256,rt),16===(A=l).bi_valid?(nt(A,A.bi_buf),A.bi_buf=0,A.bi_valid=0):8<=A.bi_valid&&(A.pending_buf[A.pending++]=255&A.bi_buf,A.bi_buf>>=8,A.bi_valid-=8)}},{"../utils/common":41}],53:[function(S,z,w){"use strict";z.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(S,z,w){(function(u){!function(c,i){"use strict";if(!c.setImmediate){var o,v,x,t,_=1,a={},p=!1,s=c.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(c);h=h&&h.setTimeout?h:c,o="[object process]"==={}.toString.call(c.process)?function(T){process.nextTick(function(){m(T)})}:function(){if(c.postMessage&&!c.importScripts){var T=!0,C=c.onmessage;return c.onmessage=function(){T=!1},c.postMessage("","*"),c.onmessage=C,T}}()?(t="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",y,!1):c.attachEvent("onmessage",y),function(T){c.postMessage(t+T,"*")}):c.MessageChannel?((x=new MessageChannel).port1.onmessage=function(T){m(T.data)},function(T){x.port2.postMessage(T)}):s&&"onreadystatechange"in s.createElement("script")?(v=s.documentElement,function(T){var C=s.createElement("script");C.onreadystatechange=function(){m(T),C.onreadystatechange=null,v.removeChild(C),C=null},v.appendChild(C)}):function(T){setTimeout(m,0,T)},h.setImmediate=function(T){"function"!=typeof T&&(T=new Function(""+T));for(var C=new Array(arguments.length-1),J=0;J<C.length;J++)C[J]=arguments[J+1];return a[_]={callback:T,args:C},o(_),_++},h.clearImmediate=d}function d(T){delete a[T]}function m(T){if(p)setTimeout(m,0,T);else{var C=a[T];if(C){p=!0;try{!function(J){var O=J.callback,L=J.args;switch(L.length){case 0:O();break;case 1:O(L[0]);break;case 2:O(L[0],L[1]);break;case 3:O(L[0],L[1],L[2]);break;default:O.apply(i,L)}}(C)}finally{d(T),p=!1}}}}function y(T){T.source===c&&"string"==typeof T.data&&0===T.data.indexOf(t)&&m(+T.data.slice(t.length))}}(typeof self>"u"?void 0===u?this:u:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}}]);